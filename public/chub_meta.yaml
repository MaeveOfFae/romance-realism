# All of these fields are optional, as is this file itself,
#   in which case these values can be managed in the UI.

# The name of the stage.
project_name: "Romance Realism Pack"

# A short tagline to show in search.
tagline: "Invisible guardrails for slow-burn romance RP"

# 'PUBLIC', 'PRIVATE', or 'UNLISTED'.
visibility: 'PUBLIC'

# 'ADJACENT' | 'NONE' | 'COVER' | 'FULLSCREEN'
# 'NONE' indicates this stage runs in the background with no UI.
position: 'ADJACENT'

# Self-explanatory.
tags:
  - 'romance'
  - 'realism'
  - 'slow-burn'
  - 'roleplay'

# The schema of any user-supplied config.
# If your stage requires a configuration but has no
#   defined schema, it won't work.
config_schema:
  type: object
  properties:
    enabled:
      type: boolean
      default: true
    strictness:
      type: integer
      minimum: 1
      maximum: 3
      default: 2
    memory_depth:
      type: integer
      minimum: 5
      maximum: 30
      default: 15
    ui_enabled:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Show notes inside the stage UI."
    ui_max_notes:
      type: integer
      minimum: 1
      maximum: 50
      default: 10
      description: "How many notes to keep in the stage UI feed."
    ui_show_status:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Show the status line (turn count / last response time)."
    ui_show_timestamps:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Show timestamps on each note."
    max_notes_per_20:
      type: integer
      minimum: -1
      maximum: 20
      default: -1
      description: "Override strictness throttle (max non-critical notes per ~20 turns). Applies to UI notes + prompt injection. Use -1 for auto."
    max_ui_notes_per_20:
      type: integer
      minimum: -1
      maximum: 20
      default: -1
      description: "Legacy alias of max_notes_per_20 (deprecated)."
    prompt_injection_enabled:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Inject selected guidance into the next message's system prompt (never into chat transcript)."
    prompt_injection_include_scene:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Include a compact scene summary in the injected system prompt when available."
    prompt_injection_max_parts:
      type: integer
      minimum: 1
      maximum: 6
      default: 3
      description: "Max guidance bullets injected into the next system prompt."
    prompt_injection_max_chars:
      type: integer
      minimum: 100
      maximum: 4000
      default: 900
      description: "Max characters for the injected system prompt."
    ui_debug_scoring:
      type: integer
      minimum: 0
      maximum: 1
      default: 0
      description: "Show an 'Explain scoring' panel in the notes UI (dev/tuning aid)."
    ui_debug_max_candidates:
      type: integer
      minimum: 1
      maximum: 50
      default: 12
      description: "Max scored candidates shown in the debug panel."
    note_scene_summary:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Emit a compact scene summary note before prompts (when scene state exists)."
    note_emotion_delta:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Emit emotional whiplash notes (abrupt tone/intensity deltas)."
    note_phase:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Track relationship phase and warn when it seems to jump ahead."
    note_proximity:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Track proximity and warn on skipped setup (Distant â†’ Touching/Intimate, etc.)."
    note_consent:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Flag consent/agency issues (forced actions, internal monologue assignment, etc.)."
    note_subtext:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Emit subtext notes (hesitation, avoidance, guarded interest, fear of rejection)."
    note_silence:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Interpret silence/pause/non-committal replies and optionally emit a note."
    note_drift:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Detect stagnation in phase/emotion and suggest gentle narrative pressure."
    note_scar_recall:
      type: integer
      minimum: 0
      maximum: 1
      default: 1
      description: "Occasionally recall the most recent memory scar as a continuity nudge."
    tune_phase_weight_threshold:
      anyOf:
        - type: integer
          minimum: 1
          maximum: 20
        - type: "null"
      default: null
      description: "Override phase advancement weight threshold (null = strictness default)."
    tune_delta_score_threshold:
      anyOf:
        - type: integer
          minimum: 0
          maximum: 20
        - type: "null"
      default: null
      description: "Override emotion-delta (whiplash) score threshold (null = strictness default)."
    tune_ui_note_parts:
      anyOf:
        - type: integer
          minimum: 1
          maximum: 6
        - type: "null"
      default: null
      description: "Override max merged note parts in one UI note (null = strictness default)."
  additionalProperties: true

# The schema of the state that you store.
# This isn't needed even if you do store state,
#   and is here more for future use cases to
#   optimize storage.
state_schema:
  init:
    type: object
  message:
    type: object
  chat:
    type: object
  additionalProperties: true

# Whether to publish as 'Anonymous' instead of under your username.
# is_anonymous: false

# Self-explanatory.
# ratings_disabled: false

# This is here for future cases where ex. you need user secrets,
#    but currently does nothing.
# permissions:

# extension_id is automatically generated on push with a new project;
#    you should not make or set this value.
# github_path will be added if it does not exist. It is the URL of the repo.


github_path: 'https://github.com/MaeveOfFae/romance-realism'


extension_id: 'romance-realism-a24837dc9da4'
