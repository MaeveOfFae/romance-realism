var _0=Object.defineProperty;var w0=(t,e,r)=>e in t?_0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var St=(t,e,r)=>(w0(t,typeof e!="symbol"?e+"":e,r),r),$f=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var le=(t,e,r)=>($f(t,e,"read from private field"),r?r.call(t):e.get(t)),Xr=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},es=(t,e,r,a)=>($f(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r);import am from"ajv/dist/compile/codegen";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sm={exports:{}},Go={},im={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=Symbol.for("react.element"),E0=Symbol.for("react.portal"),k0=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),b0=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),If=Symbol.iterator;function C0(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lm=Object.assign,um={};function Ha(t,e,r){this.props=t,this.context=e,this.refs=um,this.updater=r||om}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cm(){}cm.prototype=Ha.prototype;function zc(t,e,r){this.props=t,this.context=e,this.refs=um,this.updater=r||om}var Ac=zc.prototype=new cm;Ac.constructor=zc;lm(Ac,Ha.prototype);Ac.isPureReactComponent=!0;var bf=Array.isArray,dm=Object.prototype.hasOwnProperty,Dc={current:null},fm={key:!0,ref:!0,__self:!0,__source:!0};function hm(t,e,r){var a,n={},s=null,i=null;if(e!=null)for(a in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)dm.call(e,a)&&!fm.hasOwnProperty(a)&&(n[a]=e[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Js,type:t,key:s,ref:i,props:n,_owner:Dc.current}}function N0(t,e){return{$$typeof:Js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Js}function z0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Of=/\/+/g;function Tl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z0(""+t.key):e.toString(36)}function Vi(t,e,r,a,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Js:case E0:i=!0}}if(i)return i=t,n=n(i),t=a===""?"."+Tl(i,0):a,bf(n)?(r="",t!=null&&(r=t.replace(Of,"$&/")+"/"),Vi(n,e,r,"",function(u){return u})):n!=null&&(jc(n)&&(n=N0(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Of,"$&/")+"/")+t)),e.push(n)),1;if(i=0,a=a===""?".":a+":",bf(t))for(var o=0;o<t.length;o++){s=t[o];var l=a+Tl(s,o);i+=Vi(s,e,r,l,n)}else if(l=C0(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=a+Tl(s,o++),i+=Vi(s,e,r,l,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function gi(t,e,r){if(t==null)return t;var a=[],n=0;return Vi(t,a,"","",function(s){return e.call(r,s,n++)}),a}function A0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Hi={transition:null},D0={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Hi,ReactCurrentOwner:Dc};function pm(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:gi,forEach:function(t,e,r){gi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gi(t,function(){e++}),e},toArray:function(t){return gi(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ha;ce.Fragment=k0;ce.Profiler=x0;ce.PureComponent=zc;ce.StrictMode=P0;ce.Suspense=I0;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D0;ce.act=pm;ce.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=lm({},t.props),n=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Dc.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)dm.call(e,l)&&!fm.hasOwnProperty(l)&&(a[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:Js,type:t.type,key:n,ref:s,props:a,_owner:i}};ce.createContext=function(t){return t={$$typeof:R0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T0,_context:t},t.Consumer=t};ce.createElement=hm;ce.createFactory=function(t){var e=hm.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:$0,render:t}};ce.isValidElement=jc;ce.lazy=function(t){return{$$typeof:O0,_payload:{_status:-1,_result:t},_init:A0}};ce.memo=function(t,e){return{$$typeof:b0,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Hi.transition;Hi.transition={};try{t()}finally{Hi.transition=e}};ce.unstable_act=pm;ce.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ce.useContext=function(t){return Ot.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ce.useId=function(){return Ot.current.useId()};ce.useImperativeHandle=function(t,e,r){return Ot.current.useImperativeHandle(t,e,r)};ce.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ce.useReducer=function(t,e,r){return Ot.current.useReducer(t,e,r)};ce.useRef=function(t){return Ot.current.useRef(t)};ce.useState=function(t){return Ot.current.useState(t)};ce.useSyncExternalStore=function(t,e,r){return Ot.current.useSyncExternalStore(t,e,r)};ce.useTransition=function(){return Ot.current.useTransition()};ce.version="18.3.1";im.exports=ce;var Mn=im.exports;const un=Nc(Mn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=Mn,L0=Symbol.for("react.element"),F0=Symbol.for("react.fragment"),M0=Object.prototype.hasOwnProperty,Z0=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U0={key:!0,ref:!0,__self:!0,__source:!0};function mm(t,e,r){var a,n={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(a in e)M0.call(e,a)&&!U0.hasOwnProperty(a)&&(n[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)n[a]===void 0&&(n[a]=e[a]);return{$$typeof:L0,type:t,key:s,ref:i,props:n,_owner:Z0.current}}Go.Fragment=F0;Go.jsx=mm;Go.jsxs=mm;sm.exports=Go;var ao=sm.exports,cu={},vm={exports:{}},Jt={},gm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var M=j.length;j.push(U);e:for(;0<M;){var ae=M-1>>>1,oe=j[ae];if(0<n(oe,U))j[ae]=U,j[M]=oe,M=ae;else break e}}function r(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var U=j[0],M=j.pop();if(M!==U){j[0]=M;e:for(var ae=0,oe=j.length,Ne=oe>>>1;ae<Ne;){var fe=2*(ae+1)-1,Vt=j[fe],Qe=fe+1,Pe=j[Qe];if(0>n(Vt,M))Qe<oe&&0>n(Pe,Vt)?(j[ae]=Pe,j[Qe]=M,ae=Qe):(j[ae]=Vt,j[fe]=M,ae=fe);else if(Qe<oe&&0>n(Pe,M))j[ae]=Pe,j[Qe]=M,ae=Qe;else break e}}return U}function n(j,U){var M=j.sortIndex-U.sortIndex;return M!==0?M:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var l=[],u=[],c=1,d=null,p=3,h=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var U=r(u);U!==null;){if(U.callback===null)a(u);else if(U.startTime<=j)a(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function S(j){if(y=!1,g(j),!m)if(r(l)!==null)m=!0,ne(P);else{var U=r(u);U!==null&&H(S,U.startTime-j)}}function P(j,U){m=!1,y&&(y=!1,f($),$=-1),h=!0;var M=p;try{for(g(U),d=r(l);d!==null&&(!(d.expirationTime>U)||j&&!A());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,p=d.priorityLevel;var oe=ae(d.expirationTime<=U);U=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(l)&&a(l),g(U)}else a(l);d=r(l)}if(d!==null)var Ne=!0;else{var fe=r(u);fe!==null&&H(S,fe.startTime-U),Ne=!1}return Ne}finally{d=null,p=M,h=!1}}var x=!1,R=null,$=-1,z=5,L=-1;function A(){return!(t.unstable_now()-L<z)}function D(){if(R!==null){var j=t.unstable_now();L=j;var U=!0;try{U=R(!0,j)}finally{U?N():(x=!1,R=null)}}else x=!1}var N;if(typeof v=="function")N=function(){v(D)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,q=T.port2;T.port1.onmessage=D,N=function(){q.postMessage(null)}}else N=function(){_(D,0)};function ne(j){R=j,x||(x=!0,N())}function H(j,U){$=_(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,ne(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var M=p;p=U;try{return j()}finally{p=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=p;p=j;try{return U()}finally{p=M}},t.unstable_scheduleCallback=function(j,U,M){var ae=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ae+M:ae):M=ae,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=M+oe,j={id:c++,callback:U,priorityLevel:j,startTime:M,expirationTime:oe,sortIndex:-1},M>ae?(j.sortIndex=M,e(u,j),r(l)===null&&j===r(u)&&(y?(f($),$=-1):y=!0,H(S,M-ae))):(j.sortIndex=oe,e(l,j),m||h||(m=!0,ne(P))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var U=p;return function(){var M=p;p=U;try{return j.apply(this,arguments)}finally{p=M}}}})(ym);gm.exports=ym;var V0=gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=Mn,Kt=V0;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _m=new Set,bs={};function na(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(bs[t]=e,t=0;t<e.length;t++)_m.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=Object.prototype.hasOwnProperty,q0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cf={},Nf={};function B0(t){return du.call(Nf,t)?!0:du.call(Cf,t)?!1:q0.test(t)?Nf[t]=!0:(Cf[t]=!0,!1)}function Q0(t,e,r,a){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W0(t,e,r,a){if(e===null||typeof e>"u"||Q0(t,e,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,r,a,n,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Fc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lc,Fc);gt[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lc,Fc);gt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lc,Fc);gt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mc(t,e,r,a){var n=gt.hasOwnProperty(e)?gt[e]:null;(n!==null?n.type!==0:a||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W0(e,r,n,a)&&(r=null),a||n===null?B0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,e,r):t.setAttribute(e,r))))}var Kr=H0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yi=Symbol.for("react.element"),ca=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),Sm=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Em=Symbol.for("react.offscreen"),zf=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=zf&&t[zf]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Rl;function fs(t){if(Rl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rl=e&&e[1]||""}return`
`+Rl+t}var $l=!1;function Il(t,e){if(!t||$l)return"";$l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var a=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){a=u}t.call(e.prototype)}else{try{throw Error()}catch(u){a=u}t()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=a.stack.split(`
`),i=n.length-1,o=s.length-1;1<=i&&0<=o&&n[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==s[o]){var l=`
`+n[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=o);break}}}finally{$l=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fs(t):""}function K0(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=Il(t.type,!1),t;case 11:return t=Il(t.type.render,!1),t;case 1:return t=Il(t.type,!0),t;default:return""}}function mu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case ca:return"Portal";case fu:return"Profiler";case Zc:return"StrictMode";case hu:return"Suspense";case pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sm:return(t.displayName||"Context")+".Consumer";case wm:return(t._context.displayName||"Context")+".Provider";case Uc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vc:return e=t.displayName||null,e!==null?e:mu(t.type)||"Memo";case rn:e=t._payload,t=t._init;try{return mu(t(e))}catch{}}return null}function G0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(e);case 8:return e===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function En(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function km(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J0(t){var e=km(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _i(t){t._valueTracker||(t._valueTracker=J0(t))}function Pm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),a="";return t&&(a=km(t)?t.checked?"true":"false":t.value),t=a,t!==r?(e.setValue(t),!0):!1}function so(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vu(t,e){var r=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Af(t,e){var r=e.defaultValue==null?"":e.defaultValue,a=e.checked!=null?e.checked:e.defaultChecked;r=En(e.value!=null?e.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xm(t,e){e=e.checked,e!=null&&Mc(t,"checked",e,!1)}function gu(t,e){xm(t,e);var r=En(e.value),a=e.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yu(t,e.type,r):e.hasOwnProperty("defaultValue")&&yu(t,e.type,En(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Df(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var a=e.type;if(!(a!=="submit"&&a!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yu(t,e,r){(e!=="number"||so(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hs=Array.isArray;function xa(t,e,r,a){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+En(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function _u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(F(92));if(hs(r)){if(1<r.length)throw Error(F(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:En(r)}}function Tm(t,e){var r=En(e.value),a=En(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function Lf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wi,$m=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,a,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y0=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(t){Y0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_s[e]=_s[t]})});function Im(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_s.hasOwnProperty(t)&&_s[t]?(""+e).trim():e+"px"}function bm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Im(r,e[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var X0=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(t,e){if(e){if(X0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Eu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=null;function Hc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pu=null,Ta=null,Ra=null;function Ff(t){if(t=ei(t)){if(typeof Pu!="function")throw Error(F(280));var e=t.stateNode;e&&(e=tl(e),Pu(t.stateNode,t.type,e))}}function Om(t){Ta?Ra?Ra.push(t):Ra=[t]:Ta=t}function Cm(){if(Ta){var t=Ta,e=Ra;if(Ra=Ta=null,Ff(t),e)for(t=0;t<e.length;t++)Ff(e[t])}}function Nm(t,e){return t(e)}function zm(){}var bl=!1;function Am(t,e,r){if(bl)return t(e,r);bl=!0;try{return Nm(t,e,r)}finally{bl=!1,(Ta!==null||Ra!==null)&&(zm(),Cm())}}function Cs(t,e){var r=t.stateNode;if(r===null)return null;var a=tl(r);if(a===null)return null;r=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(F(231,e,typeof r));return r}var xu=!1;if(Hr)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){xu=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{xu=!1}function e_(t,e,r,a,n,s,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ws=!1,io=null,oo=!1,Tu=null,t_={onError:function(t){ws=!0,io=t}};function r_(t,e,r,a,n,s,i,o,l){ws=!1,io=null,e_.apply(t_,arguments)}function n_(t,e,r,a,n,s,i,o,l){if(r_.apply(this,arguments),ws){if(ws){var u=io;ws=!1,io=null}else throw Error(F(198));oo||(oo=!0,Tu=u)}}function aa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mf(t){if(aa(t)!==t)throw Error(F(188))}function a_(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(F(188));return e!==t?null:t}for(var r=t,a=e;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return Mf(n),t;if(s===a)return Mf(n),e;s=s.sibling}throw Error(F(188))}if(r.return!==a.return)r=n,a=s;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=s;break}if(o===a){i=!0,a=n,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,a=n;break}if(o===a){i=!0,a=s,r=n;break}o=o.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==a)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?t:e}function jm(t){return t=a_(t),t!==null?Lm(t):null}function Lm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lm(t);if(e!==null)return e;t=t.sibling}return null}var Fm=Kt.unstable_scheduleCallback,Zf=Kt.unstable_cancelCallback,s_=Kt.unstable_shouldYield,i_=Kt.unstable_requestPaint,Xe=Kt.unstable_now,o_=Kt.unstable_getCurrentPriorityLevel,qc=Kt.unstable_ImmediatePriority,Mm=Kt.unstable_UserBlockingPriority,lo=Kt.unstable_NormalPriority,l_=Kt.unstable_LowPriority,Zm=Kt.unstable_IdlePriority,Jo=null,Or=null;function u_(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Jo,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:f_,c_=Math.log,d_=Math.LN2;function f_(t){return t>>>=0,t===0?32:31-(c_(t)/d_|0)|0}var Si=64,Ei=4194304;function ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uo(t,e){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=ps(o):(s&=i,s!==0&&(a=ps(s)))}else i=r&~n,i!==0?a=ps(i):s!==0&&(a=ps(s));if(a===0)return 0;if(e!==0&&e!==a&&!(e&n)&&(n=a&-a,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(a&4&&(a|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=a;0<e;)r=31-_r(e),n=1<<r,a|=t[r],e&=~n;return a}function h_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(t,e){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-_r(s),o=1<<i,l=n[i];l===-1?(!(o&r)||o&a)&&(n[i]=h_(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Um(){var t=Si;return Si<<=1,!(Si&4194240)&&(Si=64),t}function Ol(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ys(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=r}function m_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-_r(r),s=1<<n;e[n]=0,a[n]=-1,t[n]=-1,r&=~s}}function Bc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var a=31-_r(r),n=1<<a;n&e|t[a]&e&&(t[a]|=e),r&=~n}}var Se=0;function Vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hm,Qc,qm,Bm,Qm,$u=!1,ki=[],hn=null,pn=null,mn=null,Ns=new Map,zs=new Map,sn=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uf(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(e.pointerId)}}function ns(t,e,r,a,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},e!==null&&(e=ei(e),e!==null&&Qc(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function g_(t,e,r,a,n){switch(e){case"focusin":return hn=ns(hn,t,e,r,a,n),!0;case"dragenter":return pn=ns(pn,t,e,r,a,n),!0;case"mouseover":return mn=ns(mn,t,e,r,a,n),!0;case"pointerover":var s=n.pointerId;return Ns.set(s,ns(Ns.get(s)||null,t,e,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,zs.set(s,ns(zs.get(s)||null,t,e,r,a,n)),!0}return!1}function Wm(t){var e=Zn(t.target);if(e!==null){var r=aa(e);if(r!==null){if(e=r.tag,e===13){if(e=Dm(r),e!==null){t.blockedOn=e,Qm(t.priority,function(){qm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);ku=a,r.target.dispatchEvent(a),ku=null}else return e=ei(r),e!==null&&Qc(e),t.blockedOn=r,!1;e.shift()}return!0}function Vf(t,e,r){qi(t)&&r.delete(e)}function y_(){$u=!1,hn!==null&&qi(hn)&&(hn=null),pn!==null&&qi(pn)&&(pn=null),mn!==null&&qi(mn)&&(mn=null),Ns.forEach(Vf),zs.forEach(Vf)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,$u||($u=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,y_)))}function As(t){function e(n){return as(n,t)}if(0<ki.length){as(ki[0],t);for(var r=1;r<ki.length;r++){var a=ki[r];a.blockedOn===t&&(a.blockedOn=null)}}for(hn!==null&&as(hn,t),pn!==null&&as(pn,t),mn!==null&&as(mn,t),Ns.forEach(e),zs.forEach(e),r=0;r<sn.length;r++)a=sn[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<sn.length&&(r=sn[0],r.blockedOn===null);)Wm(r),r.blockedOn===null&&sn.shift()}var $a=Kr.ReactCurrentBatchConfig,co=!0;function __(t,e,r,a){var n=Se,s=$a.transition;$a.transition=null;try{Se=1,Wc(t,e,r,a)}finally{Se=n,$a.transition=s}}function w_(t,e,r,a){var n=Se,s=$a.transition;$a.transition=null;try{Se=4,Wc(t,e,r,a)}finally{Se=n,$a.transition=s}}function Wc(t,e,r,a){if(co){var n=Iu(t,e,r,a);if(n===null)Zl(t,e,a,fo,r),Uf(t,a);else if(g_(n,t,e,r,a))a.stopPropagation();else if(Uf(t,a),e&4&&-1<v_.indexOf(t)){for(;n!==null;){var s=ei(n);if(s!==null&&Hm(s),s=Iu(t,e,r,a),s===null&&Zl(t,e,a,fo,r),s===n)break;n=s}n!==null&&a.stopPropagation()}else Zl(t,e,a,null,r)}}var fo=null;function Iu(t,e,r,a){if(fo=null,t=Hc(a),t=Zn(t),t!==null)if(e=aa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fo=t,null}function Km(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case qc:return 1;case Mm:return 4;case lo:case l_:return 16;case Zm:return 536870912;default:return 16}default:return 16}}var cn=null,Kc=null,Bi=null;function Gm(){if(Bi)return Bi;var t,e=Kc,r=e.length,a,n="value"in cn?cn.value:cn.textContent,s=n.length;for(t=0;t<r&&e[t]===n[t];t++);var i=r-t;for(a=1;a<=i&&e[r-a]===n[s-a];a++);return Bi=n.slice(t,1<a?1-a:void 0)}function Qi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Hf(){return!1}function Yt(t){function e(r,a,n,s,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pi:Hf,this.isPropagationStopped=Hf,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),e}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=Yt(qa),Xs=He({},qa,{view:0,detail:0}),S_=Yt(Xs),Cl,Nl,ss,Yo=He({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(Cl=t.screenX-ss.screenX,Nl=t.screenY-ss.screenY):Nl=Cl=0,ss=t),Cl)},movementY:function(t){return"movementY"in t?t.movementY:Nl}}),qf=Yt(Yo),E_=He({},Yo,{dataTransfer:0}),k_=Yt(E_),P_=He({},Xs,{relatedTarget:0}),zl=Yt(P_),x_=He({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),T_=Yt(x_),R_=He({},qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$_=Yt(R_),I_=He({},qa,{data:0}),Bf=Yt(I_),b_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C_[t])?!!e[t]:!1}function Jc(){return N_}var z_=He({},Xs,{key:function(t){if(t.key){var e=b_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A_=Yt(z_),D_=He({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Yt(D_),j_=He({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),L_=Yt(j_),F_=He({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),M_=Yt(F_),Z_=He({},Yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=Yt(Z_),V_=[9,13,27,32],Yc=Hr&&"CompositionEvent"in window,Ss=null;Hr&&"documentMode"in document&&(Ss=document.documentMode);var H_=Hr&&"TextEvent"in window&&!Ss,Jm=Hr&&(!Yc||Ss&&8<Ss&&11>=Ss),Wf=" ",Kf=!1;function Ym(t,e){switch(t){case"keyup":return V_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function q_(t,e){switch(t){case"compositionend":return Xm(e);case"keypress":return e.which!==32?null:(Kf=!0,Wf);case"textInput":return t=e.data,t===Wf&&Kf?null:t;default:return null}}function B_(t,e){if(fa)return t==="compositionend"||!Yc&&Ym(t,e)?(t=Gm(),Bi=Kc=cn=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jm&&e.locale!=="ko"?null:e.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q_[t.type]:e==="textarea"}function ev(t,e,r,a){Om(a),e=ho(e,"onChange"),0<e.length&&(r=new Gc("onChange","change",null,r,a),t.push({event:r,listeners:e}))}var Es=null,Ds=null;function W_(t){dv(t,0)}function Xo(t){var e=ma(t);if(Pm(e))return t}function K_(t,e){if(t==="change")return e}var tv=!1;if(Hr){var Al;if(Hr){var Dl="oninput"in document;if(!Dl){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Dl=typeof Jf.oninput=="function"}Al=Dl}else Al=!1;tv=Al&&(!document.documentMode||9<document.documentMode)}function Yf(){Es&&(Es.detachEvent("onpropertychange",rv),Ds=Es=null)}function rv(t){if(t.propertyName==="value"&&Xo(Ds)){var e=[];ev(e,Ds,t,Hc(t)),Am(W_,e)}}function G_(t,e,r){t==="focusin"?(Yf(),Es=e,Ds=r,Es.attachEvent("onpropertychange",rv)):t==="focusout"&&Yf()}function J_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(Ds)}function Y_(t,e){if(t==="click")return Xo(e)}function X_(t,e){if(t==="input"||t==="change")return Xo(e)}function e1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:e1;function js(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!du.call(e,n)||!Er(t[n],e[n]))return!1}return!0}function Xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eh(t,e){var r=Xf(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=e&&a>=e)return{node:r,offset:e-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xf(r)}}function nv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function av(){for(var t=window,e=so();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=so(t.document)}return e}function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t1(t){var e=av(),r=t.focusedElem,a=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nv(r.ownerDocument.documentElement,r)){if(a!==null&&Xc(r)){if(e=a.start,t=a.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=a.end===void 0?s:Math.min(a.end,n),!t.extend&&s>a&&(n=a,a=s,s=n),n=eh(r,s);var i=eh(r,a);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>a?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r1=Hr&&"documentMode"in document&&11>=document.documentMode,ha=null,bu=null,ks=null,Ou=!1;function th(t,e,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ou||ha==null||ha!==so(a)||(a=ha,"selectionStart"in a&&Xc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ks&&js(ks,a)||(ks=a,a=ho(bu,"onSelect"),0<a.length&&(e=new Gc("onSelect","select",null,e,r),t.push({event:e,listeners:a}),e.target=ha)))}function xi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var pa={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},jl={},sv={};Hr&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function el(t){if(jl[t])return jl[t];if(!pa[t])return t;var e=pa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sv)return jl[t]=e[r];return t}var iv=el("animationend"),ov=el("animationiteration"),lv=el("animationstart"),uv=el("transitionend"),cv=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){cv.set(t,e),na(e,[t])}for(var Ll=0;Ll<rh.length;Ll++){var Fl=rh[Ll],n1=Fl.toLowerCase(),a1=Fl[0].toUpperCase()+Fl.slice(1);$n(n1,"on"+a1)}$n(iv,"onAnimationEnd");$n(ov,"onAnimationIteration");$n(lv,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(uv,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function nh(t,e,r){var a=t.type||"unknown-event";t.currentTarget=r,n_(a,e,void 0,t),t.currentTarget=null}function dv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var s=void 0;if(e)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;nh(n,o,u),s=l}else for(i=0;i<a.length;i++){if(o=a[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;nh(n,o,u),s=l}}}if(oo)throw t=Tu,oo=!1,Tu=null,t}function be(t,e){var r=e[Du];r===void 0&&(r=e[Du]=new Set);var a=t+"__bubble";r.has(a)||(fv(e,t,2,!1),r.add(a))}function Ml(t,e,r){var a=0;e&&(a|=4),fv(r,t,a,e)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Ls(t){if(!t[Ti]){t[Ti]=!0,_m.forEach(function(r){r!=="selectionchange"&&(s1.has(r)||Ml(r,!1,t),Ml(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ti]||(e[Ti]=!0,Ml("selectionchange",!1,e))}}function fv(t,e,r,a){switch(Km(e)){case 1:var n=__;break;case 4:n=w_;break;default:n=Wc}r=n.bind(null,e,r,t),n=void 0,!xu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Zl(t,e,r,a,n){var s=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;i=i.return}for(;o!==null;){if(i=Zn(o),i===null)return;if(l=i.tag,l===5||l===6){a=s=i;continue e}o=o.parentNode}}a=a.return}Am(function(){var u=s,c=Hc(r),d=[];e:{var p=cv.get(t);if(p!==void 0){var h=Gc,m=t;switch(t){case"keypress":if(Qi(r)===0)break e;case"keydown":case"keyup":h=A_;break;case"focusin":m="focus",h=zl;break;case"focusout":m="blur",h=zl;break;case"beforeblur":case"afterblur":h=zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=L_;break;case iv:case ov:case lv:h=T_;break;case uv:h=M_;break;case"scroll":h=S_;break;case"wheel":h=U_;break;case"copy":case"cut":case"paste":h=$_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qf}var y=(e&4)!==0,_=!y&&t==="scroll",f=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,g;v!==null;){g=v;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,f!==null&&(S=Cs(v,f),S!=null&&y.push(Fs(v,S,g)))),_)break;v=v.return}0<y.length&&(p=new h(p,m,null,r,c),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==ku&&(m=r.relatedTarget||r.fromElement)&&(Zn(m)||m[qr]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=u,m=m?Zn(m):null,m!==null&&(_=aa(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=qf,S="onMouseLeave",f="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Qf,S="onPointerLeave",f="onPointerEnter",v="pointer"),_=h==null?p:ma(h),g=m==null?p:ma(m),p=new y(S,v+"leave",h,r,c),p.target=_,p.relatedTarget=g,S=null,Zn(c)===u&&(y=new y(f,v+"enter",m,r,c),y.target=g,y.relatedTarget=_,S=y),_=S,h&&m)t:{for(y=h,f=m,v=0,g=y;g;g=la(g))v++;for(g=0,S=f;S;S=la(S))g++;for(;0<v-g;)y=la(y),v--;for(;0<g-v;)f=la(f),g--;for(;v--;){if(y===f||f!==null&&y===f.alternate)break t;y=la(y),f=la(f)}y=null}else y=null;h!==null&&ah(d,p,h,y,!1),m!==null&&_!==null&&ah(d,_,m,y,!0)}}e:{if(p=u?ma(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var P=K_;else if(Gf(p))if(tv)P=X_;else{P=J_;var x=G_}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=Y_);if(P&&(P=P(t,u))){ev(d,P,r,c);break e}x&&x(t,p,u),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&yu(p,"number",p.value)}switch(x=u?ma(u):window,t){case"focusin":(Gf(x)||x.contentEditable==="true")&&(ha=x,bu=u,ks=null);break;case"focusout":ks=bu=ha=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,th(d,r,c);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":th(d,r,c)}var R;if(Yc)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else fa?Ym(t,r)&&($="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(Jm&&r.locale!=="ko"&&(fa||$!=="onCompositionStart"?$==="onCompositionEnd"&&fa&&(R=Gm()):(cn=c,Kc="value"in cn?cn.value:cn.textContent,fa=!0)),x=ho(u,$),0<x.length&&($=new Bf($,t,null,r,c),d.push({event:$,listeners:x}),R?$.data=R:(R=Xm(r),R!==null&&($.data=R)))),(R=H_?q_(t,r):B_(t,r))&&(u=ho(u,"onBeforeInput"),0<u.length&&(c=new Bf("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=R))}dv(d,e)})}function Fs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ho(t,e){for(var r=e+"Capture",a=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Cs(t,r),s!=null&&a.unshift(Fs(t,s,n)),s=Cs(t,e),s!=null&&a.push(Fs(t,s,n))),t=t.return}return a}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ah(t,e,r,a,n){for(var s=e._reactName,i=[];r!==null&&r!==a;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===a)break;o.tag===5&&u!==null&&(o=u,n?(l=Cs(r,s),l!=null&&i.unshift(Fs(r,l,o))):n||(l=Cs(r,s),l!=null&&i.push(Fs(r,l,o)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var i1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function sh(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(o1,"")}function Ri(t,e,r){if(e=sh(e),sh(t)!==e&&r)throw Error(F(425))}function po(){}var Cu=null,Nu=null;function zu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(t){return ih.resolve(null).then(t).catch(c1)}:Au;function c1(t){setTimeout(function(){throw t})}function Ul(t,e){var r=e,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),As(e);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);As(e)}function vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),br="__reactFiber$"+Ba,Ms="__reactProps$"+Ba,qr="__reactContainer$"+Ba,Du="__reactEvents$"+Ba,d1="__reactListeners$"+Ba,f1="__reactHandles$"+Ba;function Zn(t){var e=t[br];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qr]||r[br]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=oh(t);t!==null;){if(r=t[br])return r;t=oh(t)}return e}t=r,r=t.parentNode}return null}function ei(t){return t=t[br]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function tl(t){return t[Ms]||null}var ju=[],va=-1;function In(t){return{current:t}}function Oe(t){0>va||(t.current=ju[va],ju[va]=null,va--)}function Te(t,e){va++,ju[va]=t.current,t.current=e}var kn={},xt=In(kn),Lt=In(!1),Jn=kn;function Na(t,e){var r=t.type.contextTypes;if(!r)return kn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===e)return a.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=e[s];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Ft(t){return t=t.childContextTypes,t!=null}function mo(){Oe(Lt),Oe(xt)}function lh(t,e,r){if(xt.current!==kn)throw Error(F(168));Te(xt,e),Te(Lt,r)}function hv(t,e,r){var a=t.stateNode;if(e=e.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in e))throw Error(F(108,G0(t)||"Unknown",n));return He({},r,a)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kn,Jn=xt.current,Te(xt,t),Te(Lt,Lt.current),!0}function uh(t,e,r){var a=t.stateNode;if(!a)throw Error(F(169));r?(t=hv(t,e,Jn),a.__reactInternalMemoizedMergedChildContext=t,Oe(Lt),Oe(xt),Te(xt,t)):Oe(Lt),Te(Lt,r)}var Lr=null,rl=!1,Vl=!1;function pv(t){Lr===null?Lr=[t]:Lr.push(t)}function h1(t){rl=!0,pv(t)}function bn(){if(!Vl&&Lr!==null){Vl=!0;var t=0,e=Se;try{var r=Lr;for(Se=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}Lr=null,rl=!1}catch(n){throw Lr!==null&&(Lr=Lr.slice(t+1)),Fm(qc,bn),n}finally{Se=e,Vl=!1}}return null}var ga=[],ya=0,go=null,yo=0,nr=[],ar=0,Yn=null,Mr=1,Zr="";function jn(t,e){ga[ya++]=yo,ga[ya++]=go,go=t,yo=e}function mv(t,e,r){nr[ar++]=Mr,nr[ar++]=Zr,nr[ar++]=Yn,Yn=t;var a=Mr;t=Zr;var n=32-_r(a)-1;a&=~(1<<n),r+=1;var s=32-_r(e)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Mr=1<<32-_r(e)+n|r<<n|a,Zr=s+t}else Mr=1<<s|r<<n|a,Zr=t}function ed(t){t.return!==null&&(jn(t,1),mv(t,1,0))}function td(t){for(;t===go;)go=ga[--ya],ga[ya]=null,yo=ga[--ya],ga[ya]=null;for(;t===Yn;)Yn=nr[--ar],nr[ar]=null,Zr=nr[--ar],nr[ar]=null,Mr=nr[--ar],nr[ar]=null}var Wt=null,Qt=null,De=!1,yr=null;function vv(t,e){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ch(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Qt=vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yn!==null?{id:Mr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wt=t,Qt=null,!0):!1;default:return!1}}function Lu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fu(t){if(De){var e=Qt;if(e){var r=e;if(!ch(t,e)){if(Lu(t))throw Error(F(418));e=vn(r.nextSibling);var a=Wt;e&&ch(t,e)?vv(a,r):(t.flags=t.flags&-4097|2,De=!1,Wt=t)}}else{if(Lu(t))throw Error(F(418));t.flags=t.flags&-4097|2,De=!1,Wt=t}}}function dh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function $i(t){if(t!==Wt)return!1;if(!De)return dh(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zu(t.type,t.memoizedProps)),e&&(e=Qt)){if(Lu(t))throw gv(),Error(F(418));for(;e;)vv(t,e),e=vn(e.nextSibling)}if(dh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qt=vn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Wt?vn(t.stateNode.nextSibling):null;return!0}function gv(){for(var t=Qt;t;)t=vn(t.nextSibling)}function za(){Qt=Wt=null,De=!1}function rd(t){yr===null?yr=[t]:yr.push(t)}var p1=Kr.ReactCurrentBatchConfig;function is(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var a=r.stateNode}if(!a)throw Error(F(147,t));var n=a,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var o=n.refs;i===null?delete o[s]:o[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,t))}return t}function Ii(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fh(t){var e=t._init;return e(t._payload)}function yv(t){function e(f,v){if(t){var g=f.deletions;g===null?(f.deletions=[v],f.flags|=16):g.push(v)}}function r(f,v){if(!t)return null;for(;v!==null;)e(f,v),v=v.sibling;return null}function a(f,v){for(f=new Map;v!==null;)v.key!==null?f.set(v.key,v):f.set(v.index,v),v=v.sibling;return f}function n(f,v){return f=wn(f,v),f.index=0,f.sibling=null,f}function s(f,v,g){return f.index=g,t?(g=f.alternate,g!==null?(g=g.index,g<v?(f.flags|=2,v):g):(f.flags|=2,v)):(f.flags|=1048576,v)}function i(f){return t&&f.alternate===null&&(f.flags|=2),f}function o(f,v,g,S){return v===null||v.tag!==6?(v=Gl(g,f.mode,S),v.return=f,v):(v=n(v,g),v.return=f,v)}function l(f,v,g,S){var P=g.type;return P===da?c(f,v,g.props.children,S,g.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===rn&&fh(P)===v.type)?(S=n(v,g.props),S.ref=is(f,v,g),S.return=f,S):(S=eo(g.type,g.key,g.props,null,f.mode,S),S.ref=is(f,v,g),S.return=f,S)}function u(f,v,g,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Jl(g,f.mode,S),v.return=f,v):(v=n(v,g.children||[]),v.return=f,v)}function c(f,v,g,S,P){return v===null||v.tag!==7?(v=Kn(g,f.mode,S,P),v.return=f,v):(v=n(v,g),v.return=f,v)}function d(f,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Gl(""+v,f.mode,g),v.return=f,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yi:return g=eo(v.type,v.key,v.props,null,f.mode,g),g.ref=is(f,null,v),g.return=f,g;case ca:return v=Jl(v,f.mode,g),v.return=f,v;case rn:var S=v._init;return d(f,S(v._payload),g)}if(hs(v)||ts(v))return v=Kn(v,f.mode,g,null),v.return=f,v;Ii(f,v)}return null}function p(f,v,g,S){var P=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:o(f,v,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yi:return g.key===P?l(f,v,g,S):null;case ca:return g.key===P?u(f,v,g,S):null;case rn:return P=g._init,p(f,v,P(g._payload),S)}if(hs(g)||ts(g))return P!==null?null:c(f,v,g,S,null);Ii(f,g)}return null}function h(f,v,g,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(g)||null,o(v,f,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yi:return f=f.get(S.key===null?g:S.key)||null,l(v,f,S,P);case ca:return f=f.get(S.key===null?g:S.key)||null,u(v,f,S,P);case rn:var x=S._init;return h(f,v,g,x(S._payload),P)}if(hs(S)||ts(S))return f=f.get(g)||null,c(v,f,S,P,null);Ii(v,S)}return null}function m(f,v,g,S){for(var P=null,x=null,R=v,$=v=0,z=null;R!==null&&$<g.length;$++){R.index>$?(z=R,R=null):z=R.sibling;var L=p(f,R,g[$],S);if(L===null){R===null&&(R=z);break}t&&R&&L.alternate===null&&e(f,R),v=s(L,v,$),x===null?P=L:x.sibling=L,x=L,R=z}if($===g.length)return r(f,R),De&&jn(f,$),P;if(R===null){for(;$<g.length;$++)R=d(f,g[$],S),R!==null&&(v=s(R,v,$),x===null?P=R:x.sibling=R,x=R);return De&&jn(f,$),P}for(R=a(f,R);$<g.length;$++)z=h(R,f,$,g[$],S),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?$:z.key),v=s(z,v,$),x===null?P=z:x.sibling=z,x=z);return t&&R.forEach(function(A){return e(f,A)}),De&&jn(f,$),P}function y(f,v,g,S){var P=ts(g);if(typeof P!="function")throw Error(F(150));if(g=P.call(g),g==null)throw Error(F(151));for(var x=P=null,R=v,$=v=0,z=null,L=g.next();R!==null&&!L.done;$++,L=g.next()){R.index>$?(z=R,R=null):z=R.sibling;var A=p(f,R,L.value,S);if(A===null){R===null&&(R=z);break}t&&R&&A.alternate===null&&e(f,R),v=s(A,v,$),x===null?P=A:x.sibling=A,x=A,R=z}if(L.done)return r(f,R),De&&jn(f,$),P;if(R===null){for(;!L.done;$++,L=g.next())L=d(f,L.value,S),L!==null&&(v=s(L,v,$),x===null?P=L:x.sibling=L,x=L);return De&&jn(f,$),P}for(R=a(f,R);!L.done;$++,L=g.next())L=h(R,f,$,L.value,S),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?$:L.key),v=s(L,v,$),x===null?P=L:x.sibling=L,x=L);return t&&R.forEach(function(D){return e(f,D)}),De&&jn(f,$),P}function _(f,v,g,S){if(typeof g=="object"&&g!==null&&g.type===da&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case yi:e:{for(var P=g.key,x=v;x!==null;){if(x.key===P){if(P=g.type,P===da){if(x.tag===7){r(f,x.sibling),v=n(x,g.props.children),v.return=f,f=v;break e}}else if(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===rn&&fh(P)===x.type){r(f,x.sibling),v=n(x,g.props),v.ref=is(f,x,g),v.return=f,f=v;break e}r(f,x);break}else e(f,x);x=x.sibling}g.type===da?(v=Kn(g.props.children,f.mode,S,g.key),v.return=f,f=v):(S=eo(g.type,g.key,g.props,null,f.mode,S),S.ref=is(f,v,g),S.return=f,f=S)}return i(f);case ca:e:{for(x=g.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(f,v.sibling),v=n(v,g.children||[]),v.return=f,f=v;break e}else{r(f,v);break}else e(f,v);v=v.sibling}v=Jl(g,f.mode,S),v.return=f,f=v}return i(f);case rn:return x=g._init,_(f,v,x(g._payload),S)}if(hs(g))return m(f,v,g,S);if(ts(g))return y(f,v,g,S);Ii(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(f,v.sibling),v=n(v,g),v.return=f,f=v):(r(f,v),v=Gl(g,f.mode,S),v.return=f,f=v),i(f)):r(f,v)}return _}var Aa=yv(!0),_v=yv(!1),_o=In(null),wo=null,_a=null,nd=null;function ad(){nd=_a=wo=null}function sd(t){var e=_o.current;Oe(_o),t._currentValue=e}function Mu(t,e,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===r)break;t=t.return}}function Ia(t,e){wo=t,nd=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(nd!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(wo===null)throw Error(F(308));_a=t,wo.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var Un=null;function id(t){Un===null?Un=[t]:Un.push(t)}function wv(t,e,r,a){var n=e.interleaved;return n===null?(r.next=r,id(e)):(r.next=n.next,n.next=r),e.interleaved=r,Br(t,a)}function Br(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var nn=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var n=a.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),a.pending=e,Br(t,r)}return n=a.interleaved,n===null?(e.next=e,id(a)):(e.next=n.next,n.next=e),a.interleaved=e,Br(t,r)}function Wi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,Bc(t,r)}}function hh(t,e){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?n=s=e:s=s.next=e}else n=s=e;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function So(t,e,r,a){var n=t.updateQueue;nn=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==i&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=n.baseState;i=0,c=u=l=null,o=s;do{var p=o.lane,h=o.eventTime;if((a&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(p=e,h=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=He({},d,p);break e;case 2:nn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=n.effects,p===null?n.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,i|=p;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;p=o,o=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);if(c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do i|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);ea|=i,t.lanes=i,t.memoizedState=d}}function ph(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var a=t[e],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(F(191,n));n.call(a)}}}var ti={},Cr=In(ti),Zs=In(ti),Us=In(ti);function Vn(t){if(t===ti)throw Error(F(174));return t}function ld(t,e){switch(Te(Us,e),Te(Zs,t),Te(Cr,ti),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wu(e,t)}Oe(Cr),Te(Cr,e)}function Da(){Oe(Cr),Oe(Zs),Oe(Us)}function Ev(t){Vn(Us.current);var e=Vn(Cr.current),r=wu(e,t.type);e!==r&&(Te(Zs,t),Te(Cr,r))}function ud(t){Zs.current===t&&(Oe(Cr),Oe(Zs))}var Me=In(0);function Eo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hl=[];function cd(){for(var t=0;t<Hl.length;t++)Hl[t]._workInProgressVersionPrimary=null;Hl.length=0}var Ki=Kr.ReactCurrentDispatcher,ql=Kr.ReactCurrentBatchConfig,Xn=0,Ze=null,it=null,ut=null,ko=!1,Ps=!1,Vs=0,m1=0;function Et(){throw Error(F(321))}function dd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Er(t[r],e[r]))return!1;return!0}function fd(t,e,r,a,n,s){if(Xn=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ki.current=t===null||t.memoizedState===null?_1:w1,t=r(a,n),Ps){s=0;do{if(Ps=!1,Vs=0,25<=s)throw Error(F(301));s+=1,ut=it=null,e.updateQueue=null,Ki.current=S1,t=r(a,n)}while(Ps)}if(Ki.current=Po,e=it!==null&&it.next!==null,Xn=0,ut=it=Ze=null,ko=!1,e)throw Error(F(300));return t}function hd(){var t=Vs!==0;return Vs=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ze.memoizedState=ut=t:ut=ut.next=t,ut}function lr(){if(it===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?Ze.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(F(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ze.memoizedState=ut=t:ut=ut.next=t}return ut}function Hs(t,e){return typeof e=="function"?e(t):e}function Bl(t){var e=lr(),r=e.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=t;var a=it,n=a.baseQueue,s=r.pending;if(s!==null){if(n!==null){var i=n.next;n.next=s.next,s.next=i}a.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,a=a.baseState;var o=i=null,l=null,u=s;do{var c=u.lane;if((Xn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:t(a,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,i=a):l=l.next=d,Ze.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==s);l===null?i=a:l.next=o,Er(a,e.memoizedState)||(Dt=!0),e.memoizedState=a,e.baseState=i,e.baseQueue=l,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do s=n.lane,Ze.lanes|=s,ea|=s,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ql(t){var e=lr(),r=e.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,s=e.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do s=t(s,i.action),i=i.next;while(i!==n);Er(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,a]}function kv(){}function Pv(t,e){var r=Ze,a=lr(),n=e(),s=!Er(a.memoizedState,n);if(s&&(a.memoizedState=n,Dt=!0),a=a.queue,pd(Rv.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,qs(9,Tv.bind(null,r,a,n,e),void 0,null),ct===null)throw Error(F(349));Xn&30||xv(r,e,n)}return n}function xv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Tv(t,e,r,a){e.value=r,e.getSnapshot=a,$v(e)&&Iv(t)}function Rv(t,e,r){return r(function(){$v(e)&&Iv(t)})}function $v(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Er(t,r)}catch{return!0}}function Iv(t){var e=Br(t,1);e!==null&&wr(e,t,1,-1)}function mh(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},e.queue=t,t=t.dispatch=y1.bind(null,Ze,t),[e.memoizedState,t]}function qs(t,e,r,a){return t={tag:t,create:e,destroy:r,deps:a,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,e.lastEffect=t)),t}function bv(){return lr().memoizedState}function Gi(t,e,r,a){var n=Ir();Ze.flags|=t,n.memoizedState=qs(1|e,r,void 0,a===void 0?null:a)}function nl(t,e,r,a){var n=lr();a=a===void 0?null:a;var s=void 0;if(it!==null){var i=it.memoizedState;if(s=i.destroy,a!==null&&dd(a,i.deps)){n.memoizedState=qs(e,r,s,a);return}}Ze.flags|=t,n.memoizedState=qs(1|e,r,s,a)}function vh(t,e){return Gi(8390656,8,t,e)}function pd(t,e){return nl(2048,8,t,e)}function Ov(t,e){return nl(4,2,t,e)}function Cv(t,e){return nl(4,4,t,e)}function Nv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zv(t,e,r){return r=r!=null?r.concat([t]):null,nl(4,4,Nv.bind(null,e,t),r)}function md(){}function Av(t,e){var r=lr();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&dd(e,a[1])?a[0]:(r.memoizedState=[t,e],t)}function Dv(t,e){var r=lr();e=e===void 0?null:e;var a=r.memoizedState;return a!==null&&e!==null&&dd(e,a[1])?a[0]:(t=t(),r.memoizedState=[t,e],t)}function jv(t,e,r){return Xn&21?(Er(r,e)||(r=Um(),Ze.lanes|=r,ea|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=r)}function v1(t,e){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var a=ql.transition;ql.transition={};try{t(!1),e()}finally{Se=r,ql.transition=a}}function Lv(){return lr().memoizedState}function g1(t,e,r){var a=_n(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Fv(t))Mv(e,r);else if(r=wv(t,e,r,a),r!==null){var n=bt();wr(r,t,a,n),Zv(r,e,a)}}function y1(t,e,r){var a=_n(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fv(t))Mv(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,Er(o,i)){var l=e.interleaved;l===null?(n.next=n,id(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}r=wv(t,e,n,a),r!==null&&(n=bt(),wr(r,t,a,n),Zv(r,e,a))}}function Fv(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function Mv(t,e){Ps=ko=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zv(t,e,r){if(r&4194240){var a=e.lanes;a&=t.pendingLanes,r|=a,e.lanes=r,Bc(t,r)}}var Po={readContext:or,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},_1={readContext:or,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:vh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gi(4194308,4,Nv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gi(4,2,t,e)},useMemo:function(t,e){var r=Ir();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var a=Ir();return e=r!==void 0?r(e):e,a.memoizedState=a.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},a.queue=t,t=t.dispatch=g1.bind(null,Ze,t),[a.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:mh,useDebugValue:md,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=mh(!1),e=t[0];return t=v1.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var a=Ze,n=Ir();if(De){if(r===void 0)throw Error(F(407));r=r()}else{if(r=e(),ct===null)throw Error(F(349));Xn&30||xv(a,e,r)}n.memoizedState=r;var s={value:r,getSnapshot:e};return n.queue=s,vh(Rv.bind(null,a,s,t),[t]),a.flags|=2048,qs(9,Tv.bind(null,a,s,r,e),void 0,null),r},useId:function(){var t=Ir(),e=ct.identifierPrefix;if(De){var r=Zr,a=Mr;r=(a&~(1<<32-_r(a)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=m1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w1={readContext:or,useCallback:Av,useContext:or,useEffect:pd,useImperativeHandle:zv,useInsertionEffect:Ov,useLayoutEffect:Cv,useMemo:Dv,useReducer:Bl,useRef:bv,useState:function(){return Bl(Hs)},useDebugValue:md,useDeferredValue:function(t){var e=lr();return jv(e,it.memoizedState,t)},useTransition:function(){var t=Bl(Hs)[0],e=lr().memoizedState;return[t,e]},useMutableSource:kv,useSyncExternalStore:Pv,useId:Lv,unstable_isNewReconciler:!1},S1={readContext:or,useCallback:Av,useContext:or,useEffect:pd,useImperativeHandle:zv,useInsertionEffect:Ov,useLayoutEffect:Cv,useMemo:Dv,useReducer:Ql,useRef:bv,useState:function(){return Ql(Hs)},useDebugValue:md,useDeferredValue:function(t){var e=lr();return it===null?e.memoizedState=t:jv(e,it.memoizedState,t)},useTransition:function(){var t=Ql(Hs)[0],e=lr().memoizedState;return[t,e]},useMutableSource:kv,useSyncExternalStore:Pv,useId:Lv,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Zu(t,e,r,a){e=t.memoizedState,r=r(a,e),r=r==null?e:He({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var al={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var a=bt(),n=_n(t),s=Ur(a,n);s.payload=e,r!=null&&(s.callback=r),e=gn(t,s,n),e!==null&&(wr(e,t,n,a),Wi(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var a=bt(),n=_n(t),s=Ur(a,n);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=gn(t,s,n),e!==null&&(wr(e,t,n,a),Wi(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bt(),a=_n(t),n=Ur(r,a);n.tag=2,e!=null&&(n.callback=e),e=gn(t,n,a),e!==null&&(wr(e,t,a,r),Wi(e,t,a))}};function gh(t,e,r,a,n,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,i):e.prototype&&e.prototype.isPureReactComponent?!js(r,a)||!js(n,s):!0}function Uv(t,e,r){var a=!1,n=kn,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(n=Ft(e)?Jn:xt.current,a=e.contextTypes,s=(a=a!=null)?Na(t,n):kn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=al,t.stateNode=e,e._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function yh(t,e,r,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,a),e.state!==t&&al.enqueueReplaceState(e,e.state,null)}function Uu(t,e,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},od(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=or(s):(s=Ft(e)?Jn:xt.current,n.context=Na(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zu(t,e,s,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&al.enqueueReplaceState(n,n.state,null),So(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e){try{var r="",a=e;do r+=K0(a),a=a.return;while(a);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function Wl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Vu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var E1=typeof WeakMap=="function"?WeakMap:Map;function Vv(t,e,r){r=Ur(-1,r),r.tag=3,r.payload={element:null};var a=e.value;return r.callback=function(){To||(To=!0,Xu=a),Vu(t,e)},r}function Hv(t,e,r){r=Ur(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=e.value;r.payload=function(){return a(n)},r.callback=function(){Vu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Vu(t,e),typeof a!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function _h(t,e,r){var a=t.pingCache;if(a===null){a=t.pingCache=new E1;var n=new Set;a.set(e,n)}else n=a.get(e),n===void 0&&(n=new Set,a.set(e,n));n.has(r)||(n.add(r),t=D1.bind(null,t,e,r),e.then(t,t))}function wh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sh(t,e,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ur(-1,1),e.tag=2,gn(r,e,1))),r.lanes|=1),t)}var k1=Kr.ReactCurrentOwner,Dt=!1;function It(t,e,r,a){e.child=t===null?_v(e,null,r,a):Aa(e,t.child,r,a)}function Eh(t,e,r,a,n){r=r.render;var s=e.ref;return Ia(e,n),a=fd(t,e,r,a,s,n),r=hd(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Qr(t,e,n)):(De&&r&&ed(e),e.flags|=1,It(t,e,a,n),e.child)}function kh(t,e,r,a,n){if(t===null){var s=r.type;return typeof s=="function"&&!kd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,qv(t,e,s,a,n)):(t=eo(r.type,null,a,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:js,r(i,a)&&t.ref===e.ref)return Qr(t,e,n)}return e.flags|=1,t=wn(s,a),t.ref=e.ref,t.return=e,e.child=t}function qv(t,e,r,a,n){if(t!==null){var s=t.memoizedProps;if(js(s,a)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=a=s,(t.lanes&n)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,Qr(t,e,n)}return Hu(t,e,r,a,n)}function Bv(t,e,r){var a=e.pendingProps,n=a.children,s=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Sa,Bt),Bt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Sa,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:r,Te(Sa,Bt),Bt|=a}else s!==null?(a=s.baseLanes|r,e.memoizedState=null):a=r,Te(Sa,Bt),Bt|=a;return It(t,e,n,r),e.child}function Qv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Hu(t,e,r,a,n){var s=Ft(r)?Jn:xt.current;return s=Na(e,s),Ia(e,n),r=fd(t,e,r,a,s,n),a=hd(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Qr(t,e,n)):(De&&a&&ed(e),e.flags|=1,It(t,e,r,n),e.child)}function Ph(t,e,r,a,n){if(Ft(r)){var s=!0;vo(e)}else s=!1;if(Ia(e,n),e.stateNode===null)Ji(t,e),Uv(e,r,a),Uu(e,r,a,n),a=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=or(u):(u=Ft(r)?Jn:xt.current,u=Na(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||l!==u)&&yh(e,i,a,u),nn=!1;var p=e.memoizedState;i.state=p,So(e,a,i,n),l=e.memoizedState,o!==a||p!==l||Lt.current||nn?(typeof c=="function"&&(Zu(e,r,c,a),l=e.memoizedState),(o=nn||gh(e,r,o,a,p,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=l),i.props=a,i.state=l,i.context=u,a=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,Sv(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:vr(e.type,o),i.props=u,d=e.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Ft(r)?Jn:xt.current,l=Na(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||p!==l)&&yh(e,i,a,l),nn=!1,p=e.memoizedState,i.state=p,So(e,a,i,n);var m=e.memoizedState;o!==d||p!==m||Lt.current||nn?(typeof h=="function"&&(Zu(e,r,h,a),m=e.memoizedState),(u=nn||gh(e,r,u,a,p,m,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,m,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=m),i.props=a,i.state=m,i.context=l,a=u):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),a=!1)}return qu(t,e,r,a,s,n)}function qu(t,e,r,a,n,s){Qv(t,e);var i=(e.flags&128)!==0;if(!a&&!i)return n&&uh(e,r,!1),Qr(t,e,s);a=e.stateNode,k1.current=e;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return e.flags|=1,t!==null&&i?(e.child=Aa(e,t.child,null,s),e.child=Aa(e,null,o,s)):It(t,e,o,s),e.memoizedState=a.state,n&&uh(e,r,!0),e.child}function Wv(t){var e=t.stateNode;e.pendingContext?lh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lh(t,e.context,!1),ld(t,e.containerInfo)}function xh(t,e,r,a,n){return za(),rd(n),e.flags|=256,It(t,e,r,a),e.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Qu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kv(t,e,r){var a=e.pendingProps,n=Me.current,s=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Te(Me,n&1),t===null)return Fu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=a.children,t=a.fallback,s?(a=e.mode,s=e.child,i={mode:"hidden",children:i},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ol(i,a,0,null),t=Kn(t,a,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qu(r),e.memoizedState=Bu,t):vd(e,i));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return P1(t,e,i,a,o,n,r);if(s){s=a.fallback,i=e.mode,n=t.child,o=n.sibling;var l={mode:"hidden",children:a.children};return!(i&1)&&e.child!==n?(a=e.child,a.childLanes=0,a.pendingProps=l,e.deletions=null):(a=wn(n,l),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?s=wn(o,s):(s=Kn(s,i,r,null),s.flags|=2),s.return=e,a.return=e,a.sibling=s,e.child=a,a=s,s=e.child,i=t.child.memoizedState,i=i===null?Qu(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=Bu,a}return s=t.child,t=s.sibling,a=wn(s,{mode:"visible",children:a.children}),!(e.mode&1)&&(a.lanes=r),a.return=e,a.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=a,e.memoizedState=null,a}function vd(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bi(t,e,r,a){return a!==null&&rd(a),Aa(e,t.child,null,r),t=vd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P1(t,e,r,a,n,s,i){if(r)return e.flags&256?(e.flags&=-257,a=Wl(Error(F(422))),bi(t,e,i,a)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=a.fallback,n=e.mode,a=ol({mode:"visible",children:a.children},n,0,null),s=Kn(s,n,i,null),s.flags|=2,a.return=e,s.return=e,a.sibling=s,e.child=a,e.mode&1&&Aa(e,t.child,null,i),e.child.memoizedState=Qu(i),e.memoizedState=Bu,s);if(!(e.mode&1))return bi(t,e,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,s=Error(F(419)),a=Wl(s,a,void 0),bi(t,e,i,a)}if(o=(i&t.childLanes)!==0,Dt||o){if(a=ct,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,Br(t,n),wr(a,t,n,-1))}return Ed(),a=Wl(Error(F(421))),bi(t,e,i,a)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=j1.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,Qt=vn(n.nextSibling),Wt=e,De=!0,yr=null,t!==null&&(nr[ar++]=Mr,nr[ar++]=Zr,nr[ar++]=Yn,Mr=t.id,Zr=t.overflow,Yn=e),e=vd(e,a.children),e.flags|=4096,e)}function Th(t,e,r){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Mu(t.return,e,r)}function Kl(t,e,r,a,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function Gv(t,e,r){var a=e.pendingProps,n=a.revealOrder,s=a.tail;if(It(t,e,a.children,r),a=Me.current,a&2)a=a&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Th(t,r,e);else if(t.tag===19)Th(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Te(Me,a),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&Eo(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),Kl(e,!1,n,r,s);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&Eo(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}Kl(e,!0,r,null,s);break;case"together":Kl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,r=wn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=wn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function x1(t,e,r){switch(e.tag){case 3:Wv(e),za();break;case 5:Ev(e);break;case 1:Ft(e.type)&&vo(e);break;case 4:ld(e,e.stateNode.containerInfo);break;case 10:var a=e.type._context,n=e.memoizedProps.value;Te(_o,a._currentValue),a._currentValue=n;break;case 13:if(a=e.memoizedState,a!==null)return a.dehydrated!==null?(Te(Me,Me.current&1),e.flags|=128,null):r&e.child.childLanes?Kv(t,e,r):(Te(Me,Me.current&1),t=Qr(t,e,r),t!==null?t.sibling:null);Te(Me,Me.current&1);break;case 19:if(a=(r&e.childLanes)!==0,t.flags&128){if(a)return Gv(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Te(Me,Me.current),a)break;return null;case 22:case 23:return e.lanes=0,Bv(t,e,r)}return Qr(t,e,r)}var Jv,Wu,Yv,Xv;Jv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wu=function(){};Yv=function(t,e,r,a){var n=t.memoizedProps;if(n!==a){t=e.stateNode,Vn(Cr.current);var s=null;switch(r){case"input":n=vu(t,n),a=vu(t,a),s=[];break;case"select":n=He({},n,{value:void 0}),a=He({},a,{value:void 0}),s=[];break;case"textarea":n=_u(t,n),a=_u(t,a),s=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=po)}Su(r,a);var i;r=null;for(u in n)if(!a.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var l=a[u];if(o=n!=null?n[u]:void 0,a.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xv=function(t,e,r,a){r!==a&&(e.flags|=4)};function os(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,e}function T1(t,e,r){var a=e.pendingProps;switch(td(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Ft(e.type)&&mo(),kt(e),null;case 3:return a=e.stateNode,Da(),Oe(Lt),Oe(xt),cd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($i(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(rc(yr),yr=null))),Wu(t,e),kt(e),null;case 5:ud(e);var n=Vn(Us.current);if(r=e.type,t!==null&&e.stateNode!=null)Yv(t,e,r,a,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!a){if(e.stateNode===null)throw Error(F(166));return kt(e),null}if(t=Vn(Cr.current),$i(e)){a=e.stateNode,r=e.type;var s=e.memoizedProps;switch(a[br]=e,a[Ms]=s,t=(e.mode&1)!==0,r){case"dialog":be("cancel",a),be("close",a);break;case"iframe":case"object":case"embed":be("load",a);break;case"video":case"audio":for(n=0;n<ms.length;n++)be(ms[n],a);break;case"source":be("error",a);break;case"img":case"image":case"link":be("error",a),be("load",a);break;case"details":be("toggle",a);break;case"input":Af(a,s),be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},be("invalid",a);break;case"textarea":jf(a,s),be("invalid",a)}Su(r,s),n=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?a.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ri(a.textContent,o,t),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ri(a.textContent,o,t),n=["children",""+o]):bs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&be("scroll",a)}switch(r){case"input":_i(a),Df(a,s,!0);break;case"textarea":_i(a),Lf(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=po)}a=n,e.updateQueue=a,a!==null&&(e.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=i.createElement(r,{is:a.is}):(t=i.createElement(r),r==="select"&&(i=t,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):t=i.createElementNS(t,r),t[br]=e,t[Ms]=a,Jv(t,e,!1,!1),e.stateNode=t;e:{switch(i=Eu(r,a),r){case"dialog":be("cancel",t),be("close",t),n=a;break;case"iframe":case"object":case"embed":be("load",t),n=a;break;case"video":case"audio":for(n=0;n<ms.length;n++)be(ms[n],t);n=a;break;case"source":be("error",t),n=a;break;case"img":case"image":case"link":be("error",t),be("load",t),n=a;break;case"details":be("toggle",t),n=a;break;case"input":Af(t,a),n=vu(t,a),be("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=He({},a,{value:void 0}),be("invalid",t);break;case"textarea":jf(t,a),n=_u(t,a),be("invalid",t);break;default:n=a}Su(r,n),o=n;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?bm(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$m(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Os(t,l):typeof l=="number"&&Os(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&Mc(t,s,l,i))}switch(r){case"input":_i(t),Df(t,a,!1);break;case"textarea":_i(t),Lf(t);break;case"option":a.value!=null&&t.setAttribute("value",""+En(a.value));break;case"select":t.multiple=!!a.multiple,s=a.value,s!=null?xa(t,!!a.multiple,s,!1):a.defaultValue!=null&&xa(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=po)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)Xv(t,e,t.memoizedProps,a);else{if(typeof a!="string"&&e.stateNode===null)throw Error(F(166));if(r=Vn(Us.current),Vn(Cr.current),$i(e)){if(a=e.stateNode,r=e.memoizedProps,a[br]=e,(s=a.nodeValue!==r)&&(t=Wt,t!==null))switch(t.tag){case 3:Ri(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ri(a.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[br]=e,e.stateNode=a}return kt(e),null;case 13:if(Oe(Me),a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Qt!==null&&e.mode&1&&!(e.flags&128))gv(),za(),e.flags|=98560,s=!1;else if(s=$i(e),a!==null&&a.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[br]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else yr!==null&&(rc(yr),yr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?ot===0&&(ot=3):Ed())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Da(),Wu(t,e),t===null&&Ls(e.stateNode.containerInfo),kt(e),null;case 10:return sd(e.type._context),kt(e),null;case 17:return Ft(e.type)&&mo(),kt(e),null;case 19:if(Oe(Me),s=e.memoizedState,s===null)return kt(e),null;if(a=(e.flags&128)!==0,i=s.rendering,i===null)if(a)os(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Eo(t),i!==null){for(e.flags|=128,os(s,!1),a=i.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),e.subtreeFlags=0,a=r,r=e.child;r!==null;)s=r,t=a,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Te(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>La&&(e.flags|=128,a=!0,os(s,!1),e.lanes=4194304)}else{if(!a)if(t=Eo(i),t!==null){if(e.flags|=128,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),os(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!De)return kt(e),null}else 2*Xe()-s.renderingStartTime>La&&r!==1073741824&&(e.flags|=128,a=!0,os(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,r=Me.current,Te(Me,a?r&1|2:r&1),e):(kt(e),null);case 22:case 23:return Sd(),a=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(e.flags|=8192),a&&e.mode&1?Bt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function R1(t,e){switch(td(e),e.tag){case 1:return Ft(e.type)&&mo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),Oe(Lt),Oe(xt),cd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ud(e),null;case 13:if(Oe(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Me),null;case 4:return Da(),null;case 10:return sd(e.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Oi=!1,Pt=!1,$1=typeof WeakSet=="function"?WeakSet:Set,W=null;function wa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){We(t,e,a)}else r.current=null}function Ku(t,e,r){try{r()}catch(a){We(t,e,a)}}var Rh=!1;function I1(t,e){if(Cu=co,t=av(),Xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var h;d!==r||n!==0&&d.nodeType!==3||(o=i+n),d!==s||a!==0&&d.nodeType!==3||(l=i+a),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===t)break t;if(p===r&&++u===n&&(o=i),p===s&&++c===a&&(l=i),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nu={focusedElem:t,selectionRange:r},co=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,f=e.stateNode,v=f.getSnapshotBeforeUpdate(e.elementType===e.type?y:vr(e.type,y),_);f.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(S){We(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return m=Rh,Rh=!1,m}function xs(t,e,r){var a=e.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&Ku(e,r,s)}n=n.next}while(n!==a)}}function sl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==e)}}function Gu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eg(t){var e=t.alternate;e!==null&&(t.alternate=null,eg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Ms],delete e[Du],delete e[d1],delete e[f1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tg(t){return t.tag===5||t.tag===3||t.tag===4}function $h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ju(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=po));else if(a!==4&&(t=t.child,t!==null))for(Ju(t,e,r),t=t.sibling;t!==null;)Ju(t,e,r),t=t.sibling}function Yu(t,e,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Yu(t,e,r),t=t.sibling;t!==null;)Yu(t,e,r),t=t.sibling}var ht=null,gr=!1;function en(t,e,r){for(r=r.child;r!==null;)rg(t,e,r),r=r.sibling}function rg(t,e,r){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Jo,r)}catch{}switch(r.tag){case 5:Pt||wa(r,e);case 6:var a=ht,n=gr;ht=null,en(t,e,r),ht=a,gr=n,ht!==null&&(gr?(t=ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(gr?(t=ht,r=r.stateNode,t.nodeType===8?Ul(t.parentNode,r):t.nodeType===1&&Ul(t,r),As(t)):Ul(ht,r.stateNode));break;case 4:a=ht,n=gr,ht=r.stateNode.containerInfo,gr=!0,en(t,e,r),ht=a,gr=n;break;case 0:case 11:case 14:case 15:if(!Pt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var s=n,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ku(r,e,i),n=n.next}while(n!==a)}en(t,e,r);break;case 1:if(!Pt&&(wa(r,e),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){We(r,e,o)}en(t,e,r);break;case 21:en(t,e,r);break;case 22:r.mode&1?(Pt=(a=Pt)||r.memoizedState!==null,en(t,e,r),Pt=a):en(t,e,r);break;default:en(t,e,r)}}function Ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $1),e.forEach(function(a){var n=L1.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function fr(t,e){var r=e.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var s=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:ht=o.stateNode,gr=!1;break e;case 3:ht=o.stateNode.containerInfo,gr=!0;break e;case 4:ht=o.stateNode.containerInfo,gr=!0;break e}o=o.return}if(ht===null)throw Error(F(160));rg(s,i,n),ht=null,gr=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){We(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ng(e,t),e=e.sibling}function ng(t,e){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),$r(t),a&4){try{xs(3,t,t.return),sl(3,t)}catch(y){We(t,t.return,y)}try{xs(5,t,t.return)}catch(y){We(t,t.return,y)}}break;case 1:fr(e,t),$r(t),a&512&&r!==null&&wa(r,r.return);break;case 5:if(fr(e,t),$r(t),a&512&&r!==null&&wa(r,r.return),t.flags&32){var n=t.stateNode;try{Os(n,"")}catch(y){We(t,t.return,y)}}if(a&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&xm(n,s),Eu(o,i);var u=Eu(o,s);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?bm(n,d):c==="dangerouslySetInnerHTML"?$m(n,d):c==="children"?Os(n,d):Mc(n,c,d,u)}switch(o){case"input":gu(n,s);break;case"textarea":Tm(n,s);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?xa(n,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?xa(n,!!s.multiple,s.defaultValue,!0):xa(n,!!s.multiple,s.multiple?[]:"",!1))}n[Ms]=s}catch(y){We(t,t.return,y)}}break;case 6:if(fr(e,t),$r(t),a&4){if(t.stateNode===null)throw Error(F(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(y){We(t,t.return,y)}}break;case 3:if(fr(e,t),$r(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{As(e.containerInfo)}catch(y){We(t,t.return,y)}break;case 4:fr(e,t),$r(t);break;case 13:fr(e,t),$r(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(_d=Xe())),a&4&&Ih(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||c,fr(e,t),Pt=u):fr(e,t),$r(t),a&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(p=W,h=p.child,p.tag){case 0:case 11:case 14:case 15:xs(4,p,p.return);break;case 1:wa(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){a=p,r=p.return;try{e=a,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){We(a,r,y)}}break;case 5:wa(p,p.return);break;case 22:if(p.memoizedState!==null){Oh(d);continue}}h!==null?(h.return=p,W=h):Oh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Im("display",i))}catch(y){We(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){We(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fr(e,t),$r(t),a&4&&Ih(t);break;case 21:break;default:fr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tg(r)){var a=r;break e}r=r.return}throw Error(F(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Os(n,""),a.flags&=-33);var s=$h(t);Yu(t,s,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=$h(t);Ju(t,o,i);break;default:throw Error(F(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b1(t,e,r){W=t,ag(t)}function ag(t,e,r){for(var a=(t.mode&1)!==0;W!==null;){var n=W,s=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||Oi;if(!i){var o=n.alternate,l=o!==null&&o.memoizedState!==null||Pt;o=Oi;var u=Pt;if(Oi=i,(Pt=l)&&!u)for(W=n;W!==null;)i=W,l=i.child,i.tag===22&&i.memoizedState!==null?Ch(n):l!==null?(l.return=i,W=l):Ch(n);for(;s!==null;)W=s,ag(s),s=s.sibling;W=n,Oi=o,Pt=u}bh(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,W=s):bh(t)}}function bh(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||sl(5,e);break;case 1:var a=e.stateNode;if(e.flags&4&&!Pt)if(r===null)a.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:vr(e.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ph(e,s,a);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ph(e,i,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&As(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Pt||e.flags&512&&Gu(e)}catch(p){We(e,e.return,p)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function Oh(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function Ch(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sl(4,e)}catch(l){We(e,r,l)}break;case 1:var a=e.stateNode;if(typeof a.componentDidMount=="function"){var n=e.return;try{a.componentDidMount()}catch(l){We(e,n,l)}}var s=e.return;try{Gu(e)}catch(l){We(e,s,l)}break;case 5:var i=e.return;try{Gu(e)}catch(l){We(e,i,l)}}}catch(l){We(e,e.return,l)}if(e===t){W=null;break}var o=e.sibling;if(o!==null){o.return=e.return,W=o;break}W=e.return}}var O1=Math.ceil,xo=Kr.ReactCurrentDispatcher,gd=Kr.ReactCurrentOwner,ir=Kr.ReactCurrentBatchConfig,me=0,ct=null,rt=null,vt=0,Bt=0,Sa=In(0),ot=0,Bs=null,ea=0,il=0,yd=0,Ts=null,At=null,_d=0,La=1/0,jr=null,To=!1,Xu=null,yn=null,Ci=!1,dn=null,Ro=0,Rs=0,ec=null,Yi=-1,Xi=0;function bt(){return me&6?Xe():Yi!==-1?Yi:Yi=Xe()}function _n(t){return t.mode&1?me&2&&vt!==0?vt&-vt:p1.transition!==null?(Xi===0&&(Xi=Um()),Xi):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Km(t.type)),t):1}function wr(t,e,r,a){if(50<Rs)throw Rs=0,ec=null,Error(F(185));Ys(t,r,a),(!(me&2)||t!==ct)&&(t===ct&&(!(me&2)&&(il|=r),ot===4&&on(t,vt)),Mt(t,a),r===1&&me===0&&!(e.mode&1)&&(La=Xe()+500,rl&&bn()))}function Mt(t,e){var r=t.callbackNode;p_(t,e);var a=uo(t,t===ct?vt:0);if(a===0)r!==null&&Zf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=a&-a,t.callbackPriority!==e){if(r!=null&&Zf(r),e===1)t.tag===0?h1(Nh.bind(null,t)):pv(Nh.bind(null,t)),u1(function(){!(me&6)&&bn()}),r=null;else{switch(Vm(a)){case 1:r=qc;break;case 4:r=Mm;break;case 16:r=lo;break;case 536870912:r=Zm;break;default:r=lo}r=fg(r,sg.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sg(t,e){if(Yi=-1,Xi=0,me&6)throw Error(F(327));var r=t.callbackNode;if(ba()&&t.callbackNode!==r)return null;var a=uo(t,t===ct?vt:0);if(a===0)return null;if(a&30||a&t.expiredLanes||e)e=$o(t,a);else{e=a;var n=me;me|=2;var s=og();(ct!==t||vt!==e)&&(jr=null,La=Xe()+500,Wn(t,e));do try{z1();break}catch(o){ig(t,o)}while(!0);ad(),xo.current=s,me=n,rt!==null?e=0:(ct=null,vt=0,e=ot)}if(e!==0){if(e===2&&(n=Ru(t),n!==0&&(a=n,e=tc(t,n))),e===1)throw r=Bs,Wn(t,0),on(t,a),Mt(t,Xe()),r;if(e===6)on(t,a);else{if(n=t.current.alternate,!(a&30)&&!C1(n)&&(e=$o(t,a),e===2&&(s=Ru(t),s!==0&&(a=s,e=tc(t,s))),e===1))throw r=Bs,Wn(t,0),on(t,a),Mt(t,Xe()),r;switch(t.finishedWork=n,t.finishedLanes=a,e){case 0:case 1:throw Error(F(345));case 2:Ln(t,At,jr);break;case 3:if(on(t,a),(a&130023424)===a&&(e=_d+500-Xe(),10<e)){if(uo(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){bt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Au(Ln.bind(null,t,At,jr),e);break}Ln(t,At,jr);break;case 4:if(on(t,a),(a&4194240)===a)break;for(e=t.eventTimes,n=-1;0<a;){var i=31-_r(a);s=1<<i,i=e[i],i>n&&(n=i),a&=~s}if(a=n,a=Xe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*O1(a/1960))-a,10<a){t.timeoutHandle=Au(Ln.bind(null,t,At,jr),a);break}Ln(t,At,jr);break;case 5:Ln(t,At,jr);break;default:throw Error(F(329))}}}return Mt(t,Xe()),t.callbackNode===r?sg.bind(null,t):null}function tc(t,e){var r=Ts;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=$o(t,e),t!==2&&(e=At,At=r,e!==null&&rc(e)),t}function rc(t){At===null?At=t:At.push.apply(At,t)}function C1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!Er(s(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function on(t,e){for(e&=~yd,e&=~il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_r(e),a=1<<r;t[r]=-1,e&=~a}}function Nh(t){if(me&6)throw Error(F(327));ba();var e=uo(t,0);if(!(e&1))return Mt(t,Xe()),null;var r=$o(t,e);if(t.tag!==0&&r===2){var a=Ru(t);a!==0&&(e=a,r=tc(t,a))}if(r===1)throw r=Bs,Wn(t,0),on(t,e),Mt(t,Xe()),r;if(r===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ln(t,At,jr),Mt(t,Xe()),null}function wd(t,e){var r=me;me|=1;try{return t(e)}finally{me=r,me===0&&(La=Xe()+500,rl&&bn())}}function ta(t){dn!==null&&dn.tag===0&&!(me&6)&&ba();var e=me;me|=1;var r=ir.transition,a=Se;try{if(ir.transition=null,Se=1,t)return t()}finally{Se=a,ir.transition=r,me=e,!(me&6)&&bn()}}function Sd(){Bt=Sa.current,Oe(Sa)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,l1(r)),rt!==null)for(r=rt.return;r!==null;){var a=r;switch(td(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&mo();break;case 3:Da(),Oe(Lt),Oe(xt),cd();break;case 5:ud(a);break;case 4:Da();break;case 13:Oe(Me);break;case 19:Oe(Me);break;case 10:sd(a.type._context);break;case 22:case 23:Sd()}r=r.return}if(ct=t,rt=t=wn(t.current,null),vt=Bt=e,ot=0,Bs=null,yd=il=ea=0,At=Ts=null,Un!==null){for(e=0;e<Un.length;e++)if(r=Un[e],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,s=r.pending;if(s!==null){var i=s.next;s.next=n,a.next=i}r.pending=a}Un=null}return t}function ig(t,e){do{var r=rt;try{if(ad(),Ki.current=Po,ko){for(var a=Ze.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}ko=!1}if(Xn=0,ut=it=Ze=null,Ps=!1,Vs=0,gd.current=null,r===null||r.return===null){ot=1,Bs=e,rt=null;break}e:{var s=t,i=r.return,o=r,l=e;if(e=vt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=wh(i);if(h!==null){h.flags&=-257,Sh(h,i,o,s,e),h.mode&1&&_h(s,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){_h(s,u,e),Ed();break e}l=Error(F(426))}}else if(De&&o.mode&1){var _=wh(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sh(_,i,o,s,e),rd(ja(l,o));break e}}s=l=ja(l,o),ot!==4&&(ot=2),Ts===null?Ts=[s]:Ts.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=Vv(s,l,e);hh(s,f);break e;case 1:o=l;var v=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yn===null||!yn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Hv(s,o,e);hh(s,S);break e}}s=s.return}while(s!==null)}ug(r)}catch(P){e=P,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function og(){var t=xo.current;return xo.current=Po,t===null?Po:t}function Ed(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||!(ea&268435455)&&!(il&268435455)||on(ct,vt)}function $o(t,e){var r=me;me|=2;var a=og();(ct!==t||vt!==e)&&(jr=null,Wn(t,e));do try{N1();break}catch(n){ig(t,n)}while(!0);if(ad(),me=r,xo.current=a,rt!==null)throw Error(F(261));return ct=null,vt=0,ot}function N1(){for(;rt!==null;)lg(rt)}function z1(){for(;rt!==null&&!s_();)lg(rt)}function lg(t){var e=dg(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?ug(t):rt=e,gd.current=null}function ug(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=R1(r,e),r!==null){r.flags&=32767,rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,rt=null;return}}else if(r=T1(r,e,Bt),r!==null){rt=r;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ot===0&&(ot=5)}function Ln(t,e,r){var a=Se,n=ir.transition;try{ir.transition=null,Se=1,A1(t,e,r,a)}finally{ir.transition=n,Se=a}return null}function A1(t,e,r,a){do ba();while(dn!==null);if(me&6)throw Error(F(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(m_(t,s),t===ct&&(rt=ct=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ci||(Ci=!0,fg(lo,function(){return ba(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ir.transition,ir.transition=null;var i=Se;Se=1;var o=me;me|=4,gd.current=null,I1(t,r),ng(r,t),t1(Nu),co=!!Cu,Nu=Cu=null,t.current=r,b1(r),i_(),me=o,Se=i,ir.transition=s}else t.current=r;if(Ci&&(Ci=!1,dn=t,Ro=n),s=t.pendingLanes,s===0&&(yn=null),u_(r.stateNode),Mt(t,Xe()),e!==null)for(a=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(To)throw To=!1,t=Xu,Xu=null,t;return Ro&1&&t.tag!==0&&ba(),s=t.pendingLanes,s&1?t===ec?Rs++:(Rs=0,ec=t):Rs=0,bn(),null}function ba(){if(dn!==null){var t=Vm(Ro),e=ir.transition,r=Se;try{if(ir.transition=null,Se=16>t?16:t,dn===null)var a=!1;else{if(t=dn,dn=null,Ro=0,me&6)throw Error(F(331));var n=me;for(me|=4,W=t.current;W!==null;){var s=W,i=s.child;if(W.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:xs(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var p=c.sibling,h=c.return;if(eg(c),c===u){W=null;break}if(p!==null){p.return=h,W=p;break}W=h}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}W=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,W=i;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xs(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,W=f;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){i=W;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,W=g;else e:for(i=v;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sl(9,o)}}catch(P){We(o,o.return,P)}if(o===i){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(me=n,bn(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Jo,t)}catch{}a=!0}return a}finally{Se=r,ir.transition=e}}return!1}function zh(t,e,r){e=ja(r,e),e=Vv(t,e,1),t=gn(t,e,1),e=bt(),t!==null&&(Ys(t,1,e),Mt(t,e))}function We(t,e,r){if(t.tag===3)zh(t,t,r);else for(;e!==null;){if(e.tag===3){zh(e,t,r);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(yn===null||!yn.has(a))){t=ja(r,t),t=Hv(e,t,1),e=gn(e,t,1),t=bt(),e!==null&&(Ys(e,1,t),Mt(e,t));break}}e=e.return}}function D1(t,e,r){var a=t.pingCache;a!==null&&a.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&r,ct===t&&(vt&r)===r&&(ot===4||ot===3&&(vt&130023424)===vt&&500>Xe()-_d?Wn(t,0):yd|=r),Mt(t,e)}function cg(t,e){e===0&&(t.mode&1?(e=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):e=1);var r=bt();t=Br(t,e),t!==null&&(Ys(t,e,r),Mt(t,r))}function j1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),cg(t,r)}function L1(t,e){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(F(314))}a!==null&&a.delete(e),cg(t,r)}var dg;dg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Dt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Dt=!1,x1(t,e,r);Dt=!!(t.flags&131072)}else Dt=!1,De&&e.flags&1048576&&mv(e,yo,e.index);switch(e.lanes=0,e.tag){case 2:var a=e.type;Ji(t,e),t=e.pendingProps;var n=Na(e,xt.current);Ia(e,r),n=fd(null,e,a,t,n,r);var s=hd();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(a)?(s=!0,vo(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,od(e),n.updater=al,e.stateNode=n,n._reactInternals=e,Uu(e,a,t,r),e=qu(null,e,a,!0,s,r)):(e.tag=0,De&&s&&ed(e),It(null,e,n,r),e=e.child),e;case 16:a=e.elementType;e:{switch(Ji(t,e),t=e.pendingProps,n=a._init,a=n(a._payload),e.type=a,n=e.tag=M1(a),t=vr(a,t),n){case 0:e=Hu(null,e,a,t,r);break e;case 1:e=Ph(null,e,a,t,r);break e;case 11:e=Eh(null,e,a,t,r);break e;case 14:e=kh(null,e,a,vr(a.type,t),r);break e}throw Error(F(306,a,""))}return e;case 0:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:vr(a,n),Hu(t,e,a,n,r);case 1:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:vr(a,n),Ph(t,e,a,n,r);case 3:e:{if(Wv(e),t===null)throw Error(F(387));a=e.pendingProps,s=e.memoizedState,n=s.element,Sv(t,e),So(e,a,null,r);var i=e.memoizedState;if(a=i.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=ja(Error(F(423)),e),e=xh(t,e,a,r,n);break e}else if(a!==n){n=ja(Error(F(424)),e),e=xh(t,e,a,r,n);break e}else for(Qt=vn(e.stateNode.containerInfo.firstChild),Wt=e,De=!0,yr=null,r=_v(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(za(),a===n){e=Qr(t,e,r);break e}It(t,e,a,r)}e=e.child}return e;case 5:return Ev(e),t===null&&Fu(e),a=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,i=n.children,zu(a,n)?i=null:s!==null&&zu(a,s)&&(e.flags|=32),Qv(t,e),It(t,e,i,r),e.child;case 6:return t===null&&Fu(e),null;case 13:return Kv(t,e,r);case 4:return ld(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Aa(e,null,a,r):It(t,e,a,r),e.child;case 11:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:vr(a,n),Eh(t,e,a,n,r);case 7:return It(t,e,e.pendingProps,r),e.child;case 8:return It(t,e,e.pendingProps.children,r),e.child;case 12:return It(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(a=e.type._context,n=e.pendingProps,s=e.memoizedProps,i=n.value,Te(_o,a._currentValue),a._currentValue=i,s!==null)if(Er(s.value,i)){if(s.children===n.children&&!Lt.current){e=Qr(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===a){if(s.tag===1){l=Ur(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Mu(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(F(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Mu(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}It(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,a=e.pendingProps.children,Ia(e,r),n=or(n),a=a(n),e.flags|=1,It(t,e,a,r),e.child;case 14:return a=e.type,n=vr(a,e.pendingProps),n=vr(a.type,n),kh(t,e,a,n,r);case 15:return qv(t,e,e.type,e.pendingProps,r);case 17:return a=e.type,n=e.pendingProps,n=e.elementType===a?n:vr(a,n),Ji(t,e),e.tag=1,Ft(a)?(t=!0,vo(e)):t=!1,Ia(e,r),Uv(e,a,n),Uu(e,a,n,r),qu(null,e,a,!0,t,r);case 19:return Gv(t,e,r);case 22:return Bv(t,e,r)}throw Error(F(156,e.tag))};function fg(t,e){return Fm(t,e)}function F1(t,e,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,r,a){return new F1(t,e,r,a)}function kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M1(t){if(typeof t=="function")return kd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uc)return 11;if(t===Vc)return 14}return 2}function wn(t,e){var r=t.alternate;return r===null?(r=sr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function eo(t,e,r,a,n,s){var i=2;if(a=t,typeof t=="function")kd(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case da:return Kn(r.children,n,s,e);case Zc:i=8,n|=8;break;case fu:return t=sr(12,r,e,n|2),t.elementType=fu,t.lanes=s,t;case hu:return t=sr(13,r,e,n),t.elementType=hu,t.lanes=s,t;case pu:return t=sr(19,r,e,n),t.elementType=pu,t.lanes=s,t;case Em:return ol(r,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wm:i=10;break e;case Sm:i=9;break e;case Uc:i=11;break e;case Vc:i=14;break e;case rn:i=16,a=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=sr(i,r,e,n),e.elementType=t,e.type=a,e.lanes=s,e}function Kn(t,e,r,a){return t=sr(7,t,a,e),t.lanes=r,t}function ol(t,e,r,a){return t=sr(22,t,a,e),t.elementType=Em,t.lanes=r,t.stateNode={isHidden:!1},t}function Gl(t,e,r){return t=sr(6,t,null,e),t.lanes=r,t}function Jl(t,e,r){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z1(t,e,r,a,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Pd(t,e,r,a,n,s,i,o,l){return t=new Z1(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(s),t}function U1(t,e,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:a==null?null:""+a,children:t,containerInfo:e,implementation:r}}function hg(t){if(!t)return kn;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var r=t.type;if(Ft(r))return hv(t,r,e)}return e}function pg(t,e,r,a,n,s,i,o,l){return t=Pd(r,a,!0,t,n,s,i,o,l),t.context=hg(null),r=t.current,a=bt(),n=_n(r),s=Ur(a,n),s.callback=e??null,gn(r,s,n),t.current.lanes=n,Ys(t,n,a),Mt(t,a),t}function ll(t,e,r,a){var n=e.current,s=bt(),i=_n(n);return r=hg(r),e.context===null?e.context=r:e.pendingContext=r,e=Ur(s,i),e.payload={element:t},a=a===void 0?null:a,a!==null&&(e.callback=a),t=gn(n,e,i),t!==null&&(wr(t,n,i,s),Wi(t,n,i)),i}function Io(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xd(t,e){Ah(t,e),(t=t.alternate)&&Ah(t,e)}function V1(){return null}var mg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}ul.prototype.render=Td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));ll(t,e,null,null)};ul.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){ll(null,t,null,null)}),e[qr]=null}};function ul(t){this._internalRoot=t}ul.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<sn.length&&e!==0&&e<sn[r].priority;r++);sn.splice(r,0,t),r===0&&Wm(t)}};function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dh(){}function H1(t,e,r,a,n){if(n){if(typeof a=="function"){var s=a;a=function(){var u=Io(i);s.call(u)}}var i=pg(e,a,t,0,null,!1,!1,"",Dh);return t._reactRootContainer=i,t[qr]=i.current,Ls(t.nodeType===8?t.parentNode:t),ta(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var u=Io(l);o.call(u)}}var l=Pd(t,0,!1,null,null,!1,!1,"",Dh);return t._reactRootContainer=l,t[qr]=l.current,Ls(t.nodeType===8?t.parentNode:t),ta(function(){ll(e,l,r,a)}),l}function dl(t,e,r,a,n){var s=r._reactRootContainer;if(s){var i=s;if(typeof n=="function"){var o=n;n=function(){var l=Io(i);o.call(l)}}ll(e,i,t,n)}else i=H1(r,e,t,n,a);return Io(i)}Hm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ps(e.pendingLanes);r!==0&&(Bc(e,r|1),Mt(e,Xe()),!(me&6)&&(La=Xe()+500,bn()))}break;case 13:ta(function(){var a=Br(t,1);if(a!==null){var n=bt();wr(a,t,1,n)}}),xd(t,1)}};Qc=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var r=bt();wr(e,t,134217728,r)}xd(t,134217728)}};qm=function(t){if(t.tag===13){var e=_n(t),r=Br(t,e);if(r!==null){var a=bt();wr(r,t,e,a)}xd(t,e)}};Bm=function(){return Se};Qm=function(t,e){var r=Se;try{return Se=t,e()}finally{Se=r}};Pu=function(t,e,r){switch(e){case"input":if(gu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var a=r[e];if(a!==t&&a.form===t.form){var n=tl(a);if(!n)throw Error(F(90));Pm(a),gu(a,n)}}}break;case"textarea":Tm(t,r);break;case"select":e=r.value,e!=null&&xa(t,!!r.multiple,e,!1)}};Nm=wd;zm=ta;var q1={usingClientEntryPoint:!1,Events:[ei,ma,tl,Om,Cm,wd]},ls={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jm(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||V1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ni.isDisabled&&Ni.supportsFiber)try{Jo=Ni.inject(B1),Or=Ni}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;Jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(e))throw Error(F(200));return U1(t,e,null,r)};Jt.createRoot=function(t,e){if(!Rd(t))throw Error(F(299));var r=!1,a="",n=mg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=Pd(t,1,!1,null,null,r,!1,a,n),t[qr]=e.current,Ls(t.nodeType===8?t.parentNode:t),new Td(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=jm(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return ta(t)};Jt.hydrate=function(t,e,r){if(!cl(e))throw Error(F(200));return dl(null,t,e,!0,r)};Jt.hydrateRoot=function(t,e,r){if(!Rd(t))throw Error(F(405));var a=r!=null&&r.hydratedSources||null,n=!1,s="",i=mg;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=pg(e,null,t,1,r??null,n,!1,s,i),t[qr]=e.current,Ls(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new ul(e)};Jt.render=function(t,e,r){if(!cl(e))throw Error(F(200));return dl(null,t,e,!1,r)};Jt.unmountComponentAtNode=function(t){if(!cl(t))throw Error(F(40));return t._reactRootContainer?(ta(function(){dl(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};Jt.unstable_batchedUpdates=wd;Jt.unstable_renderSubtreeIntoContainer=function(t,e,r,a){if(!cl(r))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return dl(t,e,r,!1,a)};Jt.version="18.3.1-next-f1338f8080-20240426";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(t){console.error(t)}}vg(),vm.exports=Jt;var Q1=vm.exports,jh=Q1;cu.createRoot=jh.createRoot,cu.hydrateRoot=jh.hydrateRoot;var Ht;(function(t){t.TEXT2IMAGE="TEXT2IMAGE",t.IMAGE2IMAGE="IMAGE2IMAGE",t.ANIMATE="ANIMATE",t.INPAINT="INPAINT",t.REMOVE_BG="REMOVE_BG",t.TEXT2VIDEO="TEXT2VIDEO",t.TEXT2MUSIC="TEXT2MUSIC",t.FOLEY="FOLEY",t.TEXT2SPEECH="TEXT2SPEECH",t.TEXT2TEXT="TEXT2TEXT",t.MODEL="MODEL"})(Ht||(Ht={}));const Hn="https://avatars.charhub.io/avatars/uploads/images/gallery/file/1b9649dd-69f7-4231-802f-22be084ad0f9/c5a93b6a-7c28-45c0-bbdd-62b45d73bfdc.png";let zi;const W1=new Uint8Array(16);function K1(){if(!zi&&(zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(W1)}const ft=[];for(let t=0;t<256;++t)ft.push((t+256).toString(16).slice(1));function G1(t,e=0){return ft[t[e+0]]+ft[t[e+1]]+ft[t[e+2]]+ft[t[e+3]]+"-"+ft[t[e+4]]+ft[t[e+5]]+"-"+ft[t[e+6]]+ft[t[e+7]]+"-"+ft[t[e+8]]+ft[t[e+9]]+"-"+ft[t[e+10]]+ft[t[e+11]]+ft[t[e+12]]+ft[t[e+13]]+ft[t[e+14]]+ft[t[e+15]]}const J1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lh={randomUUID:J1};function Y1(t,e,r){if(Lh.randomUUID&&!e&&!t)return Lh.randomUUID();t=t||{};const a=t.random||(t.rng||K1)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){r=r||0;for(let n=0;n<16;++n)e[r+n]=a[n];return e}return G1(a)}const $d=new Set(["https://venus.chub.ai","https://chat.chub.ai","https://chub.ai","https://www.chub.ai","https://preview.chub.ai","capacitor://localhost","http://localhost","https://lvh.me:5173","file://127.0.0.1","https://localhost.localdomain:5173","https://vite.lvh.me:5173","https://192.168.50.239:5173","https://vite.lvh.me","https://192.168.50.239","file://localhost","https://127.0.0.1","https://localhost","http://127.0.0.1","capacitor://127.0.0.1","https://localhost:5173","http://localhost:5173","file://","capacitor://"]);function $t(t,e,r=6e3){return new Promise((a,n)=>{const s=Y1();e.uuid=s;let i=!1;const o=l=>{if(l.source===window.parent&&($d.has(l.origin)||l.origin.endsWith("chub.ai")||l.origin.endsWith("chub-ui.pages.dev"))){const{messageType:u,data:c}=l.data;u!=null&&u==s&&(window.removeEventListener("message",o),i=!0,c!=null&&c.hasOwnProperty("error")&&c.error!=null&&(console.error(`Error for ${t}, error: ${c.error}`),a(null)),a(c))}};window.addEventListener("message",o),window.parent.postMessage({messageType:t,data:e},"*"),setTimeout(()=>{window.removeEventListener("message",o),i||(console.error(`Response timeout for ${t}`),a(null))},r*1e3)})}var ke;(function(t){t.LOAD="LOAD",t.EXEC="EXEC",t.WRITE_FILE="WRITE_FILE",t.READ_FILE="READ_FILE",t.DELETE_FILE="DELETE_FILE",t.RENAME="RENAME",t.CREATE_DIR="CREATE_DIR",t.LIST_DIR="LIST_DIR",t.DELETE_DIR="DELETE_DIR",t.ERROR="ERROR",t.DOWNLOAD="DOWNLOAD",t.PROGRESS="PROGRESS",t.LOG="LOG",t.MOUNT="MOUNT",t.UNMOUNT="UNMOUNT"})(ke||(ke={}));const X1=(()=>{let t=0;return()=>t++})(),ew=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),tw=new Error("called FFmpeg.terminate()");var qt,ln,Fr,Bn,Qn,Ko,zt;class rw{constructor(){Xr(this,qt,null);Xr(this,ln,{});Xr(this,Fr,{});Xr(this,Bn,[]);Xr(this,Qn,[]);St(this,"loaded",!1);Xr(this,Ko,()=>{le(this,qt)&&(le(this,qt).onmessage=({data:{id:e,type:r,data:a}})=>{switch(r){case ke.LOAD:this.loaded=!0,le(this,ln)[e](a);break;case ke.MOUNT:case ke.UNMOUNT:case ke.EXEC:case ke.WRITE_FILE:case ke.READ_FILE:case ke.DELETE_FILE:case ke.RENAME:case ke.CREATE_DIR:case ke.LIST_DIR:case ke.DELETE_DIR:le(this,ln)[e](a);break;case ke.LOG:le(this,Bn).forEach(n=>n(a));break;case ke.PROGRESS:le(this,Qn).forEach(n=>n(a));break;case ke.ERROR:le(this,Fr)[e](a);break}delete le(this,ln)[e],delete le(this,Fr)[e]})});Xr(this,zt,({type:e,data:r},a=[],n)=>le(this,qt)?new Promise((s,i)=>{const o=X1();le(this,qt)&&le(this,qt).postMessage({id:o,type:e,data:r},a),le(this,ln)[o]=s,le(this,Fr)[o]=i,n==null||n.addEventListener("abort",()=>{i(new DOMException(`Message # ${o} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(ew));St(this,"load",({classWorkerURL:e,...r}={},{signal:a}={})=>(le(this,qt)||(es(this,qt,e?new Worker(new URL(e,import.meta.url),{type:"module"}):new Worker(new URL("/assets/worker-lPYB70QI.js",import.meta.url),{type:"module"})),le(this,Ko).call(this)),le(this,zt).call(this,{type:ke.LOAD,data:r},void 0,a)));St(this,"exec",(e,r=-1,{signal:a}={})=>le(this,zt).call(this,{type:ke.EXEC,data:{args:e,timeout:r}},void 0,a));St(this,"terminate",()=>{const e=Object.keys(le(this,Fr));for(const r of e)le(this,Fr)[r](tw),delete le(this,Fr)[r],delete le(this,ln)[r];le(this,qt)&&(le(this,qt).terminate(),es(this,qt,null),this.loaded=!1)});St(this,"writeFile",(e,r,{signal:a}={})=>{const n=[];return r instanceof Uint8Array&&n.push(r.buffer),le(this,zt).call(this,{type:ke.WRITE_FILE,data:{path:e,data:r}},n,a)});St(this,"mount",(e,r,a)=>{const n=[];return le(this,zt).call(this,{type:ke.MOUNT,data:{fsType:e,options:r,mountPoint:a}},n)});St(this,"unmount",e=>{const r=[];return le(this,zt).call(this,{type:ke.UNMOUNT,data:{mountPoint:e}},r)});St(this,"readFile",(e,r="binary",{signal:a}={})=>le(this,zt).call(this,{type:ke.READ_FILE,data:{path:e,encoding:r}},void 0,a));St(this,"deleteFile",(e,{signal:r}={})=>le(this,zt).call(this,{type:ke.DELETE_FILE,data:{path:e}},void 0,r));St(this,"rename",(e,r,{signal:a}={})=>le(this,zt).call(this,{type:ke.RENAME,data:{oldPath:e,newPath:r}},void 0,a));St(this,"createDir",(e,{signal:r}={})=>le(this,zt).call(this,{type:ke.CREATE_DIR,data:{path:e}},void 0,r));St(this,"listDir",(e,{signal:r}={})=>le(this,zt).call(this,{type:ke.LIST_DIR,data:{path:e}},void 0,r));St(this,"deleteDir",(e,{signal:r}={})=>le(this,zt).call(this,{type:ke.DELETE_DIR,data:{path:e}},void 0,r))}on(e,r){e==="log"?le(this,Bn).push(r):e==="progress"&&le(this,Qn).push(r)}off(e,r){e==="log"?es(this,Bn,le(this,Bn).filter(a=>a!==r)):e==="progress"&&es(this,Qn,le(this,Qn).filter(a=>a!==r))}}qt=new WeakMap,ln=new WeakMap,Fr=new WeakMap,Bn=new WeakMap,Qn=new WeakMap,Ko=new WeakMap,zt=new WeakMap;var nc;(function(t){t.SQUARE="1:1",t.WIDESCREEN_HORIZONTAL="16:9",t.CINEMATIC_HORIZONTAL="21:9",t.PHOTO_VERTICAL="2:3",t.PHOTO_HORIZONTAL="3:2",t.POST_VERTICAL="4:5",t.POST_HORIZONTAL="5:4",t.WIDESCREEN_VERTICAL="9:16",t.CINEMATIC_VERTICAL="9:21"})(nc||(nc={}));const Id={seed:null,item_id:null},gg={negative_prompt:null,prompt:"Super cute chubby kitten, high res perfect, will make you believe in the afterlife, 8K"},nw=Object.assign(Object.assign({aspect_ratio:nc.SQUARE,remove_background:!1},gg),Id),yg=Object.assign(Object.assign({},nw),{image:Hn,strength:.7,transfer_type:"default"}),aw=Object.assign(Object.assign({},Id),{image:Hn,cfg_scale:1.8,motion_bucket_id:127}),sw=Object.assign(Object.assign({},yg),{search_prompt:"Anything with a face",mask:null}),iw={image:Hn},_g={seconds:5};Object.assign(Object.assign({},gg),_g);Object.assign(Object.assign(Object.assign({},_g),Id),{prompt:"Thunderstorm"});var Ai=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class ow{makeImage(e){return $t(Ht.TEXT2IMAGE,e)}imageToImage(e){return $t(Ht.IMAGE2IMAGE,e)}animateImage(e){return $t(Ht.ANIMATE,e,600)}inpaintImage(e){return $t(Ht.INPAINT,e)}removeBackground(e){return $t(Ht.REMOVE_BG,e)}makeVideo(e){return $t(Ht.TEXT2VIDEO,e)}makeMusic(e){return $t(Ht.TEXT2MUSIC,e)}makeSound(e){return $t(Ht.FOLEY,e)}speak(e){return $t(Ht.TEXT2SPEECH,e)}textGen(e){return $t(Ht.TEXT2TEXT,e)}makeVoice(){return Promise.resolve(void 0)}modelGen(e){return $t(Ht.MODEL,e)}transcribe(){return Promise.resolve(void 0)}}class lw{makeImage(e){return new Promise(r=>{r({url:Hn,seed:0,cost:null})})}imageToImage(e){return new Promise((r,a)=>{e=Object.assign(Object.assign({},yg),e);const n=document.createElement("canvas"),s=n.getContext("2d");if(!s){r(null);return}n.style.display="none";const i=new Image,o=new Image;i.onload=()=>{n.width=i.width,n.height=i.height,s.drawImage(i,0,0),o.onload=()=>{s.globalAlpha=e.strength,s.drawImage(o,0,0,n.width,n.height),s.globalAlpha=1;const l=n.toDataURL();r({url:l,seed:0,cost:null}),n.width=0,n.height=0,n.remove()},o.onerror=l=>{r(null)},o.src=Hn},i.onerror=l=>{r(null)},i.src=e.image})}convertFileToBase64(e){return Ai(this,void 0,void 0,function*(){const r=yield e.arrayBuffer();let a="";const n=new Uint8Array(r),s=n.byteLength;for(let i=0;i<s;i++)a+=String.fromCharCode(n[i]);return window.btoa(a)})}animateImage(e){return Ai(this,void 0,void 0,function*(){try{e=Object.assign(Object.assign({},aw),e);const r=new rw;yield r.load();let a="image.png";if(e.image.includes("https:")){const l=e.image.split("/");a=l[l.length-1]}const n="output.mp4",s=yield fetch(e.image).then(l=>l.arrayBuffer());yield r.writeFile(a,new Uint8Array(s)),yield r.exec(["-i",a,"-vf","rotate=angle=45*sin(t/2):fillcolor=none,scale=w=iw/2:h=ih/2","-t","3","-c:v","libx264","-pix_fmt","yuv420p",n]);const i=yield r.readFile(n),o=yield this.convertFileToBase64(i);return yield r.unmount(a),yield r.unmount(n),{url:`data:video/mp4;base64,${o}`,seed:0,cost:0}}catch(r){return console.error(`Unexpected error making mock video. Are you on an older browser? Error: ${r}`),null}})}inpaintImage(e){return Ai(this,void 0,void 0,function*(){if(e=Object.assign(Object.assign({},sw),e),e.mask==null)return Promise.resolve({url:Hn,seed:0,cost:0});const r=document.createElement("canvas"),a=r.getContext("2d"),n=new Image;n.src=e.image,yield new Promise(l=>n.onload=l),r.width=n.width,r.height=n.height,a.drawImage(n,0,0);const s=new Image;s.src=e.mask,yield new Promise(l=>s.onload=l),a.globalCompositeOperation="destination-in",a.drawImage(s,0,0,r.width,r.height);const i=new Image;return i.src=Hn,yield new Promise(l=>i.onload=l),a.globalCompositeOperation="source-over",a.drawImage(i,0,0,r.width,r.height),{url:r.toDataURL(),seed:0,cost:0}})}removeBackground(e){return Ai(this,void 0,void 0,function*(){e=Object.assign(Object.assign({},iw),e);const r=e.image,a=document.createElement("canvas"),n=a.getContext("2d"),s=new Image;s.src=r,yield new Promise(c=>s.onload=c),a.width=s.width,a.height=s.height,n.drawImage(s,0,0);const i=n.getImageData(0,0,a.width,a.height),o=i.data,l=50;for(let c=0;c<l;c++)for(let d=0;d<a.width;d++){const p=(c*a.width+d)*4;o[p+3]=0}for(let c=a.height-l;c<a.height;c++)for(let d=0;d<a.width;d++){const p=(c*a.width+d)*4;o[p+3]=0}for(let c=0;c<l;c++)for(let d=0;d<a.height;d++){const p=(d*a.width+c)*4;o[p+3]=0}for(let c=a.width-l;c<a.width;c++)for(let d=0;d<a.height;d++){const p=(d*a.width+c)*4;o[p+3]=0}return n.putImageData(i,0,0),{url:a.toDataURL(),seed:0,cost:0}})}makeVideo(e){return Promise.resolve({seed:0,url:"https://avatars.charhub.io/79b2188d-293d-42cb-ab50-fddbce4b28b9.gif",cost:0})}makeMusic(e){return Promise.resolve({seed:0,url:"https://media.chub.ai/FadingMemories.mp3",cost:0})}makeSound(e){return Promise.resolve({seed:0,url:"https://media.chub.ai/rain-and-thunder-16705.mp3",cost:0})}speak(e){return Promise.resolve({seed:0,url:"https://media.chub.ai/ElevenLabs_2024-04-27T03%2023%2053_D_ivc_s50_sb79_se26_b_m2.mp3",cost:0})}textGen(e){return Promise.resolve({result:"A default text response.",cost:0})}makeVoice(){return Promise.resolve(void 0)}modelGen(e){return e.output_type!=null||e.output_type=="vrm"?Promise.resolve({seed:0,url:"https://media.chub.ai/meshes/fox.vrm",cost:0}):Promise.resolve({seed:0,url:"https://media.chub.ai/meshes/fox.glb",cost:0})}transcribe(){return Promise.resolve(void 0)}}var Ea;(function(t){t.IMPERSONATE="IMPERSONATE",t.CHAT_STATE="CHAT_STATE",t.ENVIRONMENT="ENVIRONMENT",t.NUDGE="NUDGE"})(Ea||(Ea={}));class uw{impersonate(e){return $t(Ea.IMPERSONATE,e)}updateChatState(e){return $t(Ea.CHAT_STATE,e)}updateEnvironment(e){return $t(Ea.ENVIRONMENT,e)}nudge(e){return $t(Ea.NUDGE,e)}}class cw{impersonate(e){return Promise.resolve({success:!0,error:null,identity:"fakeid"})}updateChatState(e){return Promise.resolve({success:!0,error:null})}updateEnvironment(e){return Promise.resolve({success:!0,error:null})}nudge(e){return Promise.resolve({success:!0,error:null,identity:"fakeid"})}}var _e;(function(t){t.world="world",t.user="user",t.persona="persona",t.character="character",t.character_sensitive="character_sensitive",t.user_character="user_character",t.persona_character="persona_character"})(_e||(_e={}));var Sr;(function(t){t.UPSERT="UPSERT",t.DELETE="DELETE"})(Sr||(Sr={}));class ka extends Error{constructor(e){super(e),this.name="StorageError",Object.setPrototypeOf(this,ka.prototype)}}var dw=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};function fw(t){return dw(this,void 0,void 0,function*(){return new Promise((e,r)=>{const a=new FileReader;a.onload=()=>{const s=a.result.split(",")[1];e(s)},a.onerror=r,a.readAsDataURL(t)})})}var hw=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class Oa{constructor(e,r,a,n=null,s=null,i){var o;this.changes={changes:[]},this.change=null,this.token=e,this.urlBase=r,this.change={key:a,scope_type:_e.world,type:i??Sr.UPSERT,chat_local:!1,value:s,character_id:(o=n==null?void 0:n.character)!==null&&o!==void 0?o:null}}forCharacterSensitive(e){if(this.change.character_id=e,this.change.scope_type!=_e.world&&this.change.scope_type!=_e.character_sensitive)throw new ka(`Character sensitive scope cannot be combined with other scopes. This change already has scope ${this.change.scope_type}.`);return this.change.scope_type=_e.character_sensitive,this}forCharacter(e){if(this.change.character_id=e,this.change.scope_type==_e.world||this.change.scope_type==_e.character)this.change.scope_type=_e.character;else if(this.change.scope_type==_e.user||this.change.scope_type==_e.user_character)this.change.scope_type=_e.user_character;else if(this.change.scope_type==_e.persona||this.change.scope_type==_e.persona_character)this.change.scope_type=_e.persona_character;else throw new ka(`Character scope cannot be combined with scope ${this.change.scope_type}.`);return this}forUser(){if(this.change.scope_type==_e.world||this.change.scope_type==_e.user)this.change.scope_type=_e.user;else if(this.change.scope_type==_e.character||this.change.scope_type==_e.user_character)this.change.scope_type=_e.user_character;else throw new ka(`User scope cannot be combined with scope ${this.change.scope_type}.`);return this}forPersona(){if(this.change.scope_type==_e.world||this.change.scope_type==_e.user||this.change.scope_type==_e.persona)this.change.scope_type=_e.persona;else if(this.change.scope_type==_e.character||this.change.scope_type==_e.persona_character)this.change.scope_type=_e.persona_character;else throw new ka(`Persona scope cannot be combined with scope ${this.change.scope_type}.`);return this}forChat(){return this.change.chat_local=!0,this}set(e,r){return this.change!=null&&(this.changes.changes.push(this.change),this.change=null),this.change={key:e,scope_type:_e.world,type:Sr.UPSERT,chat_local:!1,value:r,character_id:null},this}clear(e){return this.change!=null&&(this.changes.changes.push(this.change),this.change=null),this.change={key:e,scope_type:_e.world,type:Sr.DELETE,chat_local:!1,value:null,character_id:null},this}execute(){return hw(this,void 0,void 0,function*(){this.change!=null&&(this.changes.changes.push(this.change),this.change=null);for(const e of this.changes.changes)e.value instanceof File&&(e.file_extension=e.value.name.split(".")[1],e.value=yield fw(e.value));try{const e=yield fetch(this.urlBase,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(this.changes)});return e.ok?yield e.json():{data:[],error:`HTTP error! status: ${e.status}`,status:e.status}}catch(e){return console.error("Error updating:",e),{data:[],status:500,error:"Failed to update."}}})}then(e,r){return Promise.resolve(this.execute()).then(e,r)}}var pw=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class bo{constructor(e,r,a){this.fetch={chat_local:!1,keys:null,character_ids:[],user_ids:[],persona_ids:[]},a!=null&&(Array.isArray(a)?this.fetch.keys=a:this.fetch.keys=[a]),this.token=e,this.urlBase=r}forCharacter(e){return this.fetch.character_ids==null&&(this.fetch.character_ids=[]),this.fetch.character_ids.push(e),this}forCharacters(e=null){return this.fetch.character_ids!=null&&this.fetch.character_ids.length!=0?this.fetch.character_ids.push(...e):this.fetch.character_ids=e,this}forUser(e){return this.fetch.user_ids==null&&(this.fetch.user_ids=[]),this.fetch.user_ids.push(e),this}forUsers(e=null){return this.fetch.user_ids==null&&(this.fetch.user_ids=[]),this.fetch.user_ids.push(...e),this}forPersona(e){return this.fetch.persona_ids==null&&(this.fetch.persona_ids=[]),this.fetch.persona_ids.push(e),this}forPersonas(e=null){return this.fetch.persona_ids==null&&(this.fetch.persona_ids=[]),this.fetch.persona_ids.push(...e),this}execute(){return pw(this,void 0,void 0,function*(){try{const e=yield fetch(this.urlBase,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(this.fetch)});return e.ok?yield e.json():{data:[],error:`HTTP error! status: ${e.status}`,status:e.status}}catch(e){return console.error("Error fetching:",e),{data:[],status:500,error:"Failed to fetch."}}})}then(e,r){return Promise.resolve(this.execute()).then(e,r)}}var Fh=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class mw{constructor(e,r=null){this.BASE_URL="https://gateway.chub.ai/api/storage/stage/",this.token=r,this.stageId=e,this.url=this.BASE_URL+String(this.stageId)}get(e){return new bo(this.token,this.url+"/fetch",e)}set(e,r){return new Oa(this.token,this.url,e,null,r,Sr.UPSERT)}clear(e){return new Oa(this.token,this.url,e,null,null,Sr.DELETE)}update(e){return Fh(this,void 0,void 0,function*(){const r=new Oa(this.token,this.url,"irrelevant-key",null,null,Sr.DELETE);return r.changes={changes:e},r.change=null,yield r})}query(e){return Fh(this,void 0,void 0,function*(){const r=new bo(this.token,this.url+"/fetch",null);return r.fetch=e,yield r})}}var Mh=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class vw{constructor(e,r=null){this.BASE_URL="https://gateway.chub.ai/api/storage/stage/",this.token=r,this.stageId=e,this.url=this.BASE_URL+String(this.stageId)}get(e){return new bo(this.token,this.url+"/fetch",e)}set(e,r){return new Oa(this.token,this.url,e,null,r,Sr.UPSERT)}clear(e){return new Oa(this.token,this.url,e,null,null,Sr.DELETE)}update(e){return Mh(this,void 0,void 0,function*(){const r=new Oa(this.token,this.url,"irrelevant-key",null,null,Sr.DELETE);return r.changes={changes:e},r.change=null,yield r})}query(e){return Mh(this,void 0,void 0,function*(){const r=new bo(this.token,this.url+"/fetch",null);return r.fetch=e,yield r})}}var ge;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const s={};for(const i of n)s[i]=i;return s},t.getValidEnumValues=n=>{const s=t.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of s)i[o]=n[o];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(s){return n[s]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&s.push(i);return s},t.find=(n,s)=>{for(const i of n)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=a,t.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(ge||(ge={}));var Zh;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Zh||(Zh={}));const K=ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),an=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},Z=ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},a={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)a._errors.push(r(i));else{let o=a,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return n(this),a}static assert(e){if(!(e instanceof Wr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},a=[];for(const n of this.issues)if(n.path.length>0){const s=n.path[0];r[s]=r[s]||[],r[s].push(e(n))}else a.push(e(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}Wr.create=t=>new Wr(t);const ac=(t,e)=>{let r;switch(t.code){case Z.invalid_type:t.received===K.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ge.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${ge.joinValues(t.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ge.joinValues(t.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${ge.joinValues(t.options)}, received '${t.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ge.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Z.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Z.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=e.defaultError,ge.assertNever(t)}return{message:r}};let gw=ac;function yw(){return gw}const _w=t=>{const{data:e,path:r,errorMaps:a,issueData:n}=t,s=[...r,...n.path||[]],i={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let o="";const l=a.filter(u=>!!u).slice().reverse();for(const u of l)o=u(i,{data:e,defaultError:o}).message;return{...n,path:s,message:o}};function B(t,e){const r=yw(),a=_w({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ac?void 0:ac].filter(n=>!!n)});t.common.issues.push(a)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const a=[];for(const n of r){if(n.status==="aborted")return ie;n.status==="dirty"&&e.dirty(),a.push(n.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){const a=[];for(const n of r){const s=await n.key,i=await n.value;a.push({key:s,value:i})}return Gt.mergeObjectSync(e,a)}static mergeObjectSync(e,r){const a={};for(const n of r){const{key:s,value:i}=n;if(s.status==="aborted"||i.status==="aborted")return ie;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(a[s.value]=i.value)}return{status:e.value,value:a}}}const ie=Object.freeze({status:"aborted"}),vs=t=>({status:"dirty",value:t}),ur=t=>({status:"valid",value:t}),Uh=t=>t.status==="aborted",Vh=t=>t.status==="dirty",Fa=t=>t.status==="valid",Oo=t=>typeof Promise<"u"&&t instanceof Promise;var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));class Pn{constructor(e,r,a,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hh=(t,e)=>{if(Fa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wr(t.common.issues);return this._error=r,this._error}}};function ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:a,description:n}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>{const{message:l}=t;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??a??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:n}}let ve=class{get description(){return this._def.description}_getType(e){return an(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:an(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:an(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Oo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:an(e)},n=this._parseSync({data:e,path:a.path,parent:a});return Hh(a,n)}"~validate"(e){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:an(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Fa(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(n=(a=s==null?void 0:s.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Fa(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:an(e)},n=this._parse({data:e,path:a.path,parent:a}),s=await(Oo(n)?n:Promise.resolve(n));return Hh(a,s)}refine(e,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{const i=e(n),o=()=>s.addIssue({code:Z.custom,...a(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,r){return this._refinement((a,n)=>e(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(e){return new Za({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vr.create(this,this._def)}nullable(){return Ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ma.create(this)}promise(){return Ao.create(this,this._def)}or(e){return No.create([this,e],this._def)}and(e){return zo.create(this,e,this._def)}transform(e){return new Za({...ue(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new lc({...ue(this._def),innerType:this,defaultValue:r,typeName:V.ZodDefault})}brand(){return new Uw({typeName:V.ZodBranded,type:this,...ue(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new uc({...ue(this._def),innerType:this,catchValue:r,typeName:V.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Od.create(this,e)}readonly(){return cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const ww=/^c[^\s-]{8,}$/i,Sw=/^[0-9a-z]+$/,Ew=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pw=/^[a-z0-9_-]{21}$/i,xw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$w="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yl;const Iw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ow=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Cw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zw=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aw=new RegExp(`^${wg}$`);function Sg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Dw(t){return new RegExp(`^${Sg(t)}$`)}function jw(t){let e=`${wg}T${Sg(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Lw(t,e){return!!((e==="v4"||!e)&&Iw.test(t)||(e==="v6"||!e)&&Ow.test(t))}function Fw(t,e){if(!xw.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function Mw(t,e){return!!((e==="v4"||!e)&&bw.test(t)||(e==="v6"||!e)&&Cw.test(t))}let qh=class gs extends ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return B(s,{code:Z.invalid_type,expected:K.string,received:s.parsedType}),ie}const a=new Gt;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?B(n,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&B(n,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")Rw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")Yl||(Yl=new RegExp($w,"u")),Yl.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")kw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")Pw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"nanoid",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")ww.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")Sw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")Ew.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:Z.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:Z.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:Z.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?jw(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?Aw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?Dw(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:Z.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?Tw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"duration",code:Z.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?Lw(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:Z.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?Fw(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"jwt",code:Z.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?Mw(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cidr",code:Z.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?Nw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64",code:Z.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?zw.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64url",code:Z.invalid_string,message:s.message}),a.dirty()):ge.assertNever(s);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(n=>e.test(n),{validation:r,code:Z.invalid_string,...G.errToObj(a)})}_addCheck(e){return new gs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...G.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...G.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...G.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...G.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...G.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...G.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...G.errToObj(r)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};qh.create=t=>new qh({checks:[],typeName:V.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});function Zw(t,e){const r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=r>a?r:a,s=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return s%i/10**n}let Bh=class sc extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return B(s,{code:Z.invalid_type,expected:K.number,received:s.parsedType}),ie}let a;const n=new Gt;for(const s of this._def.checks)s.kind==="int"?ge.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),B(a,{code:Z.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?Zw(e.data,s.value)!==0&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),B(a,{code:Z.not_finite,message:s.message}),n.dirty()):ge.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,G.toString(r))}gt(e,r){return this.setLimit("min",e,!1,G.toString(r))}lte(e,r){return this.setLimit("max",e,!0,G.toString(r))}lt(e,r){return this.setLimit("max",e,!1,G.toString(r))}setLimit(e,r,a,n){return new sc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:G.toString(n)}]})}_addCheck(e){return new sc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ge.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Bh.create=t=>new Bh({checks:[],typeName:V.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class Qs extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let a;const n=new Gt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),B(a,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):ge.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return B(r,{code:Z.invalid_type,expected:K.bigint,received:r.parsedType}),ie}gte(e,r){return this.setLimit("min",e,!0,G.toString(r))}gt(e,r){return this.setLimit("min",e,!1,G.toString(r))}lte(e,r){return this.setLimit("max",e,!0,G.toString(r))}lt(e,r){return this.setLimit("max",e,!1,G.toString(r))}setLimit(e,r,a,n){return new Qs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:G.toString(n)}]})}_addCheck(e){return new Qs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qs.create=t=>new Qs({checks:[],typeName:V.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});let Qh=class extends ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.boolean,received:a.parsedType}),ie}return ur(e.data)}};Qh.create=t=>new Qh({typeName:V.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class Co extends ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return B(s,{code:Z.invalid_type,expected:K.date,received:s.parsedType}),ie}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return B(s,{code:Z.invalid_date}),ie}const a=new Gt;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:Z.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:Z.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):ge.assertNever(s);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Co({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Co.create=t=>new Co({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:V.ZodDate,...ue(t)});class Wh extends ve{_parse(e){if(this._getType(e)!==K.symbol){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.symbol,received:a.parsedType}),ie}return ur(e.data)}}Wh.create=t=>new Wh({typeName:V.ZodSymbol,...ue(t)});class Kh extends ve{_parse(e){if(this._getType(e)!==K.undefined){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.undefined,received:a.parsedType}),ie}return ur(e.data)}}Kh.create=t=>new Kh({typeName:V.ZodUndefined,...ue(t)});let Gh=class extends ve{_parse(e){if(this._getType(e)!==K.null){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.null,received:a.parsedType}),ie}return ur(e.data)}};Gh.create=t=>new Gh({typeName:V.ZodNull,...ue(t)});class Jh extends ve{constructor(){super(...arguments),this._any=!0}_parse(e){return ur(e.data)}}Jh.create=t=>new Jh({typeName:V.ZodAny,...ue(t)});let Yh=class extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ur(e.data)}};Yh.create=t=>new Yh({typeName:V.ZodUnknown,...ue(t)});let xn=class extends ve{_parse(e){const r=this._getOrReturnCtx(e);return B(r,{code:Z.invalid_type,expected:K.never,received:r.parsedType}),ie}};xn.create=t=>new xn({typeName:V.ZodNever,...ue(t)});class Xh extends ve{_parse(e){if(this._getType(e)!==K.undefined){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.void,received:a.parsedType}),ie}return ur(e.data)}}Xh.create=t=>new Xh({typeName:V.ZodVoid,...ue(t)});let Ma=class to extends ve{_parse(e){const{ctx:r,status:a}=this._processInputParams(e),n=this._def;if(r.parsedType!==K.array)return B(r,{code:Z.invalid_type,expected:K.array,received:r.parsedType}),ie;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,o=r.data.length<n.exactLength.value;(i||o)&&(B(r,{code:i?Z.too_big:Z.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(B(r,{code:Z.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(B(r,{code:Z.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>n.type._parseAsync(new Pn(r,i,r.path,o)))).then(i=>Gt.mergeArray(a,i));const s=[...r.data].map((i,o)=>n.type._parseSync(new Pn(r,i,r.path,o)));return Gt.mergeArray(a,s)}get element(){return this._def.type}min(e,r){return new to({...this._def,minLength:{value:e,message:G.toString(r)}})}max(e,r){return new to({...this._def,maxLength:{value:e,message:G.toString(r)}})}length(e,r){return new to({...this._def,exactLength:{value:e,message:G.toString(r)}})}nonempty(e){return this.min(1,e)}};Ma.create=(t,e)=>new Ma({type:t,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...ue(e)});function ua(t){if(t instanceof kr){const e={};for(const r in t.shape){const a=t.shape[r];e[r]=Vr.create(ua(a))}return new kr({...t._def,shape:()=>e})}else return t instanceof Ma?new Ma({...t._def,type:ua(t.element)}):t instanceof Vr?Vr.create(ua(t.unwrap())):t instanceof Ua?Ua.create(ua(t.unwrap())):t instanceof ra?ra.create(t.items.map(e=>ua(e))):t}let kr=class mr extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ge.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return B(u,{code:Z.invalid_type,expected:K.object,received:u.parsedType}),ie}const{status:a,ctx:n}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof xn&&this._def.unknownKeys==="strip"))for(const u in n.data)i.includes(u)||o.push(u);const l=[];for(const u of i){const c=s[u],d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Pn(n,d,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof xn){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(u==="strict")o.length>0&&(B(n,{code:Z.unrecognized_keys,keys:o}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Pn(n,d,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,p=await c.value;u.push({key:d,value:p,alwaysSet:c.alwaysSet})}return u}).then(u=>Gt.mergeObjectSync(a,u)):Gt.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new mr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{var s,i;const n=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:G.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new mr({...this._def,unknownKeys:"strip"})}passthrough(){return new mr({...this._def,unknownKeys:"passthrough"})}extend(e){return new mr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:V.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new mr({...this._def,catchall:e})}pick(e){const r={};for(const a of ge.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new mr({...this._def,shape:()=>r})}omit(e){const r={};for(const a of ge.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new mr({...this._def,shape:()=>r})}deepPartial(){return ua(this)}partial(e){const r={};for(const a of ge.objectKeys(this.shape)){const n=this.shape[a];e&&!e[a]?r[a]=n:r[a]=n.optional()}return new mr({...this._def,shape:()=>r})}required(e){const r={};for(const a of ge.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof Vr;)s=s._def.innerType;r[a]=s}return new mr({...this._def,shape:()=>r})}keyof(){return Eg(ge.objectKeys(this.shape))}};kr.create=(t,e)=>new kr({shape:()=>t,unknownKeys:"strip",catchall:xn.create(),typeName:V.ZodObject,...ue(e)});kr.strictCreate=(t,e)=>new kr({shape:()=>t,unknownKeys:"strict",catchall:xn.create(),typeName:V.ZodObject,...ue(e)});kr.lazycreate=(t,e)=>new kr({shape:t,unknownKeys:"strip",catchall:xn.create(),typeName:V.ZodObject,...ue(e)});let No=class extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),a=this._def.options;function n(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new Wr(o.ctx.common.issues));return B(r,{code:Z.invalid_union,unionErrors:i}),ie}if(r.common.async)return Promise.all(a.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let s;const i=[];for(const l of a){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(l=>new Wr(l));return B(r,{code:Z.invalid_union,unionErrors:o}),ie}}get options(){return this._def.options}};No.create=(t,e)=>new No({options:t,typeName:V.ZodUnion,...ue(e)});function ic(t,e){const r=an(t),a=an(e);if(t===e)return{valid:!0,data:t};if(r===K.object&&a===K.object){const n=ge.objectKeys(e),s=ge.objectKeys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of s){const l=ic(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(r===K.array&&a===K.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<t.length;s++){const i=t[s],o=e[s],l=ic(i,o);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return r===K.date&&a===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let zo=class extends ve{_parse(e){const{status:r,ctx:a}=this._processInputParams(e),n=(s,i)=>{if(Uh(s)||Uh(i))return ie;const o=ic(s.value,i.value);return o.valid?((Vh(s)||Vh(i))&&r.dirty(),{status:r.value,value:o.data}):(B(a,{code:Z.invalid_intersection_types}),ie)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,i])=>n(s,i)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};zo.create=(t,e,r)=>new zo({left:t,right:e,typeName:V.ZodIntersection,...ue(r)});class ra extends ve{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==K.array)return B(a,{code:Z.invalid_type,expected:K.array,received:a.parsedType}),ie;if(a.data.length<this._def.items.length)return B(a,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&a.data.length>this._def.items.length&&(B(a,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...a.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Pn(a,i,a.path,o)):null}).filter(i=>!!i);return a.common.async?Promise.all(s).then(i=>Gt.mergeArray(r,i)):Gt.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ra({...this._def,rest:e})}}ra.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ra({items:t,typeName:V.ZodTuple,rest:null,...ue(e)})};class ep extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==K.map)return B(a,{code:Z.invalid_type,expected:K.map,received:a.parsedType}),ie;const n=this._def.keyType,s=this._def.valueType,i=[...a.data.entries()].map(([o,l],u)=>({key:n._parse(new Pn(a,o,a.path,[u,"key"])),value:s._parse(new Pn(a,l,a.path,[u,"value"]))}));if(a.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of i){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}ep.create=(t,e,r)=>new ep({valueType:e,keyType:t,typeName:V.ZodMap,...ue(r)});class Ws extends ve{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==K.set)return B(a,{code:Z.invalid_type,expected:K.set,received:a.parsedType}),ie;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(B(a,{code:Z.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(B(a,{code:Z.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const s=this._def.valueType;function i(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ie;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...a.data.values()].map((l,u)=>s._parse(new Pn(a,l,a.path,u)));return a.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,r){return new Ws({...this._def,minSize:{value:e,message:G.toString(r)}})}max(e,r){return new Ws({...this._def,maxSize:{value:e,message:G.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ws.create=(t,e)=>new Ws({valueType:t,minSize:null,maxSize:null,typeName:V.ZodSet,...ue(e)});class tp extends ve{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}tp.create=(t,e)=>new tp({getter:t,typeName:V.ZodLazy,...ue(e)});let rp=class extends ve{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return B(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}};rp.create=(t,e)=>new rp({value:t,typeName:V.ZodLiteral,...ue(e)});function Eg(t,e){return new bd({values:t,typeName:V.ZodEnum,...ue(e)})}let bd=class oc extends ve{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),a=this._def.values;return B(r,{expected:ge.joinValues(a),received:r.parsedType,code:Z.invalid_type}),ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),a=this._def.values;return B(r,{received:r.data,code:Z.invalid_enum_value,options:a}),ie}return ur(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return oc.create(e,{...this._def,...r})}exclude(e,r=this._def){return oc.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};bd.create=Eg;class np extends ve{_parse(e){const r=ge.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==K.string&&a.parsedType!==K.number){const n=ge.objectValues(r);return B(a,{expected:ge.joinValues(n),received:a.parsedType,code:Z.invalid_type}),ie}if(this._cache||(this._cache=new Set(ge.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=ge.objectValues(r);return B(a,{received:a.data,code:Z.invalid_enum_value,options:n}),ie}return ur(e.data)}get enum(){return this._def.values}}np.create=(t,e)=>new np({values:t,typeName:V.ZodNativeEnum,...ue(e)});class Ao extends ve{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==K.promise&&r.common.async===!1)return B(r,{code:Z.invalid_type,expected:K.promise,received:r.parsedType}),ie;const a=r.parsedType===K.promise?r.data:Promise.resolve(r.data);return ur(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ao.create=(t,e)=>new Ao({type:t,typeName:V.ZodPromise,...ue(e)});class Za extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:a}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:i=>{B(a,i),i.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const i=n.transform(a.data,s);if(a.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return ie;const l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?ie:l.status==="dirty"||r.value==="dirty"?vs(l.value):l});{if(r.value==="aborted")return ie;const o=this._def.schema._parseSync({data:i,path:a.path,parent:a});return o.status==="aborted"?ie:o.status==="dirty"||r.value==="dirty"?vs(o.value):o}}if(n.type==="refinement"){const i=o=>{const l=n.refinement(o,s);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?ie:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?ie:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(n.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Fa(i))return ie;const o=n.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>Fa(i)?Promise.resolve(n.transform(i.value,s)).then(o=>({status:r.value,value:o})):ie);ge.assertNever(n)}}Za.create=(t,e,r)=>new Za({schema:t,typeName:V.ZodEffects,effect:e,...ue(r)});Za.createWithPreprocess=(t,e,r)=>new Za({schema:e,effect:{type:"preprocess",transform:t},typeName:V.ZodEffects,...ue(r)});let Vr=class extends ve{_parse(e){return this._getType(e)===K.undefined?ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Vr.create=(t,e)=>new Vr({innerType:t,typeName:V.ZodOptional,...ue(e)});let Ua=class extends ve{_parse(e){return this._getType(e)===K.null?ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ua.create=(t,e)=>new Ua({innerType:t,typeName:V.ZodNullable,...ue(e)});let lc=class extends ve{_parse(e){const{ctx:r}=this._processInputParams(e);let a=r.data;return r.parsedType===K.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};lc.create=(t,e)=>new lc({innerType:t,typeName:V.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ue(e)});let uc=class extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Oo(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wr(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Wr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};uc.create=(t,e)=>new uc({innerType:t,typeName:V.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ue(e)});class ap extends ve{_parse(e){if(this._getType(e)!==K.nan){const a=this._getOrReturnCtx(e);return B(a,{code:Z.invalid_type,expected:K.nan,received:a.parsedType}),ie}return{status:"valid",value:e.data}}}ap.create=t=>new ap({typeName:V.ZodNaN,...ue(t)});class Uw extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class Od extends ve{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?ie:s.status==="dirty"?(r.dirty(),vs(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?ie:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(e,r){return new Od({in:e,out:r,typeName:V.ZodPipeline})}}let cc=class extends ve{_parse(e){const r=this._def.innerType._parse(e),a=n=>(Fa(n)&&(n.value=Object.freeze(n.value)),n);return Oo(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}};cc.create=(t,e)=>new cc({innerType:t,typeName:V.ZodReadonly,...ue(e)});kr.lazycreate;var V;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(V||(V={}));xn.create;Ma.create;const Vw=kr.create;kr.strictCreate;No.create;zo.create;ra.create;bd.create;Ao.create;Vr.create;Ua.create;function C(t,e,r){function a(o,l){var u;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(u=o._zod).traits??(u.traits=new Set),o._zod.traits.add(t),e(o,l);for(const c in i.prototype)c in o||Object.defineProperty(o,c,{value:i.prototype[c].bind(o)});o._zod.constr=i,o._zod.def=l}const n=(r==null?void 0:r.Parent)??Object;class s extends n{}Object.defineProperty(s,"name",{value:t});function i(o){var l;const u=r!=null&&r.Parent?new s:this;a(u,o),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:a}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,u;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(u=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:u.has(t)}}),Object.defineProperty(i,"name",{value:t}),i}class Ks extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const dc={};function Tn(t){return t&&Object.assign(dc,t),dc}function kg(t){const e=Object.values(t).filter(a=>typeof a=="number");return Object.entries(t).filter(([a,n])=>e.indexOf(+a)===-1).map(([a,n])=>n)}function Hw(t,e){return typeof e=="bigint"?e.toString():e}function Cd(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Nd(t){return t==null}function zd(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function qw(t,e){const r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,n=r>a?r:a,s=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return s%i/10**n}function Re(t,e,r){Object.defineProperty(t,e,{get(){{const a=r();return t[e]=a,a}},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function ri(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function us(t){return JSON.stringify(t)}const Pg=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Do(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Bw=Cd(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function jo(t){if(Do(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(Do(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const Qw=new Set(["string","number","symbol"]);function ni(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function On(t,e,r){const a=new t._zod.constr(e??t._zod.def);return(!e||r!=null&&r.parent)&&(a._zod.parent=t),a}function J(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Ww(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Kw={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Gw(t,e){const r={},a=t._zod.def;for(const n in e){if(!(n in a.shape))throw new Error(`Unrecognized key: "${n}"`);e[n]&&(r[n]=a.shape[n])}return On(t,{...t._zod.def,shape:r,checks:[]})}function Jw(t,e){const r={...t._zod.def.shape},a=t._zod.def;for(const n in e){if(!(n in a.shape))throw new Error(`Unrecognized key: "${n}"`);e[n]&&delete r[n]}return On(t,{...t._zod.def,shape:r,checks:[]})}function Yw(t,e){if(!jo(e))throw new Error("Invalid input to extend: expected a plain object");const r={...t._zod.def,get shape(){const a={...t._zod.def.shape,...e};return ri(this,"shape",a),a},checks:[]};return On(t,r)}function Xw(t,e){return On(t,{...t._zod.def,get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ri(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function eS(t,e,r){const a=e._zod.def.shape,n={...a};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(n[s]=t?new t({type:"optional",innerType:a[s]}):a[s])}else for(const s in a)n[s]=t?new t({type:"optional",innerType:a[s]}):a[s];return On(e,{...e._zod.def,shape:n,checks:[]})}function tS(t,e,r){const a=e._zod.def.shape,n={...a};if(r)for(const s in r){if(!(s in n))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(n[s]=new t({type:"nonoptional",innerType:a[s]}))}else for(const s in a)n[s]=new t({type:"nonoptional",innerType:a[s]});return On(e,{...e._zod.def,shape:n,checks:[]})}function $s(t,e=0){var r;for(let a=e;a<t.issues.length;a++)if(((r=t.issues[a])==null?void 0:r.continue)!==!0)return!0;return!1}function qn(t,e){return e.map(r=>{var a;return(a=r).path??(a.path=[]),r.path.unshift(t),r})}function Di(t){return typeof t=="string"?t:t==null?void 0:t.message}function Rn(t,e,r){var n,s,i,o,l,u;const a={...t,path:t.path??[]};if(!t.message){const c=Di((i=(s=(n=t.inst)==null?void 0:n._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,t))??Di((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Di((l=r.customError)==null?void 0:l.call(r,t))??Di((u=r.localeError)==null?void 0:u.call(r,t))??"Invalid input";a.message=c}return delete a.inst,delete a.continue,e!=null&&e.reportInput||delete a.input,a}function Ad(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Gs(...t){const[e,r,a]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:a}:{...e}}const xg=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,Hw,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Tg=C("$ZodError",xg),fl=C("$ZodError",xg,{Parent:Error});function rS(t,e=r=>r.message){const r={},a=[];for(const n of t.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):a.push(e(n));return{formErrors:a,fieldErrors:r}}function nS(t,e){const r=e||function(s){return s.message},a={_errors:[]},n=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>n({issues:o}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)a._errors.push(r(i));else{let o=a,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(i))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return n(t),a}const Rg=t=>(e,r,a,n)=>{const s=a?Object.assign(a,{async:!1}):{async:!1},i=e._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Ks;if(i.issues.length){const o=new((n==null?void 0:n.Err)??t)(i.issues.map(l=>Rn(l,s,Tn())));throw Pg(o,n==null?void 0:n.callee),o}return i.value},aS=Rg(fl),$g=t=>async(e,r,a,n)=>{const s=a?Object.assign(a,{async:!0}):{async:!0};let i=e._zod.run({value:r,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((n==null?void 0:n.Err)??t)(i.issues.map(l=>Rn(l,s,Tn())));throw Pg(o,n==null?void 0:n.callee),o}return i.value},sS=$g(fl),Ig=t=>(e,r,a)=>{const n=a?{...a,async:!1}:{async:!1},s=e._zod.run({value:r,issues:[]},n);if(s instanceof Promise)throw new Ks;return s.issues.length?{success:!1,error:new(t??Tg)(s.issues.map(i=>Rn(i,n,Tn())))}:{success:!0,data:s.value}},Dd=Ig(fl),bg=t=>async(e,r,a)=>{const n=a?Object.assign(a,{async:!0}):{async:!0};let s=e._zod.run({value:r,issues:[]},n);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(i=>Rn(i,n,Tn())))}:{success:!0,data:s.value}},jd=bg(fl),iS=/^[cC][^\s-]{8,}$/,oS=/^[0-9a-z]+$/,lS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uS=/^[0-9a-vA-V]{20}$/,cS=/^[A-Za-z0-9]{27}$/,dS=/^[a-zA-Z0-9_-]{21}$/,fS=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,hS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sp=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,pS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function vS(){return new RegExp(mS,"u")}const gS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,_S=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SS=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Og=/^[A-Za-z0-9_-]*$/,ES=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,kS=/^\+(?:[0-9]){6,14}[0-9]$/,Cg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",PS=new RegExp(`^${Cg}$`);function Ng(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xS(t){return new RegExp(`^${Ng(t)}$`)}function TS(t){const e=Ng({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");const a=`${e}(?:${r.join("|")})`;return new RegExp(`^${Cg}T(?:${a})$`)}const RS=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},$S=/^\d+$/,IS=/^-?\d+(?:\.\d+)?/i,bS=/true|false/i,OS=/null/i,CS=/^[^A-Z]*$/,NS=/^[^a-z]*$/,Ut=C("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),zg={number:"number",bigint:"bigint",object:"date"},Ag=C("$ZodCheckLessThan",(t,e)=>{Ut.init(t,e);const r=zg[typeof e.value];t._zod.onattach.push(a=>{const n=a._zod.bag,s=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value)}),t._zod.check=a=>{(e.inclusive?a.value<=e.value:a.value<e.value)||a.issues.push({origin:r,code:"too_big",maximum:e.value,input:a.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Dg=C("$ZodCheckGreaterThan",(t,e)=>{Ut.init(t,e);const r=zg[typeof e.value];t._zod.onattach.push(a=>{const n=a._zod.bag,s=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value)}),t._zod.check=a=>{(e.inclusive?a.value>=e.value:a.value>e.value)||a.issues.push({origin:r,code:"too_small",minimum:e.value,input:a.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),zS=C("$ZodCheckMultipleOf",(t,e)=>{Ut.init(t,e),t._zod.onattach.push(r=>{var a;(a=r._zod.bag).multipleOf??(a.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):qw(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),AS=C("$ZodCheckNumberFormat",(t,e)=>{var i;Ut.init(t,e),e.format=e.format||"float64";const r=(i=e.format)==null?void 0:i.includes("int"),a=r?"int":"number",[n,s]=Kw[e.format];t._zod.onattach.push(o=>{const l=o._zod.bag;l.format=e.format,l.minimum=n,l.maximum=s,r&&(l.pattern=$S)}),t._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:a,format:e.format,code:"invalid_type",input:l,inst:t});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:a,continue:!e.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:a,continue:!e.abort});return}}l<n&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:t})}}),DS=C("$ZodCheckMaxLength",(t,e)=>{var r;Ut.init(t,e),(r=t._zod.def).when??(r.when=a=>{const n=a.value;return!Nd(n)&&n.length!==void 0}),t._zod.onattach.push(a=>{const n=a._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(a._zod.bag.maximum=e.maximum)}),t._zod.check=a=>{const n=a.value;if(n.length<=e.maximum)return;const i=Ad(n);a.issues.push({origin:i,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),jS=C("$ZodCheckMinLength",(t,e)=>{var r;Ut.init(t,e),(r=t._zod.def).when??(r.when=a=>{const n=a.value;return!Nd(n)&&n.length!==void 0}),t._zod.onattach.push(a=>{const n=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(a._zod.bag.minimum=e.minimum)}),t._zod.check=a=>{const n=a.value;if(n.length>=e.minimum)return;const i=Ad(n);a.issues.push({origin:i,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),LS=C("$ZodCheckLengthEquals",(t,e)=>{var r;Ut.init(t,e),(r=t._zod.def).when??(r.when=a=>{const n=a.value;return!Nd(n)&&n.length!==void 0}),t._zod.onattach.push(a=>{const n=a._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=a=>{const n=a.value,s=n.length;if(s===e.length)return;const i=Ad(n),o=s>e.length;a.issues.push({origin:i,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:a.value,inst:t,continue:!e.abort})}}),hl=C("$ZodCheckStringFormat",(t,e)=>{var r,a;Ut.init(t,e),t._zod.onattach.push(n=>{const s=n._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(a=t._zod).check??(a.check=()=>{})}),FS=C("$ZodCheckRegex",(t,e)=>{hl.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),MS=C("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=CS),hl.init(t,e)}),ZS=C("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=NS),hl.init(t,e)}),US=C("$ZodCheckIncludes",(t,e)=>{Ut.init(t,e);const r=ni(e.includes),a=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=a,t._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(a)}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort})}}),VS=C("$ZodCheckStartsWith",(t,e)=>{Ut.init(t,e);const r=new RegExp(`^${ni(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=a=>{a.value.startsWith(e.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:a.value,inst:t,continue:!e.abort})}}),HS=C("$ZodCheckEndsWith",(t,e)=>{Ut.init(t,e);const r=new RegExp(`.*${ni(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=a=>{a.value.endsWith(e.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:a.value,inst:t,continue:!e.abort})}}),qS=C("$ZodCheckOverwrite",(t,e)=>{Ut.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class BS{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const a=e.split(`
`).filter(i=>i),n=Math.min(...a.map(i=>i.length-i.trimStart().length)),s=a.map(i=>i.slice(n)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const e=Function,r=this==null?void 0:this.args,n=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...r,n.join(`
`))}}const QS={major:4,minor:0,patch:0},$e=C("$ZodType",(t,e)=>{var n;var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=QS;const a=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&a.unshift(t);for(const s of a)for(const i of s._zod.onattach)i(t);if(a.length===0)(r=t._zod).deferred??(r.deferred=[]),(n=t._zod.deferred)==null||n.push(()=>{t._zod.run=t._zod.parse});else{const s=(i,o,l)=>{let u=$s(i),c;for(const d of o){if(d._zod.def.when){if(!d._zod.def.when(i))continue}else if(u)continue;const p=i.issues.length,h=d._zod.check(i);if(h instanceof Promise&&(l==null?void 0:l.async)===!1)throw new Ks;if(c||h instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await h,i.issues.length!==p&&(u||(u=$s(i,p)))});else{if(i.issues.length===p)continue;u||(u=$s(i,p))}}return c?c.then(()=>i):i};t._zod.run=(i,o)=>{const l=t._zod.parse(i,o);if(l instanceof Promise){if(o.async===!1)throw new Ks;return l.then(u=>s(u,a,o))}return s(l,a,o)}}t["~standard"]={validate:s=>{var i;try{const o=Dd(t,s);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return jd(t,s).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ld=C("$ZodString",(t,e)=>{var r;$e.init(t,e),t._zod.pattern=[...((r=t==null?void 0:t._zod.bag)==null?void 0:r.patterns)??[]].pop()??RS(t._zod.bag),t._zod.parse=(a,n)=>{if(e.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:t}),a}}),je=C("$ZodStringFormat",(t,e)=>{hl.init(t,e),Ld.init(t,e)}),WS=C("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=hS),je.init(t,e)}),KS=C("$ZodUUID",(t,e)=>{if(e.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(a===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=sp(a))}else e.pattern??(e.pattern=sp());je.init(t,e)}),GS=C("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=pS),je.init(t,e)}),JS=C("$ZodURL",(t,e)=>{je.init(t,e),t._zod.check=r=>{try{const a=r.value,n=new URL(a),s=n.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ES.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!a.endsWith("/")&&s.endsWith("/")?r.value=s.slice(0,-1):r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),YS=C("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=vS()),je.init(t,e)}),XS=C("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=dS),je.init(t,e)}),eE=C("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=iS),je.init(t,e)}),tE=C("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=oS),je.init(t,e)}),rE=C("$ZodULID",(t,e)=>{e.pattern??(e.pattern=lS),je.init(t,e)}),nE=C("$ZodXID",(t,e)=>{e.pattern??(e.pattern=uS),je.init(t,e)}),aE=C("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=cS),je.init(t,e)}),sE=C("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=TS(e)),je.init(t,e)}),iE=C("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=PS),je.init(t,e)}),oE=C("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=xS(e)),je.init(t,e)}),lE=C("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=fS),je.init(t,e)}),uE=C("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=gS),je.init(t,e),t._zod.onattach.push(r=>{const a=r._zod.bag;a.format="ipv4"})}),cE=C("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=yS),je.init(t,e),t._zod.onattach.push(r=>{const a=r._zod.bag;a.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),dE=C("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=_S),je.init(t,e)}),fE=C("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=wS),je.init(t,e),t._zod.check=r=>{const[a,n]=r.value.split("/");try{if(!n)throw new Error;const s=Number(n);if(`${s}`!==n)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function jg(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const hE=C("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=SS),je.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{jg(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function pE(t){if(!Og.test(t))return!1;const e=t.replace(/[-_]/g,a=>a==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return jg(r)}const mE=C("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Og),je.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{pE(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),vE=C("$ZodE164",(t,e)=>{e.pattern??(e.pattern=kS),je.init(t,e)});function gE(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[a]=r;if(!a)return!1;const n=JSON.parse(atob(a));return!("typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return!1}}const yE=C("$ZodJWT",(t,e)=>{je.init(t,e),t._zod.check=r=>{gE(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Lg=C("$ZodNumber",(t,e)=>{$e.init(t,e),t._zod.pattern=t._zod.bag.pattern??IS,t._zod.parse=(r,a)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;const s=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...s?{received:s}:{}}),r}}),_E=C("$ZodNumber",(t,e)=>{AS.init(t,e),Lg.init(t,e)}),wE=C("$ZodBoolean",(t,e)=>{$e.init(t,e),t._zod.pattern=bS,t._zod.parse=(r,a)=>{if(e.coerce)try{r.value=!!r.value}catch{}const n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),r}}),SE=C("$ZodNull",(t,e)=>{$e.init(t,e),t._zod.pattern=OS,t._zod.values=new Set([null]),t._zod.parse=(r,a)=>{const n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:t}),r}}),EE=C("$ZodUnknown",(t,e)=>{$e.init(t,e),t._zod.parse=r=>r}),kE=C("$ZodNever",(t,e)=>{$e.init(t,e),t._zod.parse=(r,a)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function ip(t,e,r){t.issues.length&&e.issues.push(...qn(r,t.issues)),e.value[r]=t.value}const PE=C("$ZodArray",(t,e)=>{$e.init(t,e),t._zod.parse=(r,a)=>{const n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),r;r.value=Array(n.length);const s=[];for(let i=0;i<n.length;i++){const o=n[i],l=e.element._zod.run({value:o,issues:[]},a);l instanceof Promise?s.push(l.then(u=>ip(u,r,i))):ip(l,r,i)}return s.length?Promise.all(s).then(()=>r):r}});function ji(t,e,r){t.issues.length&&e.issues.push(...qn(r,t.issues)),e.value[r]=t.value}function op(t,e,r,a){t.issues.length?a[r]===void 0?r in a?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...qn(r,t.issues)):t.value===void 0?r in a&&(e.value[r]=void 0):e.value[r]=t.value}const Fg=C("$ZodObject",(t,e)=>{$e.init(t,e);const r=Cd(()=>{const d=Object.keys(e.shape);for(const h of d)if(!(e.shape[h]instanceof $e))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const p=Ww(e.shape);return{shape:e.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(p)}});Re(t._zod,"propValues",()=>{const d=e.shape,p={};for(const h in d){const m=d[h]._zod;if(m.values){p[h]??(p[h]=new Set);for(const y of m.values)p[h].add(y)}}return p});const a=d=>{const p=new BS(["shape","payload","ctx"]),h=r.value,m=v=>{const g=us(v);return`shape[${g}]._zod.run({ value: input[${g}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let _=0;for(const v of h.keys)y[v]=`key_${_++}`;p.write("const newResult = {}");for(const v of h.keys)if(h.optionalKeys.has(v)){const g=y[v];p.write(`const ${g} = ${m(v)};`);const S=us(v);p.write(`
        if (${g}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${g}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${g}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${g}.value;
        }
        `)}else{const g=y[v];p.write(`const ${g} = ${m(v)};`),p.write(`
          if (${g}.issues.length) payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${us(v)}, ...iss.path] : [${us(v)}]
          })));`),p.write(`newResult[${us(v)}] = ${g}.value`)}p.write("payload.value = newResult;"),p.write("return payload;");const f=p.compile();return(v,g)=>f(d,v,g)};let n;const s=Do,i=!dc.jitless,l=i&&Bw.value,u=e.catchall;let c;t._zod.parse=(d,p)=>{c??(c=r.value);const h=d.value;if(!s(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),d;const m=[];if(i&&l&&(p==null?void 0:p.async)===!1&&p.jitless!==!0)n||(n=a(e.shape)),d=n(d,p);else{d.value={};const g=c.shape;for(const S of c.keys){const P=g[S],x=P._zod.run({value:h[S],issues:[]},p),R=P._zod.optin==="optional"&&P._zod.optout==="optional";x instanceof Promise?m.push(x.then($=>R?op($,d,S,h):ji($,d,S))):R?op(x,d,S,h):ji(x,d,S)}}if(!u)return m.length?Promise.all(m).then(()=>d):d;const y=[],_=c.keySet,f=u._zod,v=f.def.type;for(const g of Object.keys(h)){if(_.has(g))continue;if(v==="never"){y.push(g);continue}const S=f.run({value:h[g],issues:[]},p);S instanceof Promise?m.push(S.then(P=>ji(P,d,g))):ji(S,d,g)}return y.length&&d.issues.push({code:"unrecognized_keys",keys:y,input:h,inst:t}),m.length?Promise.all(m).then(()=>d):d}});function lp(t,e,r,a){for(const n of t)if(n.issues.length===0)return e.value=n.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(n=>n.issues.map(s=>Rn(s,a,Tn())))}),e}const Mg=C("$ZodUnion",(t,e)=>{$e.init(t,e),Re(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Re(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Re(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Re(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>zd(a.source)).join("|")})$`)}}),t._zod.parse=(r,a)=>{let n=!1;const s=[];for(const i of e.options){const o=i._zod.run({value:r.value,issues:[]},a);if(o instanceof Promise)s.push(o),n=!0;else{if(o.issues.length===0)return o;s.push(o)}}return n?Promise.all(s).then(i=>lp(i,r,t,a)):lp(s,r,t,a)}}),xE=C("$ZodDiscriminatedUnion",(t,e)=>{Mg.init(t,e);const r=t._zod.parse;Re(t._zod,"propValues",()=>{const n={};for(const s of e.options){const i=s._zod.propValues;if(!i||Object.keys(i).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const[o,l]of Object.entries(i)){n[o]||(n[o]=new Set);for(const u of l)n[o].add(u)}}return n});const a=Cd(()=>{const n=e.options,s=new Map;for(const i of n){const o=i._zod.propValues[e.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(const l of o){if(s.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);s.set(l,i)}}return s});t._zod.parse=(n,s)=>{const i=n.value;if(!Do(i))return n.issues.push({code:"invalid_type",expected:"object",input:i,inst:t}),n;const o=a.value.get(i==null?void 0:i[e.discriminator]);return o?o._zod.run(n,s):e.unionFallback?r(n,s):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:i,path:[e.discriminator],inst:t}),n)}}),TE=C("$ZodIntersection",(t,e)=>{$e.init(t,e),t._zod.parse=(r,a)=>{const n=r.value,s=e.left._zod.run({value:n,issues:[]},a),i=e.right._zod.run({value:n,issues:[]},a);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,u])=>up(r,l,u)):up(r,s,i)}});function fc(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(jo(t)&&jo(e)){const r=Object.keys(e),a=Object.keys(t).filter(s=>r.indexOf(s)!==-1),n={...t,...e};for(const s of a){const i=fc(t[s],e[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};n[s]=i.data}return{valid:!0,data:n}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let a=0;a<t.length;a++){const n=t[a],s=e[a],i=fc(n,s);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function up(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),$s(t))return t;const a=fc(e.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const RE=C("$ZodRecord",(t,e)=>{$e.init(t,e),t._zod.parse=(r,a)=>{const n=r.value;if(!jo(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),r;const s=[];if(e.keyType._zod.values){const i=e.keyType._zod.values;r.value={};for(const l of i)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=e.valueType._zod.run({value:n[l],issues:[]},a);u instanceof Promise?s.push(u.then(c=>{c.issues.length&&r.issues.push(...qn(l,c.issues)),r.value[l]=c.value})):(u.issues.length&&r.issues.push(...qn(l,u.issues)),r.value[l]=u.value)}let o;for(const l in n)i.has(l)||(o=o??[],o.push(l));o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:o})}else{r.value={};for(const i of Reflect.ownKeys(n)){if(i==="__proto__")continue;const o=e.keyType._zod.run({value:i,issues:[]},a);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:o.issues.map(u=>Rn(u,a,Tn())),input:i,path:[i],inst:t}),r.value[o.value]=o.value;continue}const l=e.valueType._zod.run({value:n[i],issues:[]},a);l instanceof Promise?s.push(l.then(u=>{u.issues.length&&r.issues.push(...qn(i,u.issues)),r.value[o.value]=u.value})):(l.issues.length&&r.issues.push(...qn(i,l.issues)),r.value[o.value]=l.value)}}return s.length?Promise.all(s).then(()=>r):r}}),$E=C("$ZodEnum",(t,e)=>{$e.init(t,e);const r=kg(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(a=>Qw.has(typeof a)).map(a=>typeof a=="string"?ni(a):a.toString()).join("|")})$`),t._zod.parse=(a,n)=>{const s=a.value;return t._zod.values.has(s)||a.issues.push({code:"invalid_value",values:r,input:s,inst:t}),a}}),IE=C("$ZodLiteral",(t,e)=>{$e.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?ni(r):r?r.toString():String(r)).join("|")})$`),t._zod.parse=(r,a)=>{const n=r.value;return t._zod.values.has(n)||r.issues.push({code:"invalid_value",values:e.values,input:n,inst:t}),r}}),bE=C("$ZodTransform",(t,e)=>{$e.init(t,e),t._zod.parse=(r,a)=>{const n=e.transform(r.value,r);if(a.async)return(n instanceof Promise?n:Promise.resolve(n)).then(i=>(r.value=i,r));if(n instanceof Promise)throw new Ks;return r.value=n,r}}),OE=C("$ZodOptional",(t,e)=>{$e.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Re(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Re(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${zd(r.source)})?$`):void 0}),t._zod.parse=(r,a)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,a):r.value===void 0?r:e.innerType._zod.run(r,a)}),CE=C("$ZodNullable",(t,e)=>{$e.init(t,e),Re(t._zod,"optin",()=>e.innerType._zod.optin),Re(t._zod,"optout",()=>e.innerType._zod.optout),Re(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${zd(r.source)}|null)$`):void 0}),Re(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,a)=>r.value===null?r:e.innerType._zod.run(r,a)}),NE=C("$ZodDefault",(t,e)=>{$e.init(t,e),t._zod.optin="optional",Re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,a)=>{if(r.value===void 0)return r.value=e.defaultValue,r;const n=e.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>cp(s,e)):cp(n,e)}});function cp(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const zE=C("$ZodPrefault",(t,e)=>{$e.init(t,e),t._zod.optin="optional",Re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,a)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,a))}),AE=C("$ZodNonOptional",(t,e)=>{$e.init(t,e),Re(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(a=>a!==void 0)):void 0}),t._zod.parse=(r,a)=>{const n=e.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>dp(s,t)):dp(n,t)}});function dp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const DE=C("$ZodCatch",(t,e)=>{$e.init(t,e),t._zod.optin="optional",Re(t._zod,"optout",()=>e.innerType._zod.optout),Re(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,a)=>{const n=e.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>(r.value=s.value,s.issues.length&&(r.value=e.catchValue({...r,error:{issues:s.issues.map(i=>Rn(i,a,Tn()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=e.catchValue({...r,error:{issues:n.issues.map(s=>Rn(s,a,Tn()))},input:r.value}),r.issues=[]),r)}}),jE=C("$ZodPipe",(t,e)=>{$e.init(t,e),Re(t._zod,"values",()=>e.in._zod.values),Re(t._zod,"optin",()=>e.in._zod.optin),Re(t._zod,"optout",()=>e.out._zod.optout),t._zod.parse=(r,a)=>{const n=e.in._zod.run(r,a);return n instanceof Promise?n.then(s=>fp(s,e,a)):fp(n,e,a)}});function fp(t,e,r){return $s(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}const LE=C("$ZodReadonly",(t,e)=>{$e.init(t,e),Re(t._zod,"propValues",()=>e.innerType._zod.propValues),Re(t._zod,"values",()=>e.innerType._zod.values),Re(t._zod,"optin",()=>e.innerType._zod.optin),Re(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,a)=>{const n=e.innerType._zod.run(r,a);return n instanceof Promise?n.then(hp):hp(n)}});function hp(t){return t.value=Object.freeze(t.value),t}const FE=C("$ZodCustom",(t,e)=>{Ut.init(t,e),$e.init(t,e),t._zod.parse=(r,a)=>r,t._zod.check=r=>{const a=r.value,n=e.fn(a);if(n instanceof Promise)return n.then(s=>pp(s,r,a,t));pp(n,r,a,t)}});function pp(t,e,r,a){if(!t){const n={code:"custom",input:r,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(n.params=a._zod.def.params),e.issues.push(Gs(n))}}class Zg{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){const a=r[0];if(this._map.set(e,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const a={...this.get(r)??{}};return delete a.id,{...a,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function ME(){return new Zg}const ys=ME();function ZE(t,e){return new t({type:"string",...J(e)})}function UE(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...J(e)})}function mp(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...J(e)})}function VE(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...J(e)})}function HE(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...J(e)})}function qE(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...J(e)})}function BE(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...J(e)})}function QE(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...J(e)})}function WE(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...J(e)})}function KE(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...J(e)})}function GE(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...J(e)})}function JE(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...J(e)})}function YE(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...J(e)})}function XE(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...J(e)})}function ek(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...J(e)})}function tk(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...J(e)})}function rk(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...J(e)})}function nk(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...J(e)})}function ak(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...J(e)})}function sk(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...J(e)})}function ik(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...J(e)})}function ok(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...J(e)})}function lk(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...J(e)})}function uk(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...J(e)})}function ck(t,e){return new t({type:"string",format:"date",check:"string_format",...J(e)})}function dk(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...J(e)})}function fk(t,e){return new t({type:"string",format:"duration",check:"string_format",...J(e)})}function hk(t,e){return new t({type:"number",checks:[],...J(e)})}function pk(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...J(e)})}function mk(t,e){return new t({type:"boolean",...J(e)})}function vk(t,e){return new t({type:"null",...J(e)})}function gk(t){return new t({type:"unknown"})}function yk(t,e){return new t({type:"never",...J(e)})}function vp(t,e){return new Ag({check:"less_than",...J(e),value:t,inclusive:!1})}function Xl(t,e){return new Ag({check:"less_than",...J(e),value:t,inclusive:!0})}function gp(t,e){return new Dg({check:"greater_than",...J(e),value:t,inclusive:!1})}function eu(t,e){return new Dg({check:"greater_than",...J(e),value:t,inclusive:!0})}function yp(t,e){return new zS({check:"multiple_of",...J(e),value:t})}function Ug(t,e){return new DS({check:"max_length",...J(e),maximum:t})}function Lo(t,e){return new jS({check:"min_length",...J(e),minimum:t})}function Vg(t,e){return new LS({check:"length_equals",...J(e),length:t})}function _k(t,e){return new FS({check:"string_format",format:"regex",...J(e),pattern:t})}function wk(t){return new MS({check:"string_format",format:"lowercase",...J(t)})}function Sk(t){return new ZS({check:"string_format",format:"uppercase",...J(t)})}function Ek(t,e){return new US({check:"string_format",format:"includes",...J(e),includes:t})}function kk(t,e){return new VS({check:"string_format",format:"starts_with",...J(e),prefix:t})}function Pk(t,e){return new HS({check:"string_format",format:"ends_with",...J(e),suffix:t})}function ai(t){return new qS({check:"overwrite",tx:t})}function xk(t){return ai(e=>e.normalize(t))}function Tk(){return ai(t=>t.trim())}function Rk(){return ai(t=>t.toLowerCase())}function $k(){return ai(t=>t.toUpperCase())}function Ik(t,e,r){return new t({type:"array",element:e,...J(r)})}function bk(t,e,r){const a=J(r);return a.abort??(a.abort=!0),new t({type:"custom",check:"custom",fn:e,...a})}function Ok(t,e,r){return new t({type:"custom",check:"custom",fn:e,...J(r)})}class _p{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??ys,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var d,p,h;var a;const n=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},i=this.seen.get(e);if(i)return i.count++,r.schemaPath.includes(e)&&(i.cycle=r.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,o);const l=(p=(d=e._zod).toJSONSchema)==null?void 0:p.call(d);if(l)o.schema=l;else{const m={...r,schemaPath:[...r.schemaPath,e],path:r.path},y=e._zod.parent;if(y)o.ref=y,this.process(y,m),this.seen.get(y).isParent=!0;else{const _=o.schema;switch(n.type){case"string":{const f=_;f.type="string";const{minimum:v,maximum:g,format:S,patterns:P,contentEncoding:x}=e._zod.bag;if(typeof v=="number"&&(f.minLength=v),typeof g=="number"&&(f.maxLength=g),S&&(f.format=s[S]??S,f.format===""&&delete f.format),x&&(f.contentEncoding=x),P&&P.size>0){const R=[...P];R.length===1?f.pattern=R[0].source:R.length>1&&(o.schema.allOf=[...R.map($=>({...this.target==="draft-7"?{type:"string"}:{},pattern:$.source}))])}break}case"number":{const f=_,{minimum:v,maximum:g,format:S,multipleOf:P,exclusiveMaximum:x,exclusiveMinimum:R}=e._zod.bag;typeof S=="string"&&S.includes("int")?f.type="integer":f.type="number",typeof R=="number"&&(f.exclusiveMinimum=R),typeof v=="number"&&(f.minimum=v,typeof R=="number"&&(R>=v?delete f.minimum:delete f.exclusiveMinimum)),typeof x=="number"&&(f.exclusiveMaximum=x),typeof g=="number"&&(f.maximum=g,typeof x=="number"&&(x<=g?delete f.maximum:delete f.exclusiveMaximum)),typeof P=="number"&&(f.multipleOf=P);break}case"boolean":{const f=_;f.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const f=_,{minimum:v,maximum:g}=e._zod.bag;typeof v=="number"&&(f.minItems=v),typeof g=="number"&&(f.maxItems=g),f.type="array",f.items=this.process(n.element,{...m,path:[...m.path,"items"]});break}case"object":{const f=_;f.type="object",f.properties={};const v=n.shape;for(const P in v)f.properties[P]=this.process(v[P],{...m,path:[...m.path,"properties",P]});const g=new Set(Object.keys(v)),S=new Set([...g].filter(P=>{const x=n.shape[P]._zod;return this.io==="input"?x.optin===void 0:x.optout===void 0}));S.size>0&&(f.required=Array.from(S)),((h=n.catchall)==null?void 0:h._zod.def.type)==="never"?f.additionalProperties=!1:n.catchall?n.catchall&&(f.additionalProperties=this.process(n.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(f.additionalProperties=!1);break}case"union":{const f=_;f.anyOf=n.options.map((v,g)=>this.process(v,{...m,path:[...m.path,"anyOf",g]}));break}case"intersection":{const f=_,v=this.process(n.left,{...m,path:[...m.path,"allOf",0]}),g=this.process(n.right,{...m,path:[...m.path,"allOf",1]}),S=x=>"allOf"in x&&Object.keys(x).length===1,P=[...S(v)?v.allOf:[v],...S(g)?g.allOf:[g]];f.allOf=P;break}case"tuple":{const f=_;f.type="array";const v=n.items.map((P,x)=>this.process(P,{...m,path:[...m.path,"prefixItems",x]}));if(this.target==="draft-2020-12"?f.prefixItems=v:f.items=v,n.rest){const P=this.process(n.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?f.items=P:f.additionalItems=P}n.rest&&(f.items=this.process(n.rest,{...m,path:[...m.path,"items"]}));const{minimum:g,maximum:S}=e._zod.bag;typeof g=="number"&&(f.minItems=g),typeof S=="number"&&(f.maxItems=S);break}case"record":{const f=_;f.type="object",f.propertyNames=this.process(n.keyType,{...m,path:[...m.path,"propertyNames"]}),f.additionalProperties=this.process(n.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const f=_,v=kg(n.entries);v.every(g=>typeof g=="number")&&(f.type="number"),v.every(g=>typeof g=="string")&&(f.type="string"),f.enum=v;break}case"literal":{const f=_,v=[];for(const g of n.values)if(g===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof g=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(g))}else v.push(g);if(v.length!==0)if(v.length===1){const g=v[0];f.type=g===null?"null":typeof g,f.const=g}else v.every(g=>typeof g=="number")&&(f.type="number"),v.every(g=>typeof g=="string")&&(f.type="string"),v.every(g=>typeof g=="boolean")&&(f.type="string"),v.every(g=>g===null)&&(f.type="null"),f.enum=v;break}case"file":{const f=_,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:g,maximum:S,mime:P}=e._zod.bag;g!==void 0&&(v.minLength=g),S!==void 0&&(v.maxLength=S),P?P.length===1?(v.contentMediaType=P[0],Object.assign(f,v)):f.anyOf=P.map(x=>({...v,contentMediaType:x})):Object.assign(f,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const f=this.process(n.innerType,m);_.anyOf=[f,{type:"null"}];break}case"nonoptional":{this.process(n.innerType,m),o.ref=n.innerType;break}case"success":{const f=_;f.type="boolean";break}case"default":{this.process(n.innerType,m),o.ref=n.innerType,_.default=JSON.parse(JSON.stringify(n.defaultValue));break}case"prefault":{this.process(n.innerType,m),o.ref=n.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break}case"catch":{this.process(n.innerType,m),o.ref=n.innerType;let f;try{f=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=f;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const f=_,v=e._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");f.type="string",f.pattern=v.source;break}case"pipe":{const f=this.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;this.process(f,m),o.ref=f;break}case"readonly":{this.process(n.innerType,m),o.ref=n.innerType,_.readOnly=!0;break}case"promise":{this.process(n.innerType,m),o.ref=n.innerType;break}case"optional":{this.process(n.innerType,m),o.ref=n.innerType;break}case"lazy":{const f=e._zod.innerType;this.process(f,m),o.ref=f;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const u=this.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),this.io==="input"&&st(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((a=o.schema).default??(a.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,r){var c,d,p,h,m,y;const a={cycles:(r==null?void 0:r.cycles)??"ref",reused:(r==null?void 0:r.reused)??"inline",external:(r==null?void 0:r.external)??void 0},n=this.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=_=>{var P;const f=this.target==="draft-2020-12"?"$defs":"definitions";if(a.external){const x=(P=a.external.registry.get(_[0]))==null?void 0:P.id,R=a.external.uri??(z=>z);if(x)return{ref:R(x)};const $=_[1].defId??_[1].schema.id??`schema${this.counter++}`;return _[1].defId=$,{defId:$,ref:`${R("__shared")}#/${f}/${$}`}}if(_[1]===n)return{ref:"#"};const g=`#/${f}/`,S=_[1].schema.id??`__schema${this.counter++}`;return{defId:S,ref:g+S}},i=_=>{if(_[1].schema.$ref)return;const f=_[1],{ref:v,defId:g}=s(_);f.def={...f.schema},g&&(f.defId=g);const S=f.schema;for(const P in S)delete S[P];S.$ref=v};if(a.cycles==="throw")for(const _ of this.seen.entries()){const f=_[1];if(f.cycle)throw new Error(`Cycle detected: #/${(c=f.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const _ of this.seen.entries()){const f=_[1];if(e===_[0]){i(_);continue}if(a.external){const g=(d=a.external.registry.get(_[0]))==null?void 0:d.id;if(e!==_[0]&&g){i(_);continue}}if((p=this.metadataRegistry.get(_[0]))==null?void 0:p.id){i(_);continue}if(f.cycle){i(_);continue}if(f.count>1&&a.reused==="ref"){i(_);continue}}const o=(_,f)=>{const v=this.seen.get(_),g=v.def??v.schema,S={...g};if(v.ref===null)return;const P=v.ref;if(v.ref=null,P){o(P,f);const x=this.seen.get(P).schema;x.$ref&&f.target==="draft-7"?(g.allOf=g.allOf??[],g.allOf.push(x)):(Object.assign(g,x),Object.assign(g,S))}v.isParent||this.override({zodSchema:_,jsonSchema:g,path:v.path??[]})};for(const _ of[...this.seen.entries()].reverse())o(_[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),(h=a.external)!=null&&h.uri){const _=(m=a.external.registry.get(e))==null?void 0:m.id;if(!_)throw new Error("Schema is missing an `id` property");l.$id=a.external.uri(_)}Object.assign(l,n.def);const u=((y=a.external)==null?void 0:y.defs)??{};for(const _ of this.seen.entries()){const f=_[1];f.def&&f.defId&&(u[f.defId]=f.def)}a.external||Object.keys(u).length>0&&(this.target==="draft-2020-12"?l.$defs=u:l.definitions=u);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function Ck(t,e){if(t instanceof Zg){const a=new _p(e),n={};for(const o of t._idmap.entries()){const[l,u]=o;a.process(u)}const s={},i={registry:t,uri:e==null?void 0:e.uri,defs:n};for(const o of t._idmap.entries()){const[l,u]=o;s[l]=a.emit(u,{...e,external:i})}if(Object.keys(n).length>0){const o=a.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[o]:n}}return{schemas:s}}const r=new _p(e);return r.process(t),r.emit(t,e)}function st(t,e){const r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);const n=t._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return st(n.element,r);case"object":{for(const s in n.shape)if(st(n.shape[s],r))return!0;return!1}case"union":{for(const s of n.options)if(st(s,r))return!0;return!1}case"intersection":return st(n.left,r)||st(n.right,r);case"tuple":{for(const s of n.items)if(st(s,r))return!0;return!!(n.rest&&st(n.rest,r))}case"record":return st(n.keyType,r)||st(n.valueType,r);case"map":return st(n.keyType,r)||st(n.valueType,r);case"set":return st(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return st(n.innerType,r);case"lazy":return st(n.getter(),r);case"default":return st(n.innerType,r);case"prefault":return st(n.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return st(n.in,r)||st(n.out,r);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${n.type}`)}const Nk=C("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in ZodMiniType.");$e.init(t,e),t.def=e,t.parse=(r,a)=>aS(t,r,a,{callee:t.parse}),t.safeParse=(r,a)=>Dd(t,r,a),t.parseAsync=async(r,a)=>sS(t,r,a,{callee:t.parseAsync}),t.safeParseAsync=async(r,a)=>jd(t,r,a),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),t.clone=(r,a)=>On(t,r,a),t.brand=()=>t,t.register=(r,a)=>(r.add(t,a),t)}),zk=C("ZodMiniObject",(t,e)=>{Fg.init(t,e),Nk.init(t,e),Re(t,"shape",()=>e.shape)});function wp(t,e){const r={type:"object",get shape(){return ri(this,"shape",{...t}),this.shape},...J(e)};return new zk(r)}function Nr(t){return!!t._zod}function Pa(t){const e=Object.values(t);if(e.length===0)return wp({});const r=e.every(Nr),a=e.every(n=>!Nr(n));if(r)return wp(t);if(a)return Vw(t);throw new Error("Mixed Zod versions detected in object shape.")}function Is(t,e){return Nr(t)?Dd(t,e):t.safeParse(e)}async function tu(t,e){return Nr(t)?await jd(t,e):await t.safeParseAsync(e)}function si(t){var r,a;if(!t)return;let e;if(Nr(t)?e=(a=(r=t._zod)==null?void 0:r.def)==null?void 0:a.shape:e=t.shape,!!e){if(typeof e=="function")try{return e()}catch{return}return e}}function cs(t){var e;if(t){if(typeof t=="object"){const r=t,a=t;if(!r._def&&!a._zod){const n=Object.values(t);if(n.length>0&&n.every(s=>typeof s=="object"&&s!==null&&(s._def!==void 0||s._zod!==void 0||typeof s.parse=="function")))return Pa(t)}}if(Nr(t)){const a=(e=t._zod)==null?void 0:e.def;if(a&&(a.type==="object"||a.shape!==void 0))return t}else if(t.shape!==void 0)return t}}function ru(t){if(t&&typeof t=="object"){if("message"in t&&typeof t.message=="string")return t.message;if("issues"in t&&Array.isArray(t.issues)&&t.issues.length>0){const e=t.issues[0];if(e&&typeof e=="object"&&"message"in e)return String(e.message)}try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function Ak(t){return t.description}function Dk(t){var r,a,n;if(Nr(t))return((a=(r=t._zod)==null?void 0:r.def)==null?void 0:a.type)==="optional";const e=t;return typeof t.isOptional=="function"?t.isOptional():((n=e._def)==null?void 0:n.typeName)==="ZodOptional"}function Hg(t){var n;if(Nr(t)){const i=(n=t._zod)==null?void 0:n.def;if(i){if(i.value!==void 0)return i.value;if(Array.isArray(i.values)&&i.values.length>0)return i.values[0]}}const r=t._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}const a=t.value;if(a!==void 0)return a}const jk=C("ZodISODateTime",(t,e)=>{sE.init(t,e),Be.init(t,e)});function qg(t){return uk(jk,t)}const Lk=C("ZodISODate",(t,e)=>{iE.init(t,e),Be.init(t,e)});function Fk(t){return ck(Lk,t)}const Mk=C("ZodISOTime",(t,e)=>{oE.init(t,e),Be.init(t,e)});function Zk(t){return dk(Mk,t)}const Uk=C("ZodISODuration",(t,e)=>{lE.init(t,e),Be.init(t,e)});function Vk(t){return fk(Uk,t)}const Hk=(t,e)=>{Tg.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>nS(t,r)},flatten:{value:r=>rS(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},pl=C("ZodError",Hk,{Parent:Error}),qk=Rg(pl),Bk=$g(pl),Qk=Ig(pl),Wk=bg(pl),qe=C("ZodType",(t,e)=>($e.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),t.clone=(r,a)=>On(t,r,a),t.brand=()=>t,t.register=(r,a)=>(r.add(t,a),t),t.parse=(r,a)=>qk(t,r,a,{callee:t.parse}),t.safeParse=(r,a)=>Qk(t,r,a),t.parseAsync=async(r,a)=>Bk(t,r,a,{callee:t.parseAsync}),t.safeParseAsync=async(r,a)=>Wk(t,r,a),t.spa=t.safeParseAsync,t.refine=(r,a)=>t.check(LP(r,a)),t.superRefine=r=>t.check(FP(r)),t.overwrite=r=>t.check(ai(r)),t.optional=()=>Ke(t),t.nullable=()=>kp(t),t.nullish=()=>Ke(kp(t)),t.nonoptional=r=>bP(t,r),t.array=()=>pe(t),t.or=r=>Ce([t,r]),t.and=r=>Fd(t,r),t.transform=r=>pc(t,Yg(r)),t.default=r=>RP(t,r),t.prefault=r=>IP(t,r),t.catch=r=>CP(t,r),t.pipe=r=>pc(t,r),t.readonly=()=>AP(t),t.describe=r=>{const a=t.clone();return ys.add(a,{description:r}),a},Object.defineProperty(t,"description",{get(){var r;return(r=ys.get(t))==null?void 0:r.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return ys.get(t);const a=t.clone();return ys.add(a,r[0]),a},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Bg=C("_ZodString",(t,e)=>{Ld.init(t,e),qe.init(t,e);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...a)=>t.check(_k(...a)),t.includes=(...a)=>t.check(Ek(...a)),t.startsWith=(...a)=>t.check(kk(...a)),t.endsWith=(...a)=>t.check(Pk(...a)),t.min=(...a)=>t.check(Lo(...a)),t.max=(...a)=>t.check(Ug(...a)),t.length=(...a)=>t.check(Vg(...a)),t.nonempty=(...a)=>t.check(Lo(1,...a)),t.lowercase=a=>t.check(wk(a)),t.uppercase=a=>t.check(Sk(a)),t.trim=()=>t.check(Tk()),t.normalize=(...a)=>t.check(xk(...a)),t.toLowerCase=()=>t.check(Rk()),t.toUpperCase=()=>t.check($k())}),Kk=C("ZodString",(t,e)=>{Ld.init(t,e),Bg.init(t,e),t.email=r=>t.check(UE(Gk,r)),t.url=r=>t.check(QE(Jk,r)),t.jwt=r=>t.check(lk(fP,r)),t.emoji=r=>t.check(WE(Yk,r)),t.guid=r=>t.check(mp(Sp,r)),t.uuid=r=>t.check(VE(Li,r)),t.uuidv4=r=>t.check(HE(Li,r)),t.uuidv6=r=>t.check(qE(Li,r)),t.uuidv7=r=>t.check(BE(Li,r)),t.nanoid=r=>t.check(KE(Xk,r)),t.guid=r=>t.check(mp(Sp,r)),t.cuid=r=>t.check(GE(eP,r)),t.cuid2=r=>t.check(JE(tP,r)),t.ulid=r=>t.check(YE(rP,r)),t.base64=r=>t.check(sk(uP,r)),t.base64url=r=>t.check(ik(cP,r)),t.xid=r=>t.check(XE(nP,r)),t.ksuid=r=>t.check(ek(aP,r)),t.ipv4=r=>t.check(tk(sP,r)),t.ipv6=r=>t.check(rk(iP,r)),t.cidrv4=r=>t.check(nk(oP,r)),t.cidrv6=r=>t.check(ak(lP,r)),t.e164=r=>t.check(ok(dP,r)),t.datetime=r=>t.check(qg(r)),t.date=r=>t.check(Fk(r)),t.time=r=>t.check(Zk(r)),t.duration=r=>t.check(Vk(r))});function O(t){return ZE(Kk,t)}const Be=C("ZodStringFormat",(t,e)=>{je.init(t,e),Bg.init(t,e)}),Gk=C("ZodEmail",(t,e)=>{GS.init(t,e),Be.init(t,e)}),Sp=C("ZodGUID",(t,e)=>{WS.init(t,e),Be.init(t,e)}),Li=C("ZodUUID",(t,e)=>{KS.init(t,e),Be.init(t,e)}),Jk=C("ZodURL",(t,e)=>{JS.init(t,e),Be.init(t,e)}),Yk=C("ZodEmoji",(t,e)=>{YS.init(t,e),Be.init(t,e)}),Xk=C("ZodNanoID",(t,e)=>{XS.init(t,e),Be.init(t,e)}),eP=C("ZodCUID",(t,e)=>{eE.init(t,e),Be.init(t,e)}),tP=C("ZodCUID2",(t,e)=>{tE.init(t,e),Be.init(t,e)}),rP=C("ZodULID",(t,e)=>{rE.init(t,e),Be.init(t,e)}),nP=C("ZodXID",(t,e)=>{nE.init(t,e),Be.init(t,e)}),aP=C("ZodKSUID",(t,e)=>{aE.init(t,e),Be.init(t,e)}),sP=C("ZodIPv4",(t,e)=>{uE.init(t,e),Be.init(t,e)}),iP=C("ZodIPv6",(t,e)=>{cE.init(t,e),Be.init(t,e)}),oP=C("ZodCIDRv4",(t,e)=>{dE.init(t,e),Be.init(t,e)}),lP=C("ZodCIDRv6",(t,e)=>{fE.init(t,e),Be.init(t,e)}),uP=C("ZodBase64",(t,e)=>{hE.init(t,e),Be.init(t,e)}),cP=C("ZodBase64URL",(t,e)=>{mE.init(t,e),Be.init(t,e)}),dP=C("ZodE164",(t,e)=>{vE.init(t,e),Be.init(t,e)}),fP=C("ZodJWT",(t,e)=>{yE.init(t,e),Be.init(t,e)}),Qg=C("ZodNumber",(t,e)=>{Lg.init(t,e),qe.init(t,e),t.gt=(a,n)=>t.check(gp(a,n)),t.gte=(a,n)=>t.check(eu(a,n)),t.min=(a,n)=>t.check(eu(a,n)),t.lt=(a,n)=>t.check(vp(a,n)),t.lte=(a,n)=>t.check(Xl(a,n)),t.max=(a,n)=>t.check(Xl(a,n)),t.int=a=>t.check(Ep(a)),t.safe=a=>t.check(Ep(a)),t.positive=a=>t.check(gp(0,a)),t.nonnegative=a=>t.check(eu(0,a)),t.negative=a=>t.check(vp(0,a)),t.nonpositive=a=>t.check(Xl(0,a)),t.multipleOf=(a,n)=>t.check(yp(a,n)),t.step=(a,n)=>t.check(yp(a,n)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Ee(t){return hk(Qg,t)}const hP=C("ZodNumberFormat",(t,e)=>{_E.init(t,e),Qg.init(t,e)});function Ep(t){return pk(hP,t)}const pP=C("ZodBoolean",(t,e)=>{wE.init(t,e),qe.init(t,e)});function pt(t){return mk(pP,t)}const mP=C("ZodNull",(t,e)=>{SE.init(t,e),qe.init(t,e)});function Wg(t){return vk(mP,t)}const vP=C("ZodUnknown",(t,e)=>{EE.init(t,e),qe.init(t,e)});function Ue(){return gk(vP)}const gP=C("ZodNever",(t,e)=>{kE.init(t,e),qe.init(t,e)});function yP(t){return yk(gP,t)}const _P=C("ZodArray",(t,e)=>{PE.init(t,e),qe.init(t,e),t.element=e.element,t.min=(r,a)=>t.check(Lo(r,a)),t.nonempty=r=>t.check(Lo(1,r)),t.max=(r,a)=>t.check(Ug(r,a)),t.length=(r,a)=>t.check(Vg(r,a)),t.unwrap=()=>t.element});function pe(t,e){return Ik(_P,t,e)}const Kg=C("ZodObject",(t,e)=>{Fg.init(t,e),qe.init(t,e),Re(t,"shape",()=>e.shape),t.keyof=()=>Xt(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Ue()}),t.loose=()=>t.clone({...t._zod.def,catchall:Ue()}),t.strict=()=>t.clone({...t._zod.def,catchall:yP()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Yw(t,r),t.merge=r=>Xw(t,r),t.pick=r=>Gw(t,r),t.omit=r=>Jw(t,r),t.partial=(...r)=>eS(Xg,t,r[0]),t.required=(...r)=>tS(ey,t,r[0])});function Q(t,e){const r={type:"object",get shape(){return ri(this,"shape",{...t}),this.shape},...J(e)};return new Kg(r)}function jt(t,e){return new Kg({type:"object",get shape(){return ri(this,"shape",{...t}),this.shape},catchall:Ue(),...J(e)})}const Gg=C("ZodUnion",(t,e)=>{Mg.init(t,e),qe.init(t,e),t.options=e.options});function Ce(t,e){return new Gg({type:"union",options:t,...J(e)})}const wP=C("ZodDiscriminatedUnion",(t,e)=>{Gg.init(t,e),xE.init(t,e)});function Jg(t,e,r){return new wP({type:"union",options:e,discriminator:t,...J(r)})}const SP=C("ZodIntersection",(t,e)=>{TE.init(t,e),qe.init(t,e)});function Fd(t,e){return new SP({type:"intersection",left:t,right:e})}const EP=C("ZodRecord",(t,e)=>{RE.init(t,e),qe.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Ve(t,e,r){return new EP({type:"record",keyType:t,valueType:e,...J(r)})}const hc=C("ZodEnum",(t,e)=>{$E.init(t,e),qe.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(a,n)=>{const s={};for(const i of a)if(r.has(i))s[i]=e.entries[i];else throw new Error(`Key ${i} not found in enum`);return new hc({...e,checks:[],...J(n),entries:s})},t.exclude=(a,n)=>{const s={...e.entries};for(const i of a)if(r.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new hc({...e,checks:[],...J(n),entries:s})}});function Xt(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(a=>[a,a])):t;return new hc({type:"enum",entries:r,...J(e)})}const kP=C("ZodLiteral",(t,e)=>{IE.init(t,e),qe.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Y(t,e){return new kP({type:"literal",values:Array.isArray(t)?t:[t],...J(e)})}const PP=C("ZodTransform",(t,e)=>{bE.init(t,e),qe.init(t,e),t._zod.parse=(r,a)=>{r.addIssue=s=>{if(typeof s=="string")r.issues.push(Gs(s,r.value,e));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!0),r.issues.push(Gs(i))}};const n=e.transform(r.value,r);return n instanceof Promise?n.then(s=>(r.value=s,r)):(r.value=n,r)}});function Yg(t){return new PP({type:"transform",transform:t})}const Xg=C("ZodOptional",(t,e)=>{OE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ke(t){return new Xg({type:"optional",innerType:t})}const xP=C("ZodNullable",(t,e)=>{CE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function kp(t){return new xP({type:"nullable",innerType:t})}const TP=C("ZodDefault",(t,e)=>{NE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function RP(t,e){return new TP({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const $P=C("ZodPrefault",(t,e)=>{zE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function IP(t,e){return new $P({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}const ey=C("ZodNonOptional",(t,e)=>{AE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType});function bP(t,e){return new ey({type:"nonoptional",innerType:t,...J(e)})}const OP=C("ZodCatch",(t,e)=>{DE.init(t,e),qe.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function CP(t,e){return new OP({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const NP=C("ZodPipe",(t,e)=>{jE.init(t,e),qe.init(t,e),t.in=e.in,t.out=e.out});function pc(t,e){return new NP({type:"pipe",in:t,out:e})}const zP=C("ZodReadonly",(t,e)=>{LE.init(t,e),qe.init(t,e)});function AP(t){return new zP({type:"readonly",innerType:t})}const ty=C("ZodCustom",(t,e)=>{FE.init(t,e),qe.init(t,e)});function DP(t){const e=new Ut({check:"custom"});return e._zod.check=t,e}function jP(t,e){return bk(ty,t??(()=>!0),e)}function LP(t,e={}){return Ok(ty,t,e)}function FP(t){const e=DP(r=>(r.addIssue=a=>{if(typeof a=="string")r.issues.push(Gs(a,r.value,e._zod.def));else{const n=a;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),r.issues.push(Gs(n))}},t(r.value,r)));return e}function ry(t,e){return pc(Yg(t),e)}const ny="2025-11-25",MP=[ny,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],Fn="io.modelcontextprotocol/related-task",ml="2.0",mt=jP(t=>t!==null&&(typeof t=="object"||typeof t=="function")),ay=Ce([O(),Ee().int()]),sy=O();jt({ttl:Ce([Ee(),Wg()]).optional(),pollInterval:Ee().optional()});const ZP=Q({ttl:Ee().optional()}),UP=Q({taskId:O()}),Md=jt({progressToken:ay.optional(),[Fn]:UP.optional()}),er=Q({_meta:Md.optional()}),ii=er.extend({task:ZP.optional()}),VP=t=>ii.safeParse(t).success,yt=Q({method:O(),params:er.loose().optional()}),cr=Q({_meta:Md.optional()}),dr=Q({method:O(),params:cr.loose().optional()}),_t=jt({_meta:Md.optional()}),vl=Ce([O(),Ee().int()]),iy=Q({jsonrpc:Y(ml),id:vl,...yt.shape}).strict(),Pp=t=>iy.safeParse(t).success,oy=Q({jsonrpc:Y(ml),...dr.shape}).strict(),HP=t=>oy.safeParse(t).success,Zd=Q({jsonrpc:Y(ml),id:vl,result:_t}).strict(),Fi=t=>Zd.safeParse(t).success;var re;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(re||(re={}));const Ud=Q({jsonrpc:Y(ml),id:vl.optional(),error:Q({code:Ee().int(),message:O(),data:Ue().optional()})}).strict(),qP=t=>Ud.safeParse(t).success,BP=Ce([iy,oy,Zd,Ud]);Ce([Zd,Ud]);const Vd=_t.strict(),QP=cr.extend({requestId:vl.optional(),reason:O().optional()}),Hd=dr.extend({method:Y("notifications/cancelled"),params:QP}),WP=Q({src:O(),mimeType:O().optional(),sizes:pe(O()).optional(),theme:Xt(["light","dark"]).optional()}),oi=Q({icons:pe(WP).optional()}),Va=Q({name:O(),title:O().optional()}),ly=Va.extend({...Va.shape,...oi.shape,version:O(),websiteUrl:O().optional(),description:O().optional()}),KP=Fd(Q({applyDefaults:pt().optional()}),Ve(O(),Ue())),GP=ry(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length===0?{form:{}}:t,Fd(Q({form:KP.optional(),url:mt.optional()}),Ve(O(),Ue()).optional())),JP=jt({list:mt.optional(),cancel:mt.optional(),requests:jt({sampling:jt({createMessage:mt.optional()}).optional(),elicitation:jt({create:mt.optional()}).optional()}).optional()}),YP=jt({list:mt.optional(),cancel:mt.optional(),requests:jt({tools:jt({call:mt.optional()}).optional()}).optional()}),XP=Q({experimental:Ve(O(),mt).optional(),sampling:Q({context:mt.optional(),tools:mt.optional()}).optional(),elicitation:GP.optional(),roots:Q({listChanged:pt().optional()}).optional(),tasks:JP.optional()}),ex=er.extend({protocolVersion:O(),capabilities:XP,clientInfo:ly}),uy=yt.extend({method:Y("initialize"),params:ex}),tx=Q({experimental:Ve(O(),mt).optional(),logging:mt.optional(),completions:mt.optional(),prompts:Q({listChanged:pt().optional()}).optional(),resources:Q({subscribe:pt().optional(),listChanged:pt().optional()}).optional(),tools:Q({listChanged:pt().optional()}).optional(),tasks:YP.optional()}),rx=_t.extend({protocolVersion:O(),capabilities:tx,serverInfo:ly,instructions:O().optional()}),cy=dr.extend({method:Y("notifications/initialized"),params:cr.optional()}),qd=yt.extend({method:Y("ping"),params:er.optional()}),nx=Q({progress:Ee(),total:Ke(Ee()),message:Ke(O())}),ax=Q({...cr.shape,...nx.shape,progressToken:ay}),Bd=dr.extend({method:Y("notifications/progress"),params:ax}),sx=er.extend({cursor:sy.optional()}),li=yt.extend({params:sx.optional()}),ui=_t.extend({nextCursor:sy.optional()}),ix=Xt(["working","input_required","completed","failed","cancelled"]),ci=Q({taskId:O(),status:ix,ttl:Ce([Ee(),Wg()]),createdAt:O(),lastUpdatedAt:O(),pollInterval:Ke(Ee()),statusMessage:Ke(O())}),gl=_t.extend({task:ci}),ox=cr.merge(ci),Fo=dr.extend({method:Y("notifications/tasks/status"),params:ox}),Qd=yt.extend({method:Y("tasks/get"),params:er.extend({taskId:O()})}),Wd=_t.merge(ci),Kd=yt.extend({method:Y("tasks/result"),params:er.extend({taskId:O()})});_t.loose();const Gd=li.extend({method:Y("tasks/list")}),Jd=ui.extend({tasks:pe(ci)}),Yd=yt.extend({method:Y("tasks/cancel"),params:er.extend({taskId:O()})}),lx=_t.merge(ci),dy=Q({uri:O(),mimeType:Ke(O()),_meta:Ve(O(),Ue()).optional()}),fy=dy.extend({text:O()}),Xd=O().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),hy=dy.extend({blob:Xd}),di=Xt(["user","assistant"]),Qa=Q({audience:pe(di).optional(),priority:Ee().min(0).max(1).optional(),lastModified:qg({offset:!0}).optional()}),py=Q({...Va.shape,...oi.shape,uri:O(),description:Ke(O()),mimeType:Ke(O()),annotations:Qa.optional(),_meta:Ke(jt({}))}),ux=Q({...Va.shape,...oi.shape,uriTemplate:O(),description:Ke(O()),mimeType:Ke(O()),annotations:Qa.optional(),_meta:Ke(jt({}))}),mc=li.extend({method:Y("resources/list")}),cx=ui.extend({resources:pe(py)}),vc=li.extend({method:Y("resources/templates/list")}),dx=ui.extend({resourceTemplates:pe(ux)}),ef=er.extend({uri:O()}),fx=ef,gc=yt.extend({method:Y("resources/read"),params:fx}),hx=_t.extend({contents:pe(Ce([fy,hy]))}),px=dr.extend({method:Y("notifications/resources/list_changed"),params:cr.optional()}),mx=ef,vx=yt.extend({method:Y("resources/subscribe"),params:mx}),gx=ef,yx=yt.extend({method:Y("resources/unsubscribe"),params:gx}),_x=cr.extend({uri:O()}),wx=dr.extend({method:Y("notifications/resources/updated"),params:_x}),Sx=Q({name:O(),description:Ke(O()),required:Ke(pt())}),Ex=Q({...Va.shape,...oi.shape,description:Ke(O()),arguments:Ke(pe(Sx)),_meta:Ke(jt({}))}),yc=li.extend({method:Y("prompts/list")}),kx=ui.extend({prompts:pe(Ex)}),Px=er.extend({name:O(),arguments:Ve(O(),O()).optional()}),_c=yt.extend({method:Y("prompts/get"),params:Px}),tf=Q({type:Y("text"),text:O(),annotations:Qa.optional(),_meta:Ve(O(),Ue()).optional()}),rf=Q({type:Y("image"),data:Xd,mimeType:O(),annotations:Qa.optional(),_meta:Ve(O(),Ue()).optional()}),nf=Q({type:Y("audio"),data:Xd,mimeType:O(),annotations:Qa.optional(),_meta:Ve(O(),Ue()).optional()}),xx=Q({type:Y("tool_use"),name:O(),id:O(),input:Ve(O(),Ue()),_meta:Ve(O(),Ue()).optional()}),Tx=Q({type:Y("resource"),resource:Ce([fy,hy]),annotations:Qa.optional(),_meta:Ve(O(),Ue()).optional()}),Rx=py.extend({type:Y("resource_link")}),af=Ce([tf,rf,nf,Rx,Tx]),$x=Q({role:di,content:af}),Ix=_t.extend({description:O().optional(),messages:pe($x)}),bx=dr.extend({method:Y("notifications/prompts/list_changed"),params:cr.optional()}),Ox=Q({title:O().optional(),readOnlyHint:pt().optional(),destructiveHint:pt().optional(),idempotentHint:pt().optional(),openWorldHint:pt().optional()}),Cx=Q({taskSupport:Xt(["required","optional","forbidden"]).optional()}),my=Q({...Va.shape,...oi.shape,description:O().optional(),inputSchema:Q({type:Y("object"),properties:Ve(O(),mt).optional(),required:pe(O()).optional()}).catchall(Ue()),outputSchema:Q({type:Y("object"),properties:Ve(O(),mt).optional(),required:pe(O()).optional()}).catchall(Ue()).optional(),annotations:Ox.optional(),execution:Cx.optional(),_meta:Ve(O(),Ue()).optional()}),wc=li.extend({method:Y("tools/list")}),Nx=ui.extend({tools:pe(my)}),sf=_t.extend({content:pe(af).default([]),structuredContent:Ve(O(),Ue()).optional(),isError:pt().optional()});sf.or(_t.extend({toolResult:Ue()}));const zx=ii.extend({name:O(),arguments:Ve(O(),Ue()).optional()}),Mo=yt.extend({method:Y("tools/call"),params:zx}),Ax=dr.extend({method:Y("notifications/tools/list_changed"),params:cr.optional()});Q({autoRefresh:pt().default(!0),debounceMs:Ee().int().nonnegative().default(300)});const Zo=Xt(["debug","info","notice","warning","error","critical","alert","emergency"]),Dx=er.extend({level:Zo}),vy=yt.extend({method:Y("logging/setLevel"),params:Dx}),jx=cr.extend({level:Zo,logger:O().optional(),data:Ue()}),Lx=dr.extend({method:Y("notifications/message"),params:jx}),Fx=Q({name:O().optional()}),Mx=Q({hints:pe(Fx).optional(),costPriority:Ee().min(0).max(1).optional(),speedPriority:Ee().min(0).max(1).optional(),intelligencePriority:Ee().min(0).max(1).optional()}),Zx=Q({mode:Xt(["auto","required","none"]).optional()}),Ux=Q({type:Y("tool_result"),toolUseId:O().describe("The unique identifier for the corresponding tool call."),content:pe(af).default([]),structuredContent:Q({}).loose().optional(),isError:pt().optional(),_meta:Ve(O(),Ue()).optional()}),Vx=Jg("type",[tf,rf,nf]),Uo=Jg("type",[tf,rf,nf,xx,Ux]),Hx=Q({role:di,content:Ce([Uo,pe(Uo)]),_meta:Ve(O(),Ue()).optional()}),qx=ii.extend({messages:pe(Hx),modelPreferences:Mx.optional(),systemPrompt:O().optional(),includeContext:Xt(["none","thisServer","allServers"]).optional(),temperature:Ee().optional(),maxTokens:Ee().int(),stopSequences:pe(O()).optional(),metadata:mt.optional(),tools:pe(my).optional(),toolChoice:Zx.optional()}),Bx=yt.extend({method:Y("sampling/createMessage"),params:qx}),gy=_t.extend({model:O(),stopReason:Ke(Xt(["endTurn","stopSequence","maxTokens"]).or(O())),role:di,content:Vx}),yy=_t.extend({model:O(),stopReason:Ke(Xt(["endTurn","stopSequence","maxTokens","toolUse"]).or(O())),role:di,content:Ce([Uo,pe(Uo)])}),Qx=Q({type:Y("boolean"),title:O().optional(),description:O().optional(),default:pt().optional()}),Wx=Q({type:Y("string"),title:O().optional(),description:O().optional(),minLength:Ee().optional(),maxLength:Ee().optional(),format:Xt(["email","uri","date","date-time"]).optional(),default:O().optional()}),Kx=Q({type:Xt(["number","integer"]),title:O().optional(),description:O().optional(),minimum:Ee().optional(),maximum:Ee().optional(),default:Ee().optional()}),Gx=Q({type:Y("string"),title:O().optional(),description:O().optional(),enum:pe(O()),default:O().optional()}),Jx=Q({type:Y("string"),title:O().optional(),description:O().optional(),oneOf:pe(Q({const:O(),title:O()})),default:O().optional()}),Yx=Q({type:Y("string"),title:O().optional(),description:O().optional(),enum:pe(O()),enumNames:pe(O()).optional(),default:O().optional()}),Xx=Ce([Gx,Jx]),eT=Q({type:Y("array"),title:O().optional(),description:O().optional(),minItems:Ee().optional(),maxItems:Ee().optional(),items:Q({type:Y("string"),enum:pe(O())}),default:pe(O()).optional()}),tT=Q({type:Y("array"),title:O().optional(),description:O().optional(),minItems:Ee().optional(),maxItems:Ee().optional(),items:Q({anyOf:pe(Q({const:O(),title:O()}))}),default:pe(O()).optional()}),rT=Ce([eT,tT]),nT=Ce([Yx,Xx,rT]),aT=Ce([nT,Qx,Wx,Kx]),sT=ii.extend({mode:Y("form").optional(),message:O(),requestedSchema:Q({type:Y("object"),properties:Ve(O(),aT),required:pe(O()).optional()})}),iT=ii.extend({mode:Y("url"),message:O(),elicitationId:O(),url:O().url()}),oT=Ce([sT,iT]),lT=yt.extend({method:Y("elicitation/create"),params:oT}),uT=cr.extend({elicitationId:O()}),cT=dr.extend({method:Y("notifications/elicitation/complete"),params:uT}),Sc=_t.extend({action:Xt(["accept","decline","cancel"]),content:ry(t=>t===null?void 0:t,Ve(O(),Ce([O(),Ee(),pt(),pe(O())])).optional())}),dT=Q({type:Y("ref/resource"),uri:O()}),fT=Q({type:Y("ref/prompt"),name:O()}),hT=er.extend({ref:Ce([fT,dT]),argument:Q({name:O(),value:O()}),context:Q({arguments:Ve(O(),O()).optional()}).optional()}),Ec=yt.extend({method:Y("completion/complete"),params:hT});function pT(t){if(t.params.ref.type!=="ref/prompt")throw new TypeError(`Expected CompleteRequestPrompt, but got ${t.params.ref.type}`)}function mT(t){if(t.params.ref.type!=="ref/resource")throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${t.params.ref.type}`)}const vT=_t.extend({completion:jt({values:pe(O()).max(100),total:Ke(Ee().int()),hasMore:Ke(pt())})}),gT=Q({uri:O().startsWith("file://"),name:O().optional(),_meta:Ve(O(),Ue()).optional()}),yT=yt.extend({method:Y("roots/list"),params:er.optional()}),_y=_t.extend({roots:pe(gT)}),_T=dr.extend({method:Y("notifications/roots/list_changed"),params:cr.optional()});Ce([qd,uy,Ec,vy,_c,yc,mc,vc,gc,vx,yx,Mo,wc,Qd,Kd,Gd,Yd]);Ce([Hd,Bd,cy,_T,Fo]);Ce([Vd,gy,yy,Sc,_y,Wd,Jd,gl]);Ce([qd,Bx,lT,yT,Qd,Kd,Gd,Yd]);Ce([Hd,Bd,Lx,wx,px,Ax,bx,Fo,cT]);Ce([Vd,rx,vT,Ix,kx,cx,dx,hx,sf,Nx,Wd,Jd,gl]);class ee extends Error{constructor(e,r,a){super(`MCP error ${e}: ${r}`),this.code=e,this.data=a,this.name="McpError"}static fromError(e,r,a){if(e===re.UrlElicitationRequired&&a){const n=a;if(n.elicitations)return new wT(n.elicitations,r)}return new ee(e,r,a)}}class wT extends ee{constructor(e,r=`URL elicitation${e.length>1?"s":""} required`){super(re.UrlElicitationRequired,r,{elicitations:e})}get elicitations(){var e;return((e=this.data)==null?void 0:e.elicitations)??[]}}function Dn(t){return t==="completed"||t==="failed"||t==="cancelled"}const ST=Symbol("Let zodToJsonSchema decide on which parser to use"),xp={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},ET=t=>typeof t=="string"?{...xp,name:t}:{...xp,...t},kT=t=>{const e=ET(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([a,n])=>[n._def,{def:n._def,path:[...e.basePath,e.definitionPath,a],jsonSchema:void 0}]))}};function wy(t,e,r,a){a!=null&&a.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function we(t,e,r,a,n){t[e]=r,wy(t,e,a,n)}const Sy=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};function Zt(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Sy(e,t.currentPath):e.join("/")}}function PT(t,e){var a,n,s;const r={type:"array"};return(a=t.type)!=null&&a._def&&((s=(n=t.type)==null?void 0:n._def)==null?void 0:s.typeName)!==V.ZodAny&&(r.items=ye(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&we(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&we(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(we(r,"minItems",t.exactLength.value,t.exactLength.message,e),we(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function xT(t,e){const r={type:"integer",format:"int64"};if(!t.checks)return r;for(const a of t.checks)switch(a.kind){case"min":e.target==="jsonSchema7"?a.inclusive?we(r,"minimum",a.value,a.message,e):we(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),we(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?we(r,"maximum",a.value,a.message,e):we(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),we(r,"maximum",a.value,a.message,e));break;case"multipleOf":we(r,"multipleOf",a.value,a.message,e);break}return r}function TT(){return{type:"boolean"}}function Ey(t,e){return ye(t.type._def,e)}const RT=(t,e)=>ye(t.innerType._def,e);function ky(t,e,r){const a=r??e.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((n,s)=>ky(t,e,n))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return $T(t,e)}}const $T=(t,e)=>{const r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(const a of t.checks)switch(a.kind){case"min":we(r,"minimum",a.value,a.message,e);break;case"max":we(r,"maximum",a.value,a.message,e);break}return r};function IT(t,e){return{...ye(t.innerType._def,e),default:t.defaultValue()}}function bT(t,e){return e.effectStrategy==="input"?ye(t.schema._def,e):Zt(e)}function OT(t){return{type:"string",enum:Array.from(t.values)}}const CT=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function NT(t,e){const r=[ye(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),ye(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let a=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const n=[];return r.forEach(s=>{if(CT(s))n.push(...s.allOf),s.unevaluatedProperties===void 0&&(a=void 0);else{let i=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...l}=s;i=l}else a=void 0;n.push(i)}}),n.length?{allOf:n,...a}:void 0}function zT(t,e){const r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}let nu;const hr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(nu===void 0&&(nu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Py(t,e){const r={type:"string"};if(t.checks)for(const a of t.checks)switch(a.kind){case"min":we(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e);break;case"max":we(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":pr(r,"email",a.message,e);break;case"format:idn-email":pr(r,"idn-email",a.message,e);break;case"pattern:zod":Rt(r,hr.email,a.message,e);break}break;case"url":pr(r,"uri",a.message,e);break;case"uuid":pr(r,"uuid",a.message,e);break;case"regex":Rt(r,a.regex,a.message,e);break;case"cuid":Rt(r,hr.cuid,a.message,e);break;case"cuid2":Rt(r,hr.cuid2,a.message,e);break;case"startsWith":Rt(r,RegExp(`^${au(a.value,e)}`),a.message,e);break;case"endsWith":Rt(r,RegExp(`${au(a.value,e)}$`),a.message,e);break;case"datetime":pr(r,"date-time",a.message,e);break;case"date":pr(r,"date",a.message,e);break;case"time":pr(r,"time",a.message,e);break;case"duration":pr(r,"duration",a.message,e);break;case"length":we(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e),we(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"includes":{Rt(r,RegExp(au(a.value,e)),a.message,e);break}case"ip":{a.version!=="v6"&&pr(r,"ipv4",a.message,e),a.version!=="v4"&&pr(r,"ipv6",a.message,e);break}case"base64url":Rt(r,hr.base64url,a.message,e);break;case"jwt":Rt(r,hr.jwt,a.message,e);break;case"cidr":{a.version!=="v6"&&Rt(r,hr.ipv4Cidr,a.message,e),a.version!=="v4"&&Rt(r,hr.ipv6Cidr,a.message,e);break}case"emoji":Rt(r,hr.emoji(),a.message,e);break;case"ulid":{Rt(r,hr.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{pr(r,"binary",a.message,e);break}case"contentEncoding:base64":{we(r,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Rt(r,hr.base64,a.message,e);break}}break}case"nanoid":Rt(r,hr.nanoid,a.message,e)}return r}function au(t,e){return e.patternStrategy==="escape"?DT(t):t}const AT=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function DT(t){let e="";for(let r=0;r<t.length;r++)AT.has(t[r])||(e+="\\"),e+=t[r];return e}function pr(t,e,r,a){var n;t.format||(n=t.anyOf)!=null&&n.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&a.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&a.errorMessages&&{errorMessage:{format:r}}})):we(t,"format",e,r,a)}function Rt(t,e,r,a){var n;t.pattern||(n=t.allOf)!=null&&n.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&a.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:Tp(e,a),...r&&a.errorMessages&&{errorMessage:{pattern:r}}})):we(t,"pattern",Tp(e,a),r,a)}function Tp(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=r.i?t.source.toLowerCase():t.source;let n="",s=!1,i=!1,o=!1;for(let u=0;u<a.length;u++){if(s){n+=a[u],s=!1;continue}if(r.i){if(i){if(a[u].match(/[a-z]/)){o?(n+=a[u],n+=`${a[u-2]}-${a[u]}`.toUpperCase(),o=!1):a[u+1]==="-"&&((l=a[u+2])!=null&&l.match(/[a-z]/))?(n+=a[u],o=!0):n+=`${a[u]}${a[u].toUpperCase()}`;continue}}else if(a[u].match(/[a-z]/)){n+=`[${a[u]}${a[u].toUpperCase()}]`;continue}}if(r.m){if(a[u]==="^"){n+=`(^|(?<=[\r
]))`;continue}else if(a[u]==="$"){n+=`($|(?=[\r
]))`;continue}}if(r.s&&a[u]==="."){n+=i?`${a[u]}\r
`:`[${a[u]}\r
]`;continue}n+=a[u],a[u]==="\\"?s=!0:i&&a[u]==="]"?i=!1:!i&&a[u]==="["&&(i=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return n}function xy(t,e){var a,n,s,i,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((a=t.keyType)==null?void 0:a._def.typeName)===V.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((u,c)=>({...u,[c]:ye(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",c]})??Zt(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const r={type:"object",additionalProperties:ye(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(((n=t.keyType)==null?void 0:n._def.typeName)===V.ZodString&&((s=t.keyType._def.checks)!=null&&s.length)){const{type:u,...c}=Py(t.keyType._def,e);return{...r,propertyNames:c}}else{if(((i=t.keyType)==null?void 0:i._def.typeName)===V.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===V.ZodBranded&&t.keyType._def.type._def.typeName===V.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:u,...c}=Ey(t.keyType._def,e);return{...r,propertyNames:c}}}return r}function jT(t,e){if(e.mapStrategy==="record")return xy(t,e);const r=ye(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||Zt(e),a=ye(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||Zt(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,a],minItems:2,maxItems:2}}}function LT(t){const e=t.values,a=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),n=Array.from(new Set(a.map(s=>typeof s)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:a}}function FT(t){return t.target==="openAi"?void 0:{not:Zt({...t,currentPath:[...t.currentPath,"not"]})}}function MT(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Vo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ZT(t,e){if(e.target==="openApi3")return Rp(t,e);const r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(a=>a._def.typeName in Vo&&(!a._def.checks||!a._def.checks.length))){const a=r.reduce((n,s)=>{const i=Vo[s._def.typeName];return i&&!n.includes(i)?[...n,i]:n},[]);return{type:a.length>1?a:a[0]}}else if(r.every(a=>a._def.typeName==="ZodLiteral"&&!a.description)){const a=r.reduce((n,s)=>{const i=typeof s._def.value;switch(i){case"string":case"number":case"boolean":return[...n,i];case"bigint":return[...n,"integer"];case"object":if(s._def.value===null)return[...n,"null"];case"symbol":case"undefined":case"function":default:return n}},[]);if(a.length===r.length){const n=a.filter((s,i,o)=>o.indexOf(s)===i);return{type:n.length>1?n:n[0],enum:r.reduce((s,i)=>s.includes(i._def.value)?s:[...s,i._def.value],[])}}}else if(r.every(a=>a._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((a,n)=>[...a,...n._def.values.filter(s=>!a.includes(s))],[])};return Rp(t,e)}const Rp=(t,e)=>{const r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((a,n)=>ye(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${n}`]})).filter(a=>!!a&&(!e.strictUnions||typeof a=="object"&&Object.keys(a).length>0));return r.length?{anyOf:r}:void 0};function UT(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Vo[t.innerType._def.typeName],nullable:!0}:{type:[Vo[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const a=ye(t.innerType._def,{...e,currentPath:[...e.currentPath]});return a&&"$ref"in a?{allOf:[a],nullable:!0}:a&&{...a,nullable:!0}}const r=ye(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function VT(t,e){const r={type:"number"};if(!t.checks)return r;for(const a of t.checks)switch(a.kind){case"int":r.type="integer",wy(r,"type",a.message,e);break;case"min":e.target==="jsonSchema7"?a.inclusive?we(r,"minimum",a.value,a.message,e):we(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),we(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?we(r,"maximum",a.value,a.message,e):we(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),we(r,"maximum",a.value,a.message,e));break;case"multipleOf":we(r,"multipleOf",a.value,a.message,e);break}return r}function HT(t,e){const r=e.target==="openAi",a={type:"object",properties:{}},n=[],s=t.shape();for(const o in s){let l=s[o];if(l===void 0||l._def===void 0)continue;let u=BT(l);u&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const c=ye(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});c!==void 0&&(a.properties[o]=c,u||n.push(o))}n.length&&(a.required=n);const i=qT(t,e);return i!==void 0&&(a.additionalProperties=i),a}function qT(t,e){if(t.catchall._def.typeName!=="ZodNever")return ye(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function BT(t){try{return t.isOptional()}catch{return!0}}const QT=(t,e)=>{var a;if(e.currentPath.toString()===((a=e.propertyPath)==null?void 0:a.toString()))return ye(t.innerType._def,e);const r=ye(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Zt(e)},r]}:Zt(e)},WT=(t,e)=>{if(e.pipeStrategy==="input")return ye(t.in._def,e);if(e.pipeStrategy==="output")return ye(t.out._def,e);const r=ye(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),a=ye(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,a].filter(n=>n!==void 0)}};function KT(t,e){return ye(t.type._def,e)}function GT(t,e){const a={type:"array",uniqueItems:!0,items:ye(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&we(a,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&we(a,"maxItems",t.maxSize.value,t.maxSize.message,e),a}function JT(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,a)=>ye(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[]),additionalItems:ye(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,a)=>ye(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[])}}function YT(t){return{not:Zt(t)}}function XT(t){return Zt(t)}const eR=(t,e)=>ye(t.innerType._def,e),tR=(t,e,r)=>{switch(e){case V.ZodString:return Py(t,r);case V.ZodNumber:return VT(t,r);case V.ZodObject:return HT(t,r);case V.ZodBigInt:return xT(t,r);case V.ZodBoolean:return TT();case V.ZodDate:return ky(t,r);case V.ZodUndefined:return YT(r);case V.ZodNull:return MT(r);case V.ZodArray:return PT(t,r);case V.ZodUnion:case V.ZodDiscriminatedUnion:return ZT(t,r);case V.ZodIntersection:return NT(t,r);case V.ZodTuple:return JT(t,r);case V.ZodRecord:return xy(t,r);case V.ZodLiteral:return zT(t,r);case V.ZodEnum:return OT(t);case V.ZodNativeEnum:return LT(t);case V.ZodNullable:return UT(t,r);case V.ZodOptional:return QT(t,r);case V.ZodMap:return jT(t,r);case V.ZodSet:return GT(t,r);case V.ZodLazy:return()=>t.getter()._def;case V.ZodPromise:return KT(t,r);case V.ZodNaN:case V.ZodNever:return FT(r);case V.ZodEffects:return bT(t,r);case V.ZodAny:return Zt(r);case V.ZodUnknown:return XT(r);case V.ZodDefault:return IT(t,r);case V.ZodBranded:return Ey(t,r);case V.ZodReadonly:return eR(t,r);case V.ZodCatch:return RT(t,r);case V.ZodPipeline:return WT(t,r);case V.ZodFunction:case V.ZodVoid:case V.ZodSymbol:return;default:return(a=>{})()}};function ye(t,e,r=!1){var o;const a=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,a,r);if(l!==ST)return l}if(a&&!r){const l=rR(a,e);if(l!==void 0)return l}const n={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,n);const s=tR(t,t.typeName,e),i=typeof s=="function"?ye(s(),e):s;if(i&&nR(t,e,i),e.postProcess){const l=e.postProcess(i,t,e);return n.jsonSchema=i,l}return n.jsonSchema=i,i}const rR=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Sy(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),Zt(e)):e.$refStrategy==="seen"?Zt(e):void 0}},nR=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r),aR=(t,e)=>{const r=kT(e);let a=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[u,c])=>({...l,[u]:ye(c._def,{...r,currentPath:[...r.basePath,r.definitionPath,u]},!0)??Zt(r)}),{}):void 0;const n=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=ye(t._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??Zt(r),i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(s.title=i),r.flags.hasReferencedOpenAiAnyType&&(a||(a={}),a[r.openAiAnyTypeName]||(a[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));const o=n===void 0?a?{...s,[r.definitionPath]:a}:s:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...a,[n]:s}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};function sR(t){return!t||t==="jsonSchema7"||t==="draft-7"?"draft-7":t==="jsonSchema2019-09"||t==="draft-2020-12"?"draft-2020-12":"draft-7"}function $p(t,e){return Nr(t)?Ck(t,{target:sR(e==null?void 0:e.target),io:(e==null?void 0:e.pipeStrategy)??"input"}):aR(t,{strictUnions:(e==null?void 0:e.strictUnions)??!0,pipeStrategy:(e==null?void 0:e.pipeStrategy)??"input"})}function Ip(t){const e=si(t),r=e==null?void 0:e.method;if(!r)throw new Error("Schema is missing a method literal");const a=Hg(r);if(typeof a!="string")throw new Error("Schema method literal must be a string");return a}function bp(t,e){const r=Is(t,e);if(!r.success)throw r.error;return r.data}const iR=6e4;class oR{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Hd,r=>{this._oncancel(r)}),this.setNotificationHandler(Bd,r=>{this._onprogress(r)}),this.setRequestHandler(qd,r=>({})),this._taskStore=e==null?void 0:e.taskStore,this._taskMessageQueue=e==null?void 0:e.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Qd,async(r,a)=>{const n=await this._taskStore.getTask(r.params.taskId,a.sessionId);if(!n)throw new ee(re.InvalidParams,"Failed to retrieve task: Task not found");return{...n}}),this.setRequestHandler(Kd,async(r,a)=>{const n=async()=>{var o;const s=r.params.taskId;if(this._taskMessageQueue){let l;for(;l=await this._taskMessageQueue.dequeue(s,a.sessionId);){if(l.type==="response"||l.type==="error"){const u=l.message,c=u.id,d=this._requestResolvers.get(c);if(d)if(this._requestResolvers.delete(c),l.type==="response")d(u);else{const p=u,h=new ee(p.error.code,p.error.message,p.error.data);d(h)}else{const p=l.type==="response"?"Response":"Error";this._onerror(new Error(`${p} handler missing for request ${c}`))}continue}await((o=this._transport)==null?void 0:o.send(l.message,{relatedRequestId:a.requestId}))}}const i=await this._taskStore.getTask(s,a.sessionId);if(!i)throw new ee(re.InvalidParams,`Task not found: ${s}`);if(!Dn(i.status))return await this._waitForTaskUpdate(s,a.signal),await n();if(Dn(i.status)){const l=await this._taskStore.getTaskResult(s,a.sessionId);return this._clearTaskQueue(s),{...l,_meta:{...l._meta,[Fn]:{taskId:s}}}}return await n()};return await n()}),this.setRequestHandler(Gd,async(r,a)=>{var n;try{const{tasks:s,nextCursor:i}=await this._taskStore.listTasks((n=r.params)==null?void 0:n.cursor,a.sessionId);return{tasks:s,nextCursor:i,_meta:{}}}catch(s){throw new ee(re.InvalidParams,`Failed to list tasks: ${s instanceof Error?s.message:String(s)}`)}}),this.setRequestHandler(Yd,async(r,a)=>{try{const n=await this._taskStore.getTask(r.params.taskId,a.sessionId);if(!n)throw new ee(re.InvalidParams,`Task not found: ${r.params.taskId}`);if(Dn(n.status))throw new ee(re.InvalidParams,`Cannot cancel task in terminal status: ${n.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",a.sessionId),this._clearTaskQueue(r.params.taskId);const s=await this._taskStore.getTask(r.params.taskId,a.sessionId);if(!s)throw new ee(re.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...s}}catch(n){throw n instanceof ee?n:new ee(re.InvalidRequest,`Failed to cancel task: ${n instanceof Error?n.message:String(n)}`)}}))}async _oncancel(e){if(!e.params.requestId)return;const r=this._requestHandlerAbortControllers.get(e.params.requestId);r==null||r.abort(e.params.reason)}_setupTimeout(e,r,a,n,s=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(n,r),startTime:Date.now(),timeout:r,maxTotalTimeout:a,resetTimeoutOnProgress:s,onTimeout:n})}_resetTimeout(e){const r=this._timeoutInfo.get(e);if(!r)return!1;const a=Date.now()-r.startTime;if(r.maxTotalTimeout&&a>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),ee.fromError(re.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:a});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){const r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var s,i,o;this._transport=e;const r=(s=this.transport)==null?void 0:s.onclose;this._transport.onclose=()=>{r==null||r(),this._onclose()};const a=(i=this.transport)==null?void 0:i.onerror;this._transport.onerror=l=>{a==null||a(l),this._onerror(l)};const n=(o=this._transport)==null?void 0:o.onmessage;this._transport.onmessage=(l,u)=>{n==null||n(l,u),Fi(l)||qP(l)?this._onresponse(l):Pp(l)?this._onrequest(l,u):HP(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var a;const e=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const r=ee.fromError(re.ConnectionClosed,"Connection closed");this._transport=void 0,(a=this.onclose)==null||a.call(this);for(const n of e.values())n(r)}_onerror(e){var r;(r=this.onerror)==null||r.call(this,e)}_onnotification(e){const r=this._notificationHandlers.get(e.method)??this.fallbackNotificationHandler;r!==void 0&&Promise.resolve().then(()=>r(e)).catch(a=>this._onerror(new Error(`Uncaught error in notification handler: ${a}`)))}_onrequest(e,r){var c,d,p,h;const a=this._requestHandlers.get(e.method)??this.fallbackRequestHandler,n=this._transport,s=(p=(d=(c=e.params)==null?void 0:c._meta)==null?void 0:d[Fn])==null?void 0:p.taskId;if(a===void 0){const m={jsonrpc:"2.0",id:e.id,error:{code:re.MethodNotFound,message:"Method not found"}};s&&this._taskMessageQueue?this._enqueueTaskMessage(s,{type:"error",message:m,timestamp:Date.now()},n==null?void 0:n.sessionId).catch(y=>this._onerror(new Error(`Failed to enqueue error response: ${y}`))):n==null||n.send(m).catch(y=>this._onerror(new Error(`Failed to send an error response: ${y}`)));return}const i=new AbortController;this._requestHandlerAbortControllers.set(e.id,i);const o=VP(e.params)?e.params.task:void 0,l=this._taskStore?this.requestTaskStore(e,n==null?void 0:n.sessionId):void 0,u={signal:i.signal,sessionId:n==null?void 0:n.sessionId,_meta:(h=e.params)==null?void 0:h._meta,sendNotification:async m=>{const y={relatedRequestId:e.id};s&&(y.relatedTask={taskId:s}),await this.notification(m,y)},sendRequest:async(m,y,_)=>{var g;const f={..._,relatedRequestId:e.id};s&&!f.relatedTask&&(f.relatedTask={taskId:s});const v=((g=f.relatedTask)==null?void 0:g.taskId)??s;return v&&l&&await l.updateTaskStatus(v,"input_required"),await this.request(m,y,f)},authInfo:r==null?void 0:r.authInfo,requestId:e.id,requestInfo:r==null?void 0:r.requestInfo,taskId:s,taskStore:l,taskRequestedTtl:o==null?void 0:o.ttl,closeSSEStream:r==null?void 0:r.closeSSEStream,closeStandaloneSSEStream:r==null?void 0:r.closeStandaloneSSEStream};Promise.resolve().then(()=>{o&&this.assertTaskHandlerCapability(e.method)}).then(()=>a(e,u)).then(async m=>{if(i.signal.aborted)return;const y={result:m,jsonrpc:"2.0",id:e.id};s&&this._taskMessageQueue?await this._enqueueTaskMessage(s,{type:"response",message:y,timestamp:Date.now()},n==null?void 0:n.sessionId):await(n==null?void 0:n.send(y))},async m=>{if(i.signal.aborted)return;const y={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(m.code)?m.code:re.InternalError,message:m.message??"Internal error",...m.data!==void 0&&{data:m.data}}};s&&this._taskMessageQueue?await this._enqueueTaskMessage(s,{type:"error",message:y,timestamp:Date.now()},n==null?void 0:n.sessionId):await(n==null?void 0:n.send(y))}).catch(m=>this._onerror(new Error(`Failed to send response: ${m}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progressToken:r,...a}=e.params,n=Number(r),s=this._progressHandlers.get(n);if(!s){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}const i=this._responseHandlers.get(n),o=this._timeoutInfo.get(n);if(o&&i&&o.resetTimeoutOnProgress)try{this._resetTimeout(n)}catch(l){this._responseHandlers.delete(n),this._progressHandlers.delete(n),this._cleanupTimeout(n),i(l);return}s(a)}_onresponse(e){const r=Number(e.id),a=this._requestResolvers.get(r);if(a){if(this._requestResolvers.delete(r),Fi(e))a(e);else{const i=new ee(e.error.code,e.error.message,e.error.data);a(i)}return}const n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let s=!1;if(Fi(e)&&e.result&&typeof e.result=="object"){const i=e.result;if(i.task&&typeof i.task=="object"){const o=i.task;typeof o.taskId=="string"&&(s=!0,this._taskProgressTokens.set(o.taskId,r))}}if(s||this._progressHandlers.delete(r),Fi(e))n(e);else{const i=ee.fromError(e.error.code,e.error.message,e.error.data);n(i)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)==null?void 0:e.close())}async*requestStream(e,r,a){var i,o;const{task:n}=a??{};if(!n){try{yield{type:"result",result:await this.request(e,r,a)}}catch(l){yield{type:"error",error:l instanceof ee?l:new ee(re.InternalError,String(l))}}return}let s;try{const l=await this.request(e,gl,a);if(l.task)s=l.task.taskId,yield{type:"taskCreated",task:l.task};else throw new ee(re.InternalError,"Task creation did not return a task");for(;;){const u=await this.getTask({taskId:s},a);if(yield{type:"taskStatus",task:u},Dn(u.status)){u.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:s},r,a)}:u.status==="failed"?yield{type:"error",error:new ee(re.InternalError,`Task ${s} failed`)}:u.status==="cancelled"&&(yield{type:"error",error:new ee(re.InternalError,`Task ${s} was cancelled`)});return}if(u.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:s},r,a)};return}const c=u.pollInterval??((i=this._options)==null?void 0:i.defaultTaskPollInterval)??1e3;await new Promise(d=>setTimeout(d,c)),(o=a==null?void 0:a.signal)==null||o.throwIfAborted()}}catch(l){yield{type:"error",error:l instanceof ee?l:new ee(re.InternalError,String(l))}}}request(e,r,a){const{relatedRequestId:n,resumptionToken:s,onresumptiontoken:i,task:o,relatedTask:l}=a??{};return new Promise((u,c)=>{var v,g,S,P,x;const d=R=>{c(R)};if(!this._transport){d(new Error("Not connected"));return}if(((v=this._options)==null?void 0:v.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(e.method),o&&this.assertTaskCapability(e.method)}catch(R){d(R);return}(g=a==null?void 0:a.signal)==null||g.throwIfAborted();const p=this._requestMessageId++,h={...e,jsonrpc:"2.0",id:p};a!=null&&a.onprogress&&(this._progressHandlers.set(p,a.onprogress),h.params={...e.params,_meta:{...((S=e.params)==null?void 0:S._meta)||{},progressToken:p}}),o&&(h.params={...h.params,task:o}),l&&(h.params={...h.params,_meta:{...((P=h.params)==null?void 0:P._meta)||{},[Fn]:l}});const m=R=>{var z;this._responseHandlers.delete(p),this._progressHandlers.delete(p),this._cleanupTimeout(p),(z=this._transport)==null||z.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:p,reason:String(R)}},{relatedRequestId:n,resumptionToken:s,onresumptiontoken:i}).catch(L=>this._onerror(new Error(`Failed to send cancellation: ${L}`)));const $=R instanceof ee?R:new ee(re.RequestTimeout,String(R));c($)};this._responseHandlers.set(p,R=>{var $;if(!(($=a==null?void 0:a.signal)!=null&&$.aborted)){if(R instanceof Error)return c(R);try{const z=Is(r,R.result);z.success?u(z.data):c(z.error)}catch(z){c(z)}}}),(x=a==null?void 0:a.signal)==null||x.addEventListener("abort",()=>{var R;m((R=a==null?void 0:a.signal)==null?void 0:R.reason)});const y=(a==null?void 0:a.timeout)??iR,_=()=>m(ee.fromError(re.RequestTimeout,"Request timed out",{timeout:y}));this._setupTimeout(p,y,a==null?void 0:a.maxTotalTimeout,_,(a==null?void 0:a.resetTimeoutOnProgress)??!1);const f=l==null?void 0:l.taskId;if(f){const R=$=>{const z=this._responseHandlers.get(p);z?z($):this._onerror(new Error(`Response handler missing for side-channeled request ${p}`))};this._requestResolvers.set(p,R),this._enqueueTaskMessage(f,{type:"request",message:h,timestamp:Date.now()}).catch($=>{this._cleanupTimeout(p),c($)})}else this._transport.send(h,{relatedRequestId:n,resumptionToken:s,onresumptiontoken:i}).catch(R=>{this._cleanupTimeout(p),c(R)})})}async getTask(e,r){return this.request({method:"tasks/get",params:e},Wd,r)}async getTaskResult(e,r,a){return this.request({method:"tasks/result",params:e},r,a)}async listTasks(e,r){return this.request({method:"tasks/list",params:e},Jd,r)}async cancelTask(e,r){return this.request({method:"tasks/cancel",params:e},lx,r)}async notification(e,r){var o,l,u,c;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);const a=(o=r==null?void 0:r.relatedTask)==null?void 0:o.taskId;if(a){const d={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...((l=e.params)==null?void 0:l._meta)||{},[Fn]:r.relatedTask}}};await this._enqueueTaskMessage(a,{type:"notification",message:d,timestamp:Date.now()});return}if((((u=this._options)==null?void 0:u.debouncedNotificationMethods)??[]).includes(e.method)&&!e.params&&!(r!=null&&r.relatedRequestId)&&!(r!=null&&r.relatedTask)){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var p,h;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let d={...e,jsonrpc:"2.0"};r!=null&&r.relatedTask&&(d={...d,params:{...d.params,_meta:{...((p=d.params)==null?void 0:p._meta)||{},[Fn]:r.relatedTask}}}),(h=this._transport)==null||h.send(d,r).catch(m=>this._onerror(m))});return}let i={...e,jsonrpc:"2.0"};r!=null&&r.relatedTask&&(i={...i,params:{...i.params,_meta:{...((c=i.params)==null?void 0:c._meta)||{},[Fn]:r.relatedTask}}}),await this._transport.send(i,r)}setRequestHandler(e,r){const a=Ip(e);this.assertRequestHandlerCapability(a),this._requestHandlers.set(a,(n,s)=>{const i=bp(e,n);return Promise.resolve(r(i,s))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){const a=Ip(e);this._notificationHandlers.set(a,n=>{const s=bp(e,n);return Promise.resolve(r(s))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){const r=this._taskProgressTokens.get(e);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,r,a){var s;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const n=(s=this._options)==null?void 0:s.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,r,a,n)}async _clearTaskQueue(e,r){if(this._taskMessageQueue){const a=await this._taskMessageQueue.dequeueAll(e,r);for(const n of a)if(n.type==="request"&&Pp(n.message)){const s=n.message.id,i=this._requestResolvers.get(s);i?(i(new ee(re.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(s)):this._onerror(new Error(`Resolver missing for request ${s} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,r){var n,s;let a=((n=this._options)==null?void 0:n.defaultTaskPollInterval)??1e3;try{const i=await((s=this._taskStore)==null?void 0:s.getTask(e));i!=null&&i.pollInterval&&(a=i.pollInterval)}catch{}return new Promise((i,o)=>{if(r.aborted){o(new ee(re.InvalidRequest,"Request cancelled"));return}const l=setTimeout(i,a);r.addEventListener("abort",()=>{clearTimeout(l),o(new ee(re.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,r){const a=this._taskStore;if(!a)throw new Error("No task store configured");return{createTask:async n=>{if(!e)throw new Error("No request provided");return await a.createTask(n,e.id,{method:e.method,params:e.params},r)},getTask:async n=>{const s=await a.getTask(n,r);if(!s)throw new ee(re.InvalidParams,"Failed to retrieve task: Task not found");return s},storeTaskResult:async(n,s,i)=>{await a.storeTaskResult(n,s,i,r);const o=await a.getTask(n,r);if(o){const l=Fo.parse({method:"notifications/tasks/status",params:o});await this.notification(l),Dn(o.status)&&this._cleanupTaskProgressHandler(n)}},getTaskResult:n=>a.getTaskResult(n,r),updateTaskStatus:async(n,s,i)=>{const o=await a.getTask(n,r);if(!o)throw new ee(re.InvalidParams,`Task "${n}" not found - it may have been cleaned up`);if(Dn(o.status))throw new ee(re.InvalidParams,`Cannot update task "${n}" from terminal status "${o.status}" to "${s}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await a.updateTaskStatus(n,s,i,r);const l=await a.getTask(n,r);if(l){const u=Fo.parse({method:"notifications/tasks/status",params:l});await this.notification(u),Dn(l.status)&&this._cleanupTaskProgressHandler(n)}},listTasks:n=>a.listTasks(n,r)}}}function Op(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function lR(t,e){const r={...t};for(const a in e){const n=a,s=e[n];if(s===void 0)continue;const i=r[n];Op(i)&&Op(s)?r[n]={...i,...s}:r[n]=s}return r}var kc={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,a){a(e)})(S0,function(r){function a(){for(var E=arguments.length,w=Array(E),k=0;k<E;k++)w[k]=arguments[k];if(w.length>1){w[0]=w[0].slice(0,-1);for(var b=w.length-1,I=1;I<b;++I)w[I]=w[I].slice(1,-1);return w[b]=w[b].slice(1),w.join("")}else return w[0]}function n(E){return"(?:"+E+")"}function s(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function i(E){return E.toUpperCase()}function o(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function l(E,w){var k=E;if(w)for(var b in w)k[b]=w[b];return k}function u(E){var w="[A-Za-z]",k="[0-9]",b=a(k,"[A-Fa-f]"),I=n(n("%[EFef]"+b+"%"+b+b+"%"+b+b)+"|"+n("%[89A-Fa-f]"+b+"%"+b+b)+"|"+n("%"+b+b)),X="[\\:\\/\\?\\#\\[\\]\\@]",te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",he=a(X,te),Ie=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Je=E?"[\\uE000-\\uF8FF]":"[]",de=a(w,k,"[\\-\\.\\_\\~]",Ie);n(w+a(w,k,"[\\+\\-\\.]")+"*"),n(n(I+"|"+a(de,te,"[\\:]"))+"*");var xe=n(n("25[0-5]")+"|"+n("2[0-4]"+k)+"|"+n("1"+k+k)+"|"+n("0?[1-9]"+k)+"|0?0?"+k),Ye=n(xe+"\\."+xe+"\\."+xe+"\\."+xe),se=n(b+"{1,4}"),ze=n(n(se+"\\:"+se)+"|"+Ye),tt=n(n(se+"\\:")+"{6}"+ze),Ae=n("\\:\\:"+n(se+"\\:")+"{5}"+ze),Yr=n(n(se)+"?\\:\\:"+n(se+"\\:")+"{4}"+ze),xr=n(n(n(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+n(se+"\\:")+"{3}"+ze),Tr=n(n(n(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+n(se+"\\:")+"{2}"+ze),oa=n(n(n(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+ze),zn=n(n(n(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+ze),rr=n(n(n(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),Rr=n(n(n(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),An=n([tt,Ae,Yr,xr,Tr,oa,zn,rr,Rr].join("|")),Dr=n(n(de+"|"+I)+"+");n("[vV]"+b+"+\\."+a(de,te,"[\\:]")+"+"),n(n(I+"|"+a(de,te))+"*");var Ya=n(I+"|"+a(de,te,"[\\:\\@]"));return n(n(I+"|"+a(de,te,"[\\@]"))+"+"),n(n(Ya+"|"+a("[\\/\\?]",Je))+"*"),{NOT_SCHEME:new RegExp(a("[^]",w,k,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",de,te),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",de,te),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",de,te),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",de,te),"g"),NOT_QUERY:new RegExp(a("[^\\%]",de,te,"[\\:\\@\\/\\?]",Je),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",de,te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",de,te),"g"),UNRESERVED:new RegExp(de,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",de,he),"g"),PCT_ENCODED:new RegExp(I,"g"),IPV4ADDRESS:new RegExp("^("+Ye+")$"),IPV6ADDRESS:new RegExp("^\\[?("+An+")"+n(n("\\%25|\\%(?!"+b+"{2})")+"("+Dr+")")+"?\\]?$")}}var c=u(!1),d=u(!0),p=function(){function E(w,k){var b=[],I=!0,X=!1,te=void 0;try{for(var he=w[Symbol.iterator](),Ie;!(I=(Ie=he.next()).done)&&(b.push(Ie.value),!(k&&b.length===k));I=!0);}catch(Je){X=!0,te=Je}finally{try{!I&&he.return&&he.return()}finally{if(X)throw te}}return b}return function(w,k){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return E(w,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(E){if(Array.isArray(E)){for(var w=0,k=Array(E.length);w<E.length;w++)k[w]=E[w];return k}else return Array.from(E)},m=2147483647,y=36,_=1,f=26,v=38,g=700,S=72,P=128,x="-",R=/^xn--/,$=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=y-_,D=Math.floor,N=String.fromCharCode;function T(E){throw new RangeError(L[E])}function q(E,w){for(var k=[],b=E.length;b--;)k[b]=w(E[b]);return k}function ne(E,w){var k=E.split("@"),b="";k.length>1&&(b=k[0]+"@",E=k[1]),E=E.replace(z,".");var I=E.split("."),X=q(I,w).join(".");return b+X}function H(E){for(var w=[],k=0,b=E.length;k<b;){var I=E.charCodeAt(k++);if(I>=55296&&I<=56319&&k<b){var X=E.charCodeAt(k++);(X&64512)==56320?w.push(((I&1023)<<10)+(X&1023)+65536):(w.push(I),k--)}else w.push(I)}return w}var j=function(w){return String.fromCodePoint.apply(String,h(w))},U=function(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:y},M=function(w,k){return w+22+75*(w<26)-((k!=0)<<5)},ae=function(w,k,b){var I=0;for(w=b?D(w/g):w>>1,w+=D(w/k);w>A*f>>1;I+=y)w=D(w/A);return D(I+(A+1)*w/(w+v))},oe=function(w){var k=[],b=w.length,I=0,X=P,te=S,he=w.lastIndexOf(x);he<0&&(he=0);for(var Ie=0;Ie<he;++Ie)w.charCodeAt(Ie)>=128&&T("not-basic"),k.push(w.charCodeAt(Ie));for(var Je=he>0?he+1:0;Je<b;){for(var de=I,xe=1,Ye=y;;Ye+=y){Je>=b&&T("invalid-input");var se=U(w.charCodeAt(Je++));(se>=y||se>D((m-I)/xe))&&T("overflow"),I+=se*xe;var ze=Ye<=te?_:Ye>=te+f?f:Ye-te;if(se<ze)break;var tt=y-ze;xe>D(m/tt)&&T("overflow"),xe*=tt}var Ae=k.length+1;te=ae(I-de,Ae,de==0),D(I/Ae)>m-X&&T("overflow"),X+=D(I/Ae),I%=Ae,k.splice(I++,0,X)}return String.fromCodePoint.apply(String,k)},Ne=function(w){var k=[];w=H(w);var b=w.length,I=P,X=0,te=S,he=!0,Ie=!1,Je=void 0;try{for(var de=w[Symbol.iterator](),xe;!(he=(xe=de.next()).done);he=!0){var Ye=xe.value;Ye<128&&k.push(N(Ye))}}catch(Xa){Ie=!0,Je=Xa}finally{try{!he&&de.return&&de.return()}finally{if(Ie)throw Je}}var se=k.length,ze=se;for(se&&k.push(x);ze<b;){var tt=m,Ae=!0,Yr=!1,xr=void 0;try{for(var Tr=w[Symbol.iterator](),oa;!(Ae=(oa=Tr.next()).done);Ae=!0){var zn=oa.value;zn>=I&&zn<tt&&(tt=zn)}}catch(Xa){Yr=!0,xr=Xa}finally{try{!Ae&&Tr.return&&Tr.return()}finally{if(Yr)throw xr}}var rr=ze+1;tt-I>D((m-X)/rr)&&T("overflow"),X+=(tt-I)*rr,I=tt;var Rr=!0,An=!1,Dr=void 0;try{for(var Ya=w[Symbol.iterator](),Pf;!(Rr=(Pf=Ya.next()).done);Rr=!0){var xf=Pf.value;if(xf<I&&++X>m&&T("overflow"),xf==I){for(var pi=X,mi=y;;mi+=y){var vi=mi<=te?_:mi>=te+f?f:mi-te;if(pi<vi)break;var Tf=pi-vi,Rf=y-vi;k.push(N(M(vi+Tf%Rf,0))),pi=D(Tf/Rf)}k.push(N(M(pi,0))),te=ae(X,rr,ze==se),X=0,++ze}}}catch(Xa){An=!0,Dr=Xa}finally{try{!Rr&&Ya.return&&Ya.return()}finally{if(An)throw Dr}}++X,++I}return k.join("")},fe=function(w){return ne(w,function(k){return R.test(k)?oe(k.slice(4).toLowerCase()):k})},Vt=function(w){return ne(w,function(k){return $.test(k)?"xn--"+Ne(k):k})},Qe={version:"2.1.0",ucs2:{decode:H,encode:j},decode:oe,encode:Ne,toASCII:Vt,toUnicode:fe},Pe={};function Tt(E){var w=E.charCodeAt(0),k=void 0;return w<16?k="%0"+w.toString(16).toUpperCase():w<128?k="%"+w.toString(16).toUpperCase():w<2048?k="%"+(w>>6|192).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase():k="%"+(w>>12|224).toString(16).toUpperCase()+"%"+(w>>6&63|128).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase(),k}function tr(E){for(var w="",k=0,b=E.length;k<b;){var I=parseInt(E.substr(k+1,2),16);if(I<128)w+=String.fromCharCode(I),k+=3;else if(I>=194&&I<224){if(b-k>=6){var X=parseInt(E.substr(k+4,2),16);w+=String.fromCharCode((I&31)<<6|X&63)}else w+=E.substr(k,6);k+=6}else if(I>=224){if(b-k>=9){var te=parseInt(E.substr(k+4,2),16),he=parseInt(E.substr(k+7,2),16);w+=String.fromCharCode((I&15)<<12|(te&63)<<6|he&63)}else w+=E.substr(k,9);k+=9}else w+=E.substr(k,3),k+=3}return w}function et(E,w){function k(b){var I=tr(b);return I.match(w.UNRESERVED)?I:b}return E.scheme&&(E.scheme=String(E.scheme).replace(w.PCT_ENCODED,k).toLowerCase().replace(w.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(w.PCT_ENCODED,k).replace(w.NOT_USERINFO,Tt).replace(w.PCT_ENCODED,i)),E.host!==void 0&&(E.host=String(E.host).replace(w.PCT_ENCODED,k).toLowerCase().replace(w.NOT_HOST,Tt).replace(w.PCT_ENCODED,i)),E.path!==void 0&&(E.path=String(E.path).replace(w.PCT_ENCODED,k).replace(E.scheme?w.NOT_PATH:w.NOT_PATH_NOSCHEME,Tt).replace(w.PCT_ENCODED,i)),E.query!==void 0&&(E.query=String(E.query).replace(w.PCT_ENCODED,k).replace(w.NOT_QUERY,Tt).replace(w.PCT_ENCODED,i)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(w.PCT_ENCODED,k).replace(w.NOT_FRAGMENT,Tt).replace(w.PCT_ENCODED,i)),E}function Le(E){return E.replace(/^0*(.*)/,"$1")||"0"}function zr(E,w){var k=E.match(w.IPV4ADDRESS)||[],b=p(k,2),I=b[1];return I?I.split(".").map(Le).join("."):E}function dt(E,w){var k=E.match(w.IPV6ADDRESS)||[],b=p(k,3),I=b[1],X=b[2];if(I){for(var te=I.toLowerCase().split("::").reverse(),he=p(te,2),Ie=he[0],Je=he[1],de=Je?Je.split(":").map(Le):[],xe=Ie.split(":").map(Le),Ye=w.IPV4ADDRESS.test(xe[xe.length-1]),se=Ye?7:8,ze=xe.length-se,tt=Array(se),Ae=0;Ae<se;++Ae)tt[Ae]=de[Ae]||xe[ze+Ae]||"";Ye&&(tt[se-1]=zr(tt[se-1],w));var Yr=tt.reduce(function(rr,Rr,An){if(!Rr||Rr==="0"){var Dr=rr[rr.length-1];Dr&&Dr.index+Dr.length===An?Dr.length++:rr.push({index:An,length:1})}return rr},[]),xr=Yr.sort(function(rr,Rr){return Rr.length-rr.length})[0],Tr=void 0;if(xr&&xr.length>1){var oa=tt.slice(0,xr.index),zn=tt.slice(xr.index+xr.length);Tr=oa.join(":")+"::"+zn.join(":")}else Tr=tt.join(":");return X&&(Tr+="%"+X),Tr}else return E}var Fe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Gr="".match(/(){0}/)[1]===void 0;function wt(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k={},b=w.iri!==!1?d:c;w.reference==="suffix"&&(E=(w.scheme?w.scheme+":":"")+"//"+E);var I=E.match(Fe);if(I){Gr?(k.scheme=I[1],k.userinfo=I[3],k.host=I[4],k.port=parseInt(I[5],10),k.path=I[6]||"",k.query=I[7],k.fragment=I[8],isNaN(k.port)&&(k.port=I[5])):(k.scheme=I[1]||void 0,k.userinfo=E.indexOf("@")!==-1?I[3]:void 0,k.host=E.indexOf("//")!==-1?I[4]:void 0,k.port=parseInt(I[5],10),k.path=I[6]||"",k.query=E.indexOf("?")!==-1?I[7]:void 0,k.fragment=E.indexOf("#")!==-1?I[8]:void 0,isNaN(k.port)&&(k.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?I[4]:void 0)),k.host&&(k.host=dt(zr(k.host,b),b)),k.scheme===void 0&&k.userinfo===void 0&&k.host===void 0&&k.port===void 0&&!k.path&&k.query===void 0?k.reference="same-document":k.scheme===void 0?k.reference="relative":k.fragment===void 0?k.reference="absolute":k.reference="uri",w.reference&&w.reference!=="suffix"&&w.reference!==k.reference&&(k.error=k.error||"URI is not a "+w.reference+" reference.");var X=Pe[(w.scheme||k.scheme||"").toLowerCase()];if(!w.unicodeSupport&&(!X||!X.unicodeSupport)){if(k.host&&(w.domainHost||X&&X.domainHost))try{k.host=Qe.toASCII(k.host.replace(b.PCT_ENCODED,tr).toLowerCase())}catch(te){k.error=k.error||"Host's domain name can not be converted to ASCII via punycode: "+te}et(k,c)}else et(k,b);X&&X.parse&&X.parse(k,w)}else k.error=k.error||"URI can not be parsed.";return k}function sa(E,w){var k=w.iri!==!1?d:c,b=[];return E.userinfo!==void 0&&(b.push(E.userinfo),b.push("@")),E.host!==void 0&&b.push(dt(zr(String(E.host),k),k).replace(k.IPV6ADDRESS,function(I,X,te){return"["+X+(te?"%25"+te:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(b.push(":"),b.push(String(E.port))),b.length?b.join(""):void 0}var Nn=/^\.\.?\//,lt=/^\/\.(\/|$)/,Jr=/^\/\.\.(\/|$)/,Ka=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(E){for(var w=[];E.length;)if(E.match(Nn))E=E.replace(Nn,"");else if(E.match(lt))E=E.replace(lt,"/");else if(E.match(Jr))E=E.replace(Jr,"/"),w.pop();else if(E==="."||E==="..")E="";else{var k=E.match(Ka);if(k){var b=k[0];E=E.slice(b.length),w.push(b)}else throw new Error("Unexpected dot segment condition")}return w.join("")}function at(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=w.iri?d:c,b=[],I=Pe[(w.scheme||E.scheme||"").toLowerCase()];if(I&&I.serialize&&I.serialize(E,w),E.host&&!k.IPV6ADDRESS.test(E.host)){if(w.domainHost||I&&I.domainHost)try{E.host=w.iri?Qe.toUnicode(E.host):Qe.toASCII(E.host.replace(k.PCT_ENCODED,tr).toLowerCase())}catch(he){E.error=E.error||"Host's domain name can not be converted to "+(w.iri?"Unicode":"ASCII")+" via punycode: "+he}}et(E,k),w.reference!=="suffix"&&E.scheme&&(b.push(E.scheme),b.push(":"));var X=sa(E,w);if(X!==void 0&&(w.reference!=="suffix"&&b.push("//"),b.push(X),E.path&&E.path.charAt(0)!=="/"&&b.push("/")),E.path!==void 0){var te=E.path;!w.absolutePath&&(!I||!I.absolutePath)&&(te=nt(te)),X===void 0&&(te=te.replace(/^\/\//,"/%2F")),b.push(te)}return E.query!==void 0&&(b.push("?"),b.push(E.query)),E.fragment!==void 0&&(b.push("#"),b.push(E.fragment)),b.join("")}function Nt(E,w){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments[3],I={};return b||(E=wt(at(E,k),k),w=wt(at(w,k),k)),k=k||{},!k.tolerant&&w.scheme?(I.scheme=w.scheme,I.userinfo=w.userinfo,I.host=w.host,I.port=w.port,I.path=nt(w.path||""),I.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(I.userinfo=w.userinfo,I.host=w.host,I.port=w.port,I.path=nt(w.path||""),I.query=w.query):(w.path?(w.path.charAt(0)==="/"?I.path=nt(w.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?I.path="/"+w.path:E.path?I.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+w.path:I.path=w.path,I.path=nt(I.path)),I.query=w.query):(I.path=E.path,w.query!==void 0?I.query=w.query:I.query=E.query),I.userinfo=E.userinfo,I.host=E.host,I.port=E.port),I.scheme=E.scheme),I.fragment=w.fragment,I}function hi(E,w,k){var b=l({scheme:"null"},k);return at(Nt(wt(E,b),wt(w,b),b,!0),b)}function kl(E,w){return typeof E=="string"?E=at(wt(E,w),w):s(E)==="object"&&(E=wt(at(E,w),w)),E}function Pl(E,w,k){return typeof E=="string"?E=at(wt(E,k),k):s(E)==="object"&&(E=at(E,k)),typeof w=="string"?w=at(wt(w,k),k):s(w)==="object"&&(w=at(w,k)),E===w}function o0(E,w){return E&&E.toString().replace(!w||!w.iri?c.ESCAPE:d.ESCAPE,Tt)}function Ar(E,w){return E&&E.toString().replace(!w||!w.iri?c.PCT_ENCODED:d.PCT_ENCODED,tr)}var Ga={scheme:"http",domainHost:!0,parse:function(w,k){return w.host||(w.error=w.error||"HTTP URIs must have a host."),w},serialize:function(w,k){var b=String(w.scheme).toLowerCase()==="https";return(w.port===(b?443:80)||w.port==="")&&(w.port=void 0),w.path||(w.path="/"),w}},vf={scheme:"https",domainHost:Ga.domainHost,parse:Ga.parse,serialize:Ga.serialize};function gf(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var Ja={scheme:"ws",domainHost:!0,parse:function(w,k){var b=w;return b.secure=gf(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b},serialize:function(w,k){if((w.port===(gf(w)?443:80)||w.port==="")&&(w.port=void 0),typeof w.secure=="boolean"&&(w.scheme=w.secure?"wss":"ws",w.secure=void 0),w.resourceName){var b=w.resourceName.split("?"),I=p(b,2),X=I[0],te=I[1];w.path=X&&X!=="/"?X:void 0,w.query=te,w.resourceName=void 0}return w.fragment=void 0,w}},yf={scheme:"wss",domainHost:Ja.domainHost,parse:Ja.parse,serialize:Ja.serialize},l0={},_f="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pr="[0-9A-Fa-f]",u0=n(n("%[EFef]"+Pr+"%"+Pr+Pr+"%"+Pr+Pr)+"|"+n("%[89A-Fa-f]"+Pr+"%"+Pr+Pr)+"|"+n("%"+Pr+Pr)),c0="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",d0="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",f0=a(d0,'[\\"\\\\]'),h0="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",p0=new RegExp(_f,"g"),ia=new RegExp(u0,"g"),m0=new RegExp(a("[^]",c0,"[\\.]",'[\\"]',f0),"g"),wf=new RegExp(a("[^]",_f,h0),"g"),v0=wf;function xl(E){var w=tr(E);return w.match(p0)?w:E}var Sf={scheme:"mailto",parse:function(w,k){var b=w,I=b.to=b.path?b.path.split(","):[];if(b.path=void 0,b.query){for(var X=!1,te={},he=b.query.split("&"),Ie=0,Je=he.length;Ie<Je;++Ie){var de=he[Ie].split("=");switch(de[0]){case"to":for(var xe=de[1].split(","),Ye=0,se=xe.length;Ye<se;++Ye)I.push(xe[Ye]);break;case"subject":b.subject=Ar(de[1],k);break;case"body":b.body=Ar(de[1],k);break;default:X=!0,te[Ar(de[0],k)]=Ar(de[1],k);break}}X&&(b.headers=te)}b.query=void 0;for(var ze=0,tt=I.length;ze<tt;++ze){var Ae=I[ze].split("@");if(Ae[0]=Ar(Ae[0]),k.unicodeSupport)Ae[1]=Ar(Ae[1],k).toLowerCase();else try{Ae[1]=Qe.toASCII(Ar(Ae[1],k).toLowerCase())}catch(Yr){b.error=b.error||"Email address's domain name can not be converted to ASCII via punycode: "+Yr}I[ze]=Ae.join("@")}return b},serialize:function(w,k){var b=w,I=o(w.to);if(I){for(var X=0,te=I.length;X<te;++X){var he=String(I[X]),Ie=he.lastIndexOf("@"),Je=he.slice(0,Ie).replace(ia,xl).replace(ia,i).replace(m0,Tt),de=he.slice(Ie+1);try{de=k.iri?Qe.toUnicode(de):Qe.toASCII(Ar(de,k).toLowerCase())}catch(ze){b.error=b.error||"Email address's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+ze}I[X]=Je+"@"+de}b.path=I.join(",")}var xe=w.headers=w.headers||{};w.subject&&(xe.subject=w.subject),w.body&&(xe.body=w.body);var Ye=[];for(var se in xe)xe[se]!==l0[se]&&Ye.push(se.replace(ia,xl).replace(ia,i).replace(wf,Tt)+"="+xe[se].replace(ia,xl).replace(ia,i).replace(v0,Tt));return Ye.length&&(b.query=Ye.join("&")),b}},g0=/^([^\:]+)\:(.*)/,Ef={scheme:"urn",parse:function(w,k){var b=w.path&&w.path.match(g0),I=w;if(b){var X=k.scheme||I.scheme||"urn",te=b[1].toLowerCase(),he=b[2],Ie=X+":"+(k.nid||te),Je=Pe[Ie];I.nid=te,I.nss=he,I.path=void 0,Je&&(I=Je.parse(I,k))}else I.error=I.error||"URN can not be parsed.";return I},serialize:function(w,k){var b=k.scheme||w.scheme||"urn",I=w.nid,X=b+":"+(k.nid||I),te=Pe[X];te&&(w=te.serialize(w,k));var he=w,Ie=w.nss;return he.path=(I||k.nid)+":"+Ie,he}},y0=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,kf={scheme:"urn:uuid",parse:function(w,k){var b=w;return b.uuid=b.nss,b.nss=void 0,!k.tolerant&&(!b.uuid||!b.uuid.match(y0))&&(b.error=b.error||"UUID is not valid."),b},serialize:function(w,k){var b=w;return b.nss=(w.uuid||"").toLowerCase(),b}};Pe[Ga.scheme]=Ga,Pe[vf.scheme]=vf,Pe[Ja.scheme]=Ja,Pe[yf.scheme]=yf,Pe[Sf.scheme]=Sf,Pe[Ef.scheme]=Ef,Pe[kf.scheme]=kf,r.SCHEMES=Pe,r.pctEncChar=Tt,r.pctDecChars=tr,r.parse=wt,r.removeDotSegments=nt,r.serialize=at,r.resolveComponents=Nt,r.resolve=hi,r.normalize=kl,r.equal=Pl,r.escapeComponent=o0,r.unescapeComponent=Ar,Object.defineProperty(r,"__esModule",{value:!0})})})(kc,kc.exports);var uR=kc.exports,of=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,n,s;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),a=s.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=a;n--!==0;){var i=s[n];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},cR=function(e){for(var r=0,a=e.length,n=0,s;n<a;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<a&&(s=e.charCodeAt(n),(s&64512)==56320&&n++);return r},Wa={copy:dR,checkDataType:Pc,checkDataTypes:fR,coerceToTypes:hR,toHash:lf,getProperty:uf,escapeQuotes:cf,equal:of,ucs2length:cR,varOccurences:vR,varReplace:gR,schemaHasRules:yR,schemaHasRulesExcept:_R,schemaUnknownRules:wR,toQuotedString:xc,getPathExpr:SR,getPath:ER,getData:xR,unescapeFragment:TR,unescapeJsonPointer:ff,escapeFragment:RR,escapeJsonPointer:df};function dR(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function Pc(t,e,r,a){var n=a?" !== ":" === ",s=a?" || ":" && ",i=a?"!":"",o=a?"":"!";switch(t){case"null":return e+n+"null";case"array":return i+"Array.isArray("+e+")";case"object":return"("+i+e+s+"typeof "+e+n+'"object"'+s+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+s+o+"("+e+" % 1)"+s+e+n+e+(r?s+i+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+n+'"'+t+'"'+(r?s+i+"isFinite("+e+")":"")+")";default:return"typeof "+e+n+'"'+t+'"'}}function fR(t,e,r){switch(t.length){case 1:return Pc(t[0],e,r,!0);default:var a="",n=lf(t);n.array&&n.object&&(a=n.null?"(":"(!"+e+" || ",a+="typeof "+e+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer;for(var s in n)a+=(a?" && ":"")+Pc(s,e,r,!0);return a}}var Cp=lf(["string","number","integer","boolean","null"]);function hR(t,e){if(Array.isArray(e)){for(var r=[],a=0;a<e.length;a++){var n=e[a];(Cp[n]||t==="array"&&n==="array")&&(r[r.length]=n)}if(r.length)return r}else{if(Cp[e])return[e];if(t==="array"&&e==="array")return["array"]}}function lf(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var pR=/^[a-z$_][a-z$_0-9]*$/i,mR=/'|\\/g;function uf(t){return typeof t=="number"?"["+t+"]":pR.test(t)?"."+t:"['"+cf(t)+"']"}function cf(t){return t.replace(mR,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function vR(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function gR(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function yR(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function _R(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var a in t)if(a!=r&&e[a])return!0}function wR(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function xc(t){return"'"+cf(t)+"'"}function SR(t,e,r,a){var n=r?"'/' + "+e+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Ty(t,n)}function ER(t,e,r){var a=xc(r?"/"+df(e):uf(e));return Ty(t,a)}var kR=/^\/(?:[^~]|~0|~1)*$/,PR=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xR(t,e,r){var a,n,s,i;if(t==="")return"rootData";if(t[0]=="/"){if(!kR.test(t))throw new Error("Invalid JSON-pointer: "+t);n=t,s="rootData"}else{if(i=t.match(PR),!i)throw new Error("Invalid JSON-pointer: "+t);if(a=+i[1],n=i[2],n=="#"){if(a>=e)throw new Error("Cannot access property/index "+a+" levels up, current level is "+e);return r[e-a]}if(a>e)throw new Error("Cannot access data "+a+" levels up, current level is "+e);if(s="data"+(e-a||""),!n)return s}for(var o=s,l=n.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=uf(ff(c)),o+=" && "+s)}return o}function Ty(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function TR(t){return ff(decodeURIComponent(t))}function RR(t){return encodeURIComponent(df(t))}function df(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function ff(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var $R=Wa,Ry=IR;function IR(t){$R.copy(t,this)}var $y={exports:{}},fn=$y.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};ro(e,a,n,t,"",t)};fn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};fn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};fn.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};fn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ro(t,e,r,a,n,s,i,o,l,u){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,n,s,i,o,l,u);for(var c in a){var d=a[c];if(Array.isArray(d)){if(c in fn.arrayKeywords)for(var p=0;p<d.length;p++)ro(t,e,r,d[p],n+"/"+c+"/"+p,s,n,c,a,p)}else if(c in fn.propsKeywords){if(d&&typeof d=="object")for(var h in d)ro(t,e,r,d[h],n+"/"+c+"/"+bR(h),s,n,c,a,h)}else(c in fn.keywords||t.allKeys&&!(c in fn.skipKeywords))&&ro(t,e,r,d,n+"/"+c,s,n,c,a)}r(a,n,s,i,o,l,u)}}function bR(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var OR=$y.exports,fi=uR,Np=of,yl=Wa,Ho=Ry,CR=OR,hf=Cn;Cn.normalizeId=Sn;Cn.fullPath=qo;Cn.url=Bo;Cn.ids=jR;Cn.inlineRef=Tc;Cn.schema=_l;function Cn(t,e,r){var a=this._refs[r];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return Cn.call(this,t,e,a);if(a=a||this._schemas[r],a instanceof Ho)return Tc(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var n=_l.call(this,e,r),s,i,o;return n&&(s=n.schema,e=n.root,o=n.baseId),s instanceof Ho?i=s.validate||t.call(this,s.schema,e,void 0,o):s!==void 0&&(i=Tc(s,this._opts.inlineRefs)?s:t.call(this,s,e,void 0,o)),i}function _l(t,e){var r=fi.parse(e),a=by(r),n=qo(this._getId(t.schema));if(Object.keys(t.schema).length===0||a!==n){var s=Sn(a),i=this._refs[s];if(typeof i=="string")return NR.call(this,t,i,r);if(i instanceof Ho)i.validate||this._compile(i),t=i;else if(i=this._schemas[s],i instanceof Ho){if(i.validate||this._compile(i),s==Sn(e))return{schema:i,root:t,baseId:n};t=i}else return;if(!t.schema)return;n=qo(this._getId(t.schema))}return Iy.call(this,r,n,t.schema,t)}function NR(t,e,r){var a=_l.call(this,t,e);if(a){var n=a.schema,s=a.baseId;t=a.root;var i=this._getId(n);return i&&(s=Bo(s,i)),Iy.call(this,r,s,n,t)}}var zR=yl.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Iy(t,e,r,a){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var n=t.fragment.split("/"),s=1;s<n.length;s++){var i=n[s];if(i){if(i=yl.unescapeFragment(i),r=r[i],r===void 0)break;var o;if(!zR[i]&&(o=this._getId(r),o&&(e=Bo(e,o)),r.$ref)){var l=Bo(e,r.$ref),u=_l.call(this,a,l);u&&(r=u.schema,a=u.root,e=u.baseId)}}}if(r!==void 0&&r!==a.schema)return{schema:r,root:a,baseId:e}}}var AR=yl.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Tc(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return Rc(t);if(e)return $c(t)<=e}function Rc(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!Rc(e))return!1}else for(var a in t)if(a=="$ref"||(e=t[a],typeof e=="object"&&!Rc(e)))return!1;return!0}function $c(t){var e=0,r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(r=t[a],typeof r=="object"&&(e+=$c(r)),e==1/0)return 1/0}else for(var n in t){if(n=="$ref")return 1/0;if(AR[n])e++;else if(r=t[n],typeof r=="object"&&(e+=$c(r)+1),e==1/0)return 1/0}return e}function qo(t,e){e!==!1&&(t=Sn(t));var r=fi.parse(t);return by(r)}function by(t){return fi.serialize(t).split("#")[0]+"#"}var DR=/#\/?$/;function Sn(t){return t?t.replace(DR,""):""}function Bo(t,e){return e=Sn(e),fi.resolve(t,e)}function jR(t){var e=Sn(this._getId(t)),r={"":e},a={"":qo(e,!1)},n={},s=this;return CR(t,{allKeys:!0},function(i,o,l,u,c,d,p){if(o!==""){var h=s._getId(i),m=r[u],y=a[u]+"/"+c;if(p!==void 0&&(y+="/"+(typeof p=="number"?p:yl.escapeFragment(p))),typeof h=="string"){h=m=Sn(m?fi.resolve(m,h):h);var _=s._refs[h];if(typeof _=="string"&&(_=s._refs[_]),_&&_.schema){if(!Np(i,_.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=Sn(y))if(h[0]=="#"){if(n[h]&&!Np(i,n[h]))throw new Error('id "'+h+'" resolves to more than one schema');n[h]=i}else s._refs[h]=y}r[o]=m,a[o]=y}}),n}var su=hf,pf={Validation:zp(LR),MissingRef:zp(mf)};function LR(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}mf.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function mf(t,e,r){this.message=r||mf.message(t,e),this.missingRef=su.url(t,e),this.missingSchema=su.normalizeId(su.fullPath(this.missingRef))}function zp(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Oy=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,a=e.cmp&&function(s){return function(i){return function(o,l){var u={key:o,value:i[o]},c={key:l,value:i[l]};return s(u,c)}}}(e.cmp),n=[];return function s(i){if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i!==void 0){if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);var o,l;if(Array.isArray(i)){for(l="[",o=0;o<i.length;o++)o&&(l+=","),l+=s(i[o])||"null";return l+"]"}if(i===null)return"null";if(n.indexOf(i)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=n.push(i)-1,c=Object.keys(i).sort(a&&a(i));for(l="",o=0;o<c.length;o++){var d=c[o],p=s(i[d]);p&&(l&&(l+=","),l+=JSON.stringify(d)+":"+p)}return n.splice(u,1),"{"+l+"}"}}(t)},Cy=function(e,r,a){var n="",s=e.schema.$async===!0,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var u="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(n+=" var validate = ",s&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(i||e.schema.$ref)){var r="false schema",c=e.level,d=e.dataLevel,p=e.schema[r],h=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,P=!e.opts.allErrors,$,y="data"+(d||""),S="valid"+c;if(e.schema===!1){e.isTop?P=!0:n+=" var "+S+" = false; ";var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+($||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";var f=n;n=_.pop(),!e.compositeRule&&P?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+S+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var v=e.isTop,c=e.level=0,d=e.dataLevel=0,y="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var c=e.level,d=e.dataLevel,y="data"+(d||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),s&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}var S="valid"+c,P=!e.opts.allErrors,x="",R="",$,z=e.schema.type,L=Array.isArray(z);if(z&&e.opts.nullable&&e.schema.nullable===!0&&(L?z.indexOf("null")==-1&&(z=z.concat("null")):z!="null"&&(z=[z,"null"],L=!0)),L&&z.length==1&&(z=z[0],L=!1),e.schema.$ref&&i){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),z){if(e.opts.coerceTypes)var A=e.util.coerceToTypes(e.opts.coerceTypes,z);var D=e.RULES.types[z];if(A||L||D===!0||D&&!lt(D)){var h=e.schemaPath+".type",m=e.errSchemaPath+"/type",h=e.schemaPath+".type",m=e.errSchemaPath+"/type",N=L?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[N](z,y,e.opts.strictNumbers,!0)+") { ",A){var T="dataType"+c,q="coerced"+c;n+=" var "+T+" = typeof "+y+"; var "+q+" = undefined; ",e.opts.coerceTypes=="array"&&(n+=" if ("+T+" == 'object' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+T+" = typeof "+y+"; if ("+e.util.checkDataType(e.schema.type,y,e.opts.strictNumbers)+") "+q+" = "+y+"; } "),n+=" if ("+q+" !== undefined) ; ";var ne=A;if(ne)for(var H,j=-1,U=ne.length-1;j<U;)H=ne[j+=1],H=="string"?n+=" else if ("+T+" == 'number' || "+T+" == 'boolean') "+q+" = '' + "+y+"; else if ("+y+" === null) "+q+" = ''; ":H=="number"||H=="integer"?(n+=" else if ("+T+" == 'boolean' || "+y+" === null || ("+T+" == 'string' && "+y+" && "+y+" == +"+y+" ",H=="integer"&&(n+=" && !("+y+" % 1)"),n+=")) "+q+" = +"+y+"; "):H=="boolean"?n+=" else if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+q+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+q+" = true; ":H=="null"?n+=" else if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+q+" = null; ":e.opts.coerceTypes=="array"&&H=="array"&&(n+=" else if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+y+" == null) "+q+" = ["+y+"]; ");n+=" else {   ";var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",L?n+=""+z.join(","):n+=""+z,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",L?n+=""+z.join(","):n+=""+z,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";var f=n;n=_.pop(),!e.compositeRule&&P?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+q+" !== undefined) {  ";var M=d?"data"+(d-1||""):"parentData",ae=d?e.dataPathArr[d]:"parentDataProperty";n+=" "+y+" = "+q+"; ",d||(n+="if ("+M+" !== undefined)"),n+=" "+M+"["+ae+"] = "+q+"; } "}else{var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",L?n+=""+z.join(","):n+=""+z,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",L?n+=""+z.join(","):n+=""+z,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";var f=n;n=_.pop(),!e.compositeRule&&P?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!i)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",P&&(n+=" } if (errors === ",v?n+="0":n+="errs_"+c,n+=") { ",R+="}");else{var oe=e.RULES;if(oe){for(var D,Ne=-1,fe=oe.length-1;Ne<fe;)if(D=oe[Ne+=1],lt(D)){if(D.type&&(n+=" if ("+e.util.checkDataType(D.type,y,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(D.type=="object"&&e.schema.properties){var p=e.schema.properties,Vt=Object.keys(p),Qe=Vt;if(Qe)for(var Pe,Tt=-1,tr=Qe.length-1;Tt<tr;){Pe=Qe[Tt+=1];var et=p[Pe];if(et.default!==void 0){var Le=y+e.util.getProperty(Pe);if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+Le;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else n+=" if ("+Le+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Le+" === null || "+Le+" === '' "),n+=" ) "+Le+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(et.default)+" ":n+=" "+JSON.stringify(et.default)+" ",n+="; "}}}else if(D.type=="array"&&Array.isArray(e.schema.items)){var zr=e.schema.items;if(zr){for(var et,j=-1,dt=zr.length-1;j<dt;)if(et=zr[j+=1],et.default!==void 0){var Le=y+"["+j+"]";if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+Le;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else n+=" if ("+Le+" === undefined ",e.opts.useDefaults=="empty"&&(n+=" || "+Le+" === null || "+Le+" === '' "),n+=" ) "+Le+" = ",e.opts.useDefaults=="shared"?n+=" "+e.useDefault(et.default)+" ":n+=" "+JSON.stringify(et.default)+" ",n+="; "}}}}var Fe=D.rules;if(Fe){for(var Gr,wt=-1,sa=Fe.length-1;wt<sa;)if(Gr=Fe[wt+=1],Jr(Gr)){var Nn=Gr.code(e,Gr.keyword,D.type);Nn&&(n+=" "+Nn+" ",P&&(x+="}"))}}if(P&&(n+=" "+x+" ",x=""),D.type&&(n+=" } ",z&&z===D.type&&!A)){n+=" else { ";var h=e.schemaPath+".type",m=e.errSchemaPath+"/type",_=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+($||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",L?n+=""+z.join(","):n+=""+z,n+="' } ",e.opts.messages!==!1&&(n+=" , message: 'should be ",L?n+=""+z.join(","):n+=""+z,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),n+=" } "):n+=" {} ";var f=n;n=_.pop(),!e.compositeRule&&P?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}P&&(n+=" if (errors === ",v?n+="0":n+="errs_"+c,n+=") { ",R+="}")}}}P&&(n+=" "+R+" "),v?(s?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+S+" = errors === errs_"+c+";";function lt(nt){for(var at=nt.rules,Nt=0;Nt<at.length;Nt++)if(Jr(at[Nt]))return!0}function Jr(nt){return e.schema[nt.keyword]!==void 0||nt.implements&&Ka(nt)}function Ka(nt){for(var at=nt.implements,Nt=0;Nt<at.length;Nt++)if(e.schema[at[Nt]]!==void 0)return!0}return n},Mi=hf,Qo=Wa,Ny=pf,FR=Oy,Ap=Cy,MR=Qo.ucs2length,ZR=of,UR=Ny.Validation,VR=Ic;function Ic(t,e,r,a){var n=this,s=this._opts,i=[void 0],o={},l=[],u={},c=[],d={},p=[];e=e||{schema:t,refVal:i,refs:o};var h=HR.call(this,t,e,a),m=this._compilations[h.index];if(h.compiling)return m.callValidate=g;var y=this._formats,_=this.RULES;try{var f=S(t,e,r,a);m.validate=f;var v=m.callValidate;return v&&(v.schema=f.schema,v.errors=null,v.refs=f.refs,v.refVal=f.refVal,v.root=f.root,v.$async=f.$async,s.sourceCode&&(v.source=f.source)),f}finally{qR.call(this,t,e,a)}function g(){var N=m.validate,T=N.apply(this,arguments);return g.errors=N.errors,T}function S(N,T,q,ne){var H=!T||T&&T.schema==N;if(T.schema!=e.schema)return Ic.call(n,N,T,q,ne);var j=N.$async===!0,U=Ap({isTop:!0,schema:N,isRoot:H,baseId:ne,root:T,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Ny.MissingRef,RULES:_,validate:Ap,util:Qo,resolve:Mi,resolveRef:P,usePattern:L,useDefault:A,useCustomRule:D,opts:s,formats:y,logger:n.logger,self:n});U=Zi(i,WR)+Zi(l,BR)+Zi(c,QR)+Zi(p,KR)+U,s.processCode&&(U=s.processCode(U,N));var M;try{var ae=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",U);M=ae(n,_,y,e,i,c,p,ZR,MR,UR),i[0]=M}catch(oe){throw n.logger.error("Error compiling schema, function code:",U),oe}return M.schema=N,M.errors=null,M.refs=o,M.refVal=i,M.root=H?M:T,j&&(M.$async=!0),s.sourceCode===!0&&(M.source={code:U,patterns:l,defaults:c}),M}function P(N,T,q){T=Mi.url(N,T);var ne=o[T],H,j;if(ne!==void 0)return H=i[ne],j="refVal["+ne+"]",z(H,j);if(!q&&e.refs){var U=e.refs[T];if(U!==void 0)return H=e.refVal[U],j=x(T,H),z(H,j)}j=x(T);var M=Mi.call(n,S,e,T);if(M===void 0){var ae=r&&r[T];ae&&(M=Mi.inlineRef(ae,s.inlineRefs)?ae:Ic.call(n,ae,e,r,N))}if(M===void 0)R(T);else return $(T,M),z(M,j)}function x(N,T){var q=i.length;return i[q]=T,o[N]=q,"refVal"+q}function R(N){delete o[N]}function $(N,T){var q=o[N];i[q]=T}function z(N,T){return typeof N=="object"||typeof N=="boolean"?{code:T,schema:N,inline:!0}:{code:T,$async:N&&!!N.$async}}function L(N){var T=u[N];return T===void 0&&(T=u[N]=l.length,l[T]=N),"pattern"+T}function A(N){switch(typeof N){case"boolean":case"number":return""+N;case"string":return Qo.toQuotedString(N);case"object":if(N===null)return"null";var T=FR(N),q=d[T];return q===void 0&&(q=d[T]=c.length,c[q]=N),"default"+q}}function D(N,T,q,ne){if(n._opts.validateSchema!==!1){var H=N.definition.dependencies;if(H&&!H.every(function(Qe){return Object.prototype.hasOwnProperty.call(q,Qe)}))throw new Error("parent schema must have all required keywords: "+H.join(","));var j=N.definition.validateSchema;if(j){var U=j(T);if(!U){var M="keyword schema is invalid: "+n.errorsText(j.errors);if(n._opts.validateSchema=="log")n.logger.error(M);else throw new Error(M)}}}var ae=N.definition.compile,oe=N.definition.inline,Ne=N.definition.macro,fe;if(ae)fe=ae.call(n,T,q,ne);else if(Ne)fe=Ne.call(n,T,q,ne),s.validateSchema!==!1&&n.validateSchema(fe,!0);else if(oe)fe=oe.call(n,ne,N.keyword,T,q);else if(fe=N.definition.validate,!fe)return;if(fe===void 0)throw new Error('custom keyword "'+N.keyword+'"failed to compile');var Vt=p.length;return p[Vt]=fe,{code:"customRule"+Vt,validate:fe}}}function HR(t,e,r){var a=zy.call(this,t,e,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:t,root:e,baseId:r},{index:a,compiling:!1})}function qR(t,e,r){var a=zy.call(this,t,e,r);a>=0&&this._compilations.splice(a,1)}function zy(t,e,r){for(var a=0;a<this._compilations.length;a++){var n=this._compilations[a];if(n.schema==t&&n.root==e&&n.baseId==r)return a}return-1}function BR(t,e){return"var pattern"+t+" = new RegExp("+Qo.toQuotedString(e[t])+");"}function QR(t){return"var default"+t+" = defaults["+t+"];"}function WR(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function KR(t){return"var customRule"+t+" = customRules["+t+"];"}function Zi(t,e){if(!t.length)return"";for(var r="",a=0;a<t.length;a++)r+=e(a,t);return r}var Ay={exports:{}},wl=Ay.exports=function(){this._cache={}};wl.prototype.put=function(e,r){this._cache[e]=r};wl.prototype.get=function(e){return this._cache[e]};wl.prototype.del=function(e){delete this._cache[e]};wl.prototype.clear=function(){this._cache={}};var GR=Ay.exports,JR=Wa,YR=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,XR=[0,31,28,31,30,31,30,31,31,30,31,30,31],e$=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Dy=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,t$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,r$=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,jy=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Ly=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Fy=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,My=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Zy=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Uy=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,n$=Sl;function Sl(t){return t=t=="full"?"full":"fast",JR.copy(Sl[t])}Sl.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":jy,url:Ly,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Dy,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qy,uuid:Fy,"json-pointer":My,"json-pointer-uri-fragment":Zy,"relative-json-pointer":Uy};Sl.full={date:Vy,time:Hy,"date-time":i$,uri:l$,"uri-reference":r$,"uri-template":jy,url:Ly,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Dy,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qy,uuid:Fy,"json-pointer":My,"json-pointer-uri-fragment":Zy,"relative-json-pointer":Uy};function a$(t){return t%4===0&&(t%100!==0||t%400===0)}function Vy(t){var e=t.match(YR);if(!e)return!1;var r=+e[1],a=+e[2],n=+e[3];return a>=1&&a<=12&&n>=1&&n<=(a==2&&a$(r)?29:XR[a])}function Hy(t,e){var r=t.match(e$);if(!r)return!1;var a=r[1],n=r[2],s=r[3],i=r[5];return(a<=23&&n<=59&&s<=59||a==23&&n==59&&s==60)&&(!e||i)}var s$=/t|\s/i;function i$(t){var e=t.split(s$);return e.length==2&&Vy(e[0])&&Hy(e[1],!0)}var o$=/\/|:/;function l$(t){return o$.test(t)&&t$.test(t)}var u$=/[^\\]\\Z/;function qy(t){if(u$.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var c$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,c="data"+(i||""),d="valid"+s,p,h;if(o=="#"||o=="#/")e.isRoot?(p=e.async,h="validate"):(p=e.root.schema.$async===!0,h="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var y=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(y);var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(n+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var f=n;n=_.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(y),u&&(n+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,y)}else if(m.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=m.schema,v.schemaPath="",v.errSchemaPath=o;var S=e.validate(v).replace(/validate\.schema/g,m.code);n+=" "+S+" ",u&&(n+=" if ("+g+") { ")}else p=m.$async===!0||e.async&&m.$async!==!1,h=m.code}if(h){var _=_||[];_.push(n),n="",e.opts.passContext?n+=" "+h+".call(this, ":n+=" "+h+"( ",n+=" "+c+", (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var P=i?"data"+(i-1||""):"parentData",x=i?e.dataPathArr[i]:"parentDataProperty";n+=" , "+P+" , "+x+", rootData)  ";var R=n;if(n=_.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(n+=" var "+d+"; "),n+=" try { await "+R+"; ",u&&(n+=" "+d+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(n+=" "+d+" = false; "),n+=" } ",u&&(n+=" if ("+d+") { ")}else n+=" if (!"+R+") { if (vErrors === null) vErrors = "+h+".errors; else vErrors = vErrors.concat("+h+".errors); errors = vErrors.length; } ",u&&(n+=" else { ")}return n},d$=function(e,r,a){var n=" ",s=e.schema[r],i=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var d="valid"+u.level,p=u.baseId,h=!0,m=s;if(m)for(var y,_=-1,f=m.length-1;_<f;)y=m[_+=1],(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))&&(h=!1,u.schema=y,u.schemaPath=i+"["+_+"]",u.errSchemaPath=o+"/"+_,n+="  "+e.validate(u)+" ",u.baseId=p,l&&(n+=" if ("+d+") { ",c+="}"));return l&&(h?n+=" if (true) { ":n+=" "+c.slice(0,-1)+" "),n},f$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h="errs__"+s,m=e.util.copy(e),y="";m.level++;var _="valid"+m.level,f=o.every(function($){return e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all)});if(f){var v=m.baseId;n+=" var "+h+" = errors; var "+p+" = false;  ";var g=e.compositeRule;e.compositeRule=m.compositeRule=!0;var S=o;if(S)for(var P,x=-1,R=S.length-1;x<R;)P=S[x+=1],m.schema=P,m.schemaPath=l+"["+x+"]",m.errSchemaPath=u+"/"+x,n+="  "+e.validate(m)+" ",m.baseId=v,n+=" "+p+" = "+p+" || "+_+"; if (!"+p+") { ",y+="}";e.compositeRule=m.compositeRule=g,n+=" "+y+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else c&&(n+=" if (true) { ");return n},h$=function(e,r,a){var n=" ",s=e.schema[r],i=e.errSchemaPath+"/"+r;e.opts.allErrors;var o=e.util.toQuotedString(s);return e.opts.$comment===!0?n+=" console.log("+o+");":typeof e.opts.$comment=="function"&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(i)+", validate.root.schema);"),n},p$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; "),h||(n+=" var schema"+s+" = validate.schema"+l+";"),n+="var "+p+" = equal("+d+", schema"+s+"); if (!"+p+") {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;return n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},m$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h="errs__"+s,m=e.util.copy(e),y="";m.level++;var _="valid"+m.level,f="i"+s,v=m.dataLevel=e.dataLevel+1,g="data"+v,S=e.baseId,P=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+h+" = errors;var "+p+";",P){var x=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=l,m.errSchemaPath=u,n+=" var "+_+" = false; for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var R=d+"["+f+"]";m.dataPathArr[v]=f;var $=e.validate(m);m.baseId=S,e.util.varOccurences($,g)<2?n+=" "+e.util.varReplace($,g,R)+" ":n+=" var "+g+" = "+R+"; "+$+" ",n+=" if ("+_+") break; }  ",e.compositeRule=m.compositeRule=x,n+=" "+y+" if (!"+_+") {"}else n+=" if ("+d+".length == 0) {";var z=z||[];z.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var L=n;return n=z.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",P&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},v$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="errs__"+s,h=e.util.copy(e),m="";h.level++;var y="valid"+h.level,_={},f={},v=e.opts.ownProperties;for(x in o)if(x!="__proto__"){var g=o[x],S=Array.isArray(g)?f:_;S[x]=g}n+="var "+p+" = errors;";var P=e.errorPath;n+="var missing"+s+";";for(var x in f)if(S=f[x],S.length){if(n+=" if ( "+d+e.util.getProperty(x)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "),c){n+=" && ( ";var R=S;if(R)for(var $,z=-1,L=R.length-1;z<L;){$=R[z+=1],z&&(n+=" || ");var A=e.util.getProperty($),D=d+A;n+=" ( ( "+D+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes($)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?$:A)+") ) "}n+=")) {  ";var N="missing"+s,T="' + "+N+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,N,!0):P+" + "+N);var q=q||[];q.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+T+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",S.length==1?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var ne=n;n=q.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+ne+"]); ":n+=" validate.errors = ["+ne+"]; return false; ":n+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var H=S;if(H)for(var $,j=-1,U=H.length-1;j<U;){$=H[j+=1];var A=e.util.getProperty($),T=e.util.escapeQuotes($),D=d+A;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,$,e.opts.jsonPointers)),n+=" if ( "+D+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes($)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+T+"', depsCount: "+S.length+", deps: '"+e.util.escapeQuotes(S.length==1?S[0]:S.join(", "))+"' } ",e.opts.messages!==!1&&(n+=" , message: 'should have ",S.length==1?n+="property "+e.util.escapeQuotes(S[0]):n+="properties "+e.util.escapeQuotes(S.join(", ")),n+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(m+="}",n+=" else { ")}e.errorPath=P;var M=h.baseId;for(var x in _){var g=_[x];(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(n+=" "+y+" = true; if ( "+d+e.util.getProperty(x)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(x)+"') "),n+=") { ",h.schema=g,h.schemaPath=l+e.util.getProperty(x),h.errSchemaPath=u+"/"+e.util.escapeFragment(x),n+="  "+e.validate(h)+" ",h.baseId=M,n+=" }  ",c&&(n+=" if ("+y+") { ",m+="}"))}return c&&(n+="   "+m+" if ("+p+" == errors) {"),n},g$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var m="i"+s,y="schema"+s;h||(n+=" var "+y+" = validate.schema"+l+";"),n+="var "+p+";",h&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=""+p+" = false;for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) if (equal("+d+", "+y+"["+m+"])) { "+p+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+p+") {   ";var _=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var f=n;return n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},y$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||"");if(e.opts.format===!1)return c&&(n+=" if (true) { "),n;var p=e.opts.$data&&o&&o.$data,h;p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o;var m=e.opts.unknownFormats,y=Array.isArray(m);if(p){var _="format"+s,f="isObject"+s,v="formatType"+s;n+=" var "+_+" = formats["+h+"]; var "+f+" = typeof "+_+" == 'object' && !("+_+" instanceof RegExp) && "+_+".validate; var "+v+" = "+f+" && "+_+".type || 'string'; if ("+f+") { ",e.async&&(n+=" var async"+s+" = "+_+".async; "),n+=" "+_+" = "+_+".validate; } if (  ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" (",m!="ignore"&&(n+=" ("+h+" && !"+_+" ",y&&(n+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),n+=") || "),n+=" ("+_+" && "+v+" == '"+a+"' && !(typeof "+_+" == 'function' ? ",e.async?n+=" (async"+s+" ? await "+_+"("+d+") : "+_+"("+d+")) ":n+=" "+_+"("+d+") ",n+=" : "+_+".test("+d+"))))) {"}else{var _=e.formats[o];if(!_){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(y&&m.indexOf(o)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var f=typeof _=="object"&&!(_ instanceof RegExp)&&_.validate,v=f&&_.type||"string";if(f){var g=_.async===!0;_=_.validate}if(v!=a)return c&&(n+=" if (true) { "),n;if(g){if(!e.async)throw new Error("async format in sync schema");var S="formats"+e.util.getProperty(o)+".validate";n+=" if (!(await "+S+"("+d+"))) { "}else{n+=" if (! ";var S="formats"+e.util.getProperty(o);f&&(S+=".validate"),typeof _=="function"?n+=" "+S+"("+d+") ":n+=" "+S+".test("+d+") ",n+=") { "}}var P=P||[];P.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",p?n+=""+h:n+=""+e.util.toQuotedString(o),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match format "`,p?n+="' + "+h+" + '":n+=""+e.util.escapeQuotes(o),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var x=n;return n=P.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},_$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h="errs__"+s,m=e.util.copy(e);m.level++;var y="valid"+m.level,_=e.schema.then,f=e.schema.else,v=_!==void 0&&(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all)),g=f!==void 0&&(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all)),S=m.baseId;if(v||g){var P;m.createErrors=!1,m.schema=o,m.schemaPath=l,m.errSchemaPath=u,n+=" var "+h+" = errors; var "+p+" = true;  ";var x=e.compositeRule;e.compositeRule=m.compositeRule=!0,n+="  "+e.validate(m)+" ",m.baseId=S,m.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=x,v?(n+=" if ("+y+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(m)+" ",m.baseId=S,n+=" "+p+" = "+y+"; ",v&&g?(P="ifClause"+s,n+=" var "+P+" = 'then'; "):P="'then'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+y+") { ",g&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(m)+" ",m.baseId=S,n+=" "+p+" = "+y+"; ",v&&g?(P="ifClause"+s,n+=" var "+P+" = 'else'; "):P="'else'",n+=" } "),n+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+P+" } ",e.opts.messages!==!1&&(n+=` , message: 'should match "' + `+P+` + '" schema' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},w$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h="errs__"+s,m=e.util.copy(e),y="";m.level++;var _="valid"+m.level,f="i"+s,v=m.dataLevel=e.dataLevel+1,g="data"+v,S=e.baseId;if(n+="var "+h+" = errors;var "+p+";",Array.isArray(o)){var P=e.schema.additionalItems;if(P===!1){n+=" "+p+" = "+d+".length <= "+o.length+"; ";var x=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+p+") {   ";var R=R||[];R.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var $=n;n=R.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=x,c&&(y+="}",n+=" else { ")}var z=o;if(z){for(var L,A=-1,D=z.length-1;A<D;)if(L=z[A+=1],e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all)){n+=" "+_+" = true; if ("+d+".length > "+A+") { ";var N=d+"["+A+"]";m.schema=L,m.schemaPath=l+"["+A+"]",m.errSchemaPath=u+"/"+A,m.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),m.dataPathArr[v]=A;var T=e.validate(m);m.baseId=S,e.util.varOccurences(T,g)<2?n+=" "+e.util.varReplace(T,g,N)+" ":n+=" var "+g+" = "+N+"; "+T+" ",n+=" }  ",c&&(n+=" if ("+_+") { ",y+="}")}}if(typeof P=="object"&&(e.opts.strictKeywords?typeof P=="object"&&Object.keys(P).length>0||P===!1:e.util.schemaHasRules(P,e.RULES.all))){m.schema=P,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+_+" = true; if ("+d+".length > "+o.length+") {  for (var "+f+" = "+o.length+"; "+f+" < "+d+".length; "+f+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var N=d+"["+f+"]";m.dataPathArr[v]=f;var T=e.validate(m);m.baseId=S,e.util.varOccurences(T,g)<2?n+=" "+e.util.varReplace(T,g,N)+" ":n+=" var "+g+" = "+N+"; "+T+" ",c&&(n+=" if (!"+_+") break; "),n+=" } }  ",c&&(n+=" if ("+_+") { ",y+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=l,m.errSchemaPath=u,n+="  for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var N=d+"["+f+"]";m.dataPathArr[v]=f;var T=e.validate(m);m.baseId=S,e.util.varOccurences(T,g)<2?n+=" "+e.util.varReplace(T,g,N)+" ":n+=" var "+g+" = "+N+"; "+T+" ",c&&(n+=" if (!"+_+") break; "),n+=" }"}return c&&(n+=" "+y+" if ("+h+" == errors) {"),n},Dp=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,S,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o;var m=r=="maximum",y=m?"exclusiveMaximum":"exclusiveMinimum",_=e.schema[y],f=e.opts.$data&&_&&_.$data,v=m?"<":">",g=m?">":"<",S=void 0;if(!(p||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(f||_===void 0||typeof _=="number"||typeof _=="boolean"))throw new Error(y+" must be number or boolean");if(f){var P=e.util.getData(_.$data,i,e.dataPathArr),x="exclusive"+s,R="exclType"+s,$="exclIsNumber"+s,z="op"+s,L="' + "+z+" + '";n+=" var schemaExcl"+s+" = "+P+"; ",P="schemaExcl"+s,n+=" var "+x+"; var "+R+" = typeof "+P+"; if ("+R+" != 'boolean' && "+R+" != 'undefined' && "+R+" != 'number') { ";var S=y,A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(S||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: '"+y+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var D=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),n+=" "+R+" == 'number' ? ( ("+x+" = "+h+" === undefined || "+P+" "+v+"= "+h+") ? "+d+" "+g+"= "+P+" : "+d+" "+g+" "+h+" ) : ( ("+x+" = "+P+" === true) ? "+d+" "+g+"= "+h+" : "+d+" "+g+" "+h+" ) || "+d+" !== "+d+") { var op"+s+" = "+x+" ? '"+v+"' : '"+v+"='; ",o===void 0&&(S=y,u=e.errSchemaPath+"/"+y,h=P,p=f)}else{var $=typeof _=="number",L=v;if($&&p){var z="'"+L+"'";n+=" if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),n+=" ( "+h+" === undefined || "+_+" "+v+"= "+h+" ? "+d+" "+g+"= "+_+" : "+d+" "+g+" "+h+" ) || "+d+" !== "+d+") { "}else{$&&o===void 0?(x=!0,S=y,u=e.errSchemaPath+"/"+y,h=_,g+="="):($&&(h=Math[m?"min":"max"](_,o)),_===($?h:!0)?(x=!0,S=y,u=e.errSchemaPath+"/"+y,g+="="):(x=!1,L+="="));var z="'"+L+"'";n+=" if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),n+=" "+d+" "+g+" "+h+" || "+d+" !== "+d+") { "}}S=S||r;var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(S||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+z+", limit: "+h+", exclusive: "+x+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be "+L+" ",p?n+="' + "+h:n+=""+h+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var D=n;return n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},jp=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,y,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;if(p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o,!(p||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxItems"?">":"<";n+="if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),n+=" "+d+".length "+m+" "+h+") { ";var y=r,_=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(y||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+h+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxItems"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+h+" + '":n+=""+o,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var f=n;return n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},Lp=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,y,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;if(p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o,!(p||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxLength"?">":"<";n+="if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),e.opts.unicode===!1?n+=" "+d+".length ":n+=" ucs2length("+d+") ",n+=" "+m+" "+h+") { ";var y=r,_=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(y||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+h+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be ",r=="maxLength"?n+="longer":n+="shorter",n+=" than ",p?n+="' + "+h+" + '":n+=""+o,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var f=n;return n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},Fp=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,y,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;if(p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o,!(p||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxProperties"?">":"<";n+="if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'number') || "),n+=" Object.keys("+d+").length "+m+" "+h+") { ";var y=r,_=_||[];_.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(y||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+h+" } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have ",r=="maxProperties"?n+="more":n+="fewer",n+=" than ",p?n+="' + "+h+" + '":n+=""+o,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var f=n;return n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},S$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;if(p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o,!(p||typeof o=="number"))throw new Error(r+" must be number");n+="var division"+s+";if (",p&&(n+=" "+h+" !== undefined && ( typeof "+h+" != 'number' || "),n+=" (division"+s+" = "+d+" / "+h+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+s+" !== parseInt(division"+s+") ",n+=" ) ",p&&(n+="  )  "),n+=" ) {   ";var m=m||[];m.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+h+" } ",e.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",p?n+="' + "+h:n+=""+h+"'"),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;return n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},E$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="errs__"+s,h=e.util.copy(e);h.level++;var m="valid"+h.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=l,h.errSchemaPath=u,n+=" var "+p+" = errors;  ";var y=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1;var _;h.opts.allErrors&&(_=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,_&&(h.opts.allErrors=_),e.compositeRule=h.compositeRule=y,n+=" if ("+m+") {   ";var f=f||[];f.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var v=n;n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n},k$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h="errs__"+s,m=e.util.copy(e),y="";m.level++;var _="valid"+m.level,f=m.baseId,v="prevValid"+s,g="passingSchemas"+s;n+="var "+h+" = errors , "+v+" = false , "+p+" = false , "+g+" = null; ";var S=e.compositeRule;e.compositeRule=m.compositeRule=!0;var P=o;if(P)for(var x,R=-1,$=P.length-1;R<$;)x=P[R+=1],(e.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:e.util.schemaHasRules(x,e.RULES.all))?(m.schema=x,m.schemaPath=l+"["+R+"]",m.errSchemaPath=u+"/"+R,n+="  "+e.validate(m)+" ",m.baseId=f):n+=" var "+_+" = true; ",R&&(n+=" if ("+_+" && "+v+") { "+p+" = false; "+g+" = ["+g+", "+R+"]; } else { ",y+="}"),n+=" if ("+_+") { "+p+" = "+v+" = true; "+g+" = "+R+"; }";return e.compositeRule=m.compositeRule=S,n+=""+y+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",e.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},P$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p=e.opts.$data&&o&&o.$data,h;p?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",h="schema"+s):h=o;var m=p?"(new RegExp("+h+"))":e.usePattern(o);n+="if ( ",p&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" !"+m+".test("+d+") ) {   ";var y=y||[];y.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",p?n+=""+h:n+=""+e.util.toQuotedString(o),n+="  } ",e.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,p?n+="' + "+h+" + '":n+=""+e.util.escapeQuotes(o),n+=`"' `),e.opts.verbose&&(n+=" , schema:  ",p?n+="validate.schema"+l:n+=""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var _=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},x$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="errs__"+s,h=e.util.copy(e),m="";h.level++;var y="valid"+h.level,_="key"+s,f="idx"+s,v=h.dataLevel=e.dataLevel+1,g="data"+v,S="dataProperties"+s,P=Object.keys(o||{}).filter(j),x=e.schema.patternProperties||{},R=Object.keys(x).filter(j),$=e.schema.additionalProperties,z=P.length||R.length,L=$===!1,A=typeof $=="object"&&Object.keys($).length,D=e.opts.removeAdditional,N=L||A||D,T=e.opts.ownProperties,q=e.baseId,ne=e.schema.required;if(ne&&!(e.opts.$data&&ne.$data)&&ne.length<e.opts.loopRequired)var H=e.util.toHash(ne);function j(Pl){return Pl!=="__proto__"}if(n+="var "+p+" = errors;var "+y+" = true;",T&&(n+=" var "+S+" = undefined;"),N){if(T?n+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+S+".length; "+f+"++) { var "+_+" = "+S+"["+f+"]; ":n+=" for (var "+_+" in "+d+") { ",z){if(n+=" var isAdditional"+s+" = !(false ",P.length)if(P.length>8)n+=" || validate.schema"+l+".hasOwnProperty("+_+") ";else{var U=P;if(U)for(var M,ae=-1,oe=U.length-1;ae<oe;)M=U[ae+=1],n+=" || "+_+" == "+e.util.toQuotedString(M)+" "}if(R.length){var Ne=R;if(Ne)for(var fe,Vt=-1,Qe=Ne.length-1;Vt<Qe;)fe=Ne[Vt+=1],n+=" || "+e.usePattern(fe)+".test("+_+") "}n+=" ); if (isAdditional"+s+") { "}if(D=="all")n+=" delete "+d+"["+_+"]; ";else{var Pe=e.errorPath,Tt="' + "+_+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers)),L)if(D)n+=" delete "+d+"["+_+"]; ";else{n+=" "+y+" = false; ";var tr=u;u=e.errSchemaPath+"/additionalProperties";var et=et||[];et.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+Tt+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Le=n;n=et.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Le+"]); ":n+=" validate.errors = ["+Le+"]; return false; ":n+=" var err = "+Le+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=tr,c&&(n+=" break; ")}else if(A)if(D=="failing"){n+=" var "+p+" = errors;  ";var zr=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=$,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers);var dt=d+"["+_+"]";h.dataPathArr[v]=_;var Fe=e.validate(h);h.baseId=q,e.util.varOccurences(Fe,g)<2?n+=" "+e.util.varReplace(Fe,g,dt)+" ":n+=" var "+g+" = "+dt+"; "+Fe+" ",n+=" if (!"+y+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+_+"]; }  ",e.compositeRule=h.compositeRule=zr}else{h.schema=$,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers);var dt=d+"["+_+"]";h.dataPathArr[v]=_;var Fe=e.validate(h);h.baseId=q,e.util.varOccurences(Fe,g)<2?n+=" "+e.util.varReplace(Fe,g,dt)+" ":n+=" var "+g+" = "+dt+"; "+Fe+" ",c&&(n+=" if (!"+y+") break; ")}e.errorPath=Pe}z&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+y+") { ",m+="}")}var Gr=e.opts.useDefaults&&!e.compositeRule;if(P.length){var wt=P;if(wt)for(var M,sa=-1,Nn=wt.length-1;sa<Nn;){M=wt[sa+=1];var lt=o[M];if(e.opts.strictKeywords?typeof lt=="object"&&Object.keys(lt).length>0||lt===!1:e.util.schemaHasRules(lt,e.RULES.all)){var Jr=e.util.getProperty(M),dt=d+Jr,Ka=Gr&&lt.default!==void 0;h.schema=lt,h.schemaPath=l+Jr,h.errSchemaPath=u+"/"+e.util.escapeFragment(M),h.errorPath=e.util.getPath(e.errorPath,M,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(M);var Fe=e.validate(h);if(h.baseId=q,e.util.varOccurences(Fe,g)<2){Fe=e.util.varReplace(Fe,g,dt);var nt=dt}else{var nt=g;n+=" var "+g+" = "+dt+"; "}if(Ka)n+=" "+Fe+" ";else{if(H&&H[M]){n+=" if ( "+nt+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(M)+"') "),n+=") { "+y+" = false; ";var Pe=e.errorPath,tr=u,at=e.util.escapeQuotes(M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Pe,M,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var et=et||[];et.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+at+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+at+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var Le=n;n=et.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Le+"]); ":n+=" validate.errors = ["+Le+"]; return false; ":n+=" var err = "+Le+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=tr,e.errorPath=Pe,n+=" } else { "}else c?(n+=" if ( "+nt+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(M)+"') "),n+=") { "+y+" = true; } else { "):(n+=" if ("+nt+" !== undefined ",T&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(M)+"') "),n+=" ) { ");n+=" "+Fe+" } "}}c&&(n+=" if ("+y+") { ",m+="}")}}if(R.length){var Nt=R;if(Nt)for(var fe,hi=-1,kl=Nt.length-1;hi<kl;){fe=Nt[hi+=1];var lt=x[fe];if(e.opts.strictKeywords?typeof lt=="object"&&Object.keys(lt).length>0||lt===!1:e.util.schemaHasRules(lt,e.RULES.all)){h.schema=lt,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(fe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(fe),T?n+=" "+S+" = "+S+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+S+".length; "+f+"++) { var "+_+" = "+S+"["+f+"]; ":n+=" for (var "+_+" in "+d+") { ",n+=" if ("+e.usePattern(fe)+".test("+_+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers);var dt=d+"["+_+"]";h.dataPathArr[v]=_;var Fe=e.validate(h);h.baseId=q,e.util.varOccurences(Fe,g)<2?n+=" "+e.util.varReplace(Fe,g,dt)+" ":n+=" var "+g+" = "+dt+"; "+Fe+" ",c&&(n+=" if (!"+y+") break; "),n+=" } ",c&&(n+=" else "+y+" = true; "),n+=" }  ",c&&(n+=" if ("+y+") { ",m+="}")}}}return c&&(n+=" "+m+" if ("+p+" == errors) {"),n},T$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="errs__"+s,h=e.util.copy(e),m="";h.level++;var y="valid"+h.level;if(n+="var "+p+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=l,h.errSchemaPath=u;var _="key"+s,f="idx"+s,v="i"+s,g="' + "+_+" + '",S=h.dataLevel=e.dataLevel+1,P="data"+S,x="dataProperties"+s,R=e.opts.ownProperties,$=e.baseId;R&&(n+=" var "+x+" = undefined; "),R?n+=" "+x+" = "+x+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+x+".length; "+f+"++) { var "+_+" = "+x+"["+f+"]; ":n+=" for (var "+_+" in "+d+") { ",n+=" var startErrs"+s+" = errors; ";var z=_,L=e.compositeRule;e.compositeRule=h.compositeRule=!0;var A=e.validate(h);h.baseId=$,e.util.varOccurences(A,P)<2?n+=" "+e.util.varReplace(A,P,z)+" ":n+=" var "+P+" = "+z+"; "+A+" ",e.compositeRule=h.compositeRule=L,n+=" if (!"+y+") { for (var "+v+"=startErrs"+s+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+_+"; }   var err =   ",e.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",e.opts.messages!==!1&&(n+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+=" "+m+" if ("+p+" == errors) {"),n},R$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var m="schema"+s;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var y=[],_=o;if(_)for(var f,v=-1,g=_.length-1;v<g;){f=_[v+=1];var S=e.schema.properties[f];S&&(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))||(y[y.length]=f)}}else var y=o;if(h||y.length){var P=e.errorPath,x=h||y.length>=e.opts.loopRequired,R=e.opts.ownProperties;if(c)if(n+=" var missing"+s+"; ",x){h||(n+=" var "+m+" = validate.schema"+l+"; ");var $="i"+s,z="schema"+s+"["+$+"]",L="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,z,e.opts.jsonPointers)),n+=" var "+p+" = true; ",h&&(n+=" if (schema"+s+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+s+")) "+p+" = false; else {"),n+=" for (var "+$+" = 0; "+$+" < "+m+".length; "+$+"++) { "+p+" = "+d+"["+m+"["+$+"]] !== undefined ",R&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+m+"["+$+"]) "),n+="; if (!"+p+") break; } ",h&&(n+="  }  "),n+="  if (!"+p+") {   ";var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var D=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var N=y;if(N)for(var T,$=-1,q=N.length-1;$<q;){T=N[$+=1],$&&(n+=" || ");var ne=e.util.getProperty(T),H=d+ne;n+=" ( ( "+H+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:ne)+") ) "}n+=") {  ";var z="missing"+s,L="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,z,!0):P+" + "+z);var A=A||[];A.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var D=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(x){h||(n+=" var "+m+" = validate.schema"+l+"; ");var $="i"+s,z="schema"+s+"["+$+"]",L="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,z,e.opts.jsonPointers)),h&&(n+=" if ("+m+" && !Array.isArray("+m+")) {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+m+" !== undefined) { "),n+=" for (var "+$+" = 0; "+$+" < "+m+".length; "+$+"++) { if ("+d+"["+m+"["+$+"]] === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+m+"["+$+"]) "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var j=y;if(j)for(var T,U=-1,M=j.length-1;U<M;){T=j[U+=1];var ne=e.util.getProperty(T),L=e.util.escapeQuotes(T),H=d+ne;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,T,e.opts.jsonPointers)),n+=" if ( "+H+" === undefined ",R&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",e.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+L+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=P}else c&&(n+=" if (true) {");return n},$$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d="data"+(i||""),p="valid"+s,h=e.opts.$data&&o&&o.$data,m;if(h?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",m="schema"+s):m=o,(o||h)&&e.opts.uniqueItems!==!1){h&&(n+=" var "+p+"; if ("+m+" === false || "+m+" === undefined) "+p+" = true; else if (typeof "+m+" != 'boolean') "+p+" = false; else { "),n+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var y=e.schema.items&&e.schema.items.type,_=Array.isArray(y);if(!y||y=="object"||y=="array"||_&&(y.indexOf("object")>=0||y.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var f="checkDataType"+(_?"s":"");n+=" if ("+e.util[f](y,"item",e.opts.strictNumbers,!0)+") continue; ",_&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",h&&(n+="  }  "),n+=" if (!"+p+") {   ";var v=v||[];v.push(n),n="",e.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",h?n+="validate.schema"+l:n+=""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},I$={$ref:c$,allOf:d$,anyOf:f$,$comment:h$,const:p$,contains:m$,dependencies:v$,enum:g$,format:y$,if:_$,items:w$,maximum:Dp,minimum:Dp,maxItems:jp,minItems:jp,maxLength:Lp,minLength:Lp,maxProperties:Fp,minProperties:Fp,multipleOf:S$,not:E$,oneOf:k$,pattern:P$,properties:x$,propertyNames:T$,required:R$,uniqueItems:$$,validate:Cy},Mp=I$,iu=Wa.toHash,b$=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],n=["number","integer","string","array","object","boolean","null"];return e.all=iu(r),e.types=iu(n),e.forEach(function(s){s.rules=s.rules.map(function(i){var o;if(typeof i=="object"){var l=Object.keys(i)[0];o=i[l],i=l,o.forEach(function(c){r.push(c),e.all[c]=!0})}r.push(i);var u=e.all[i]={keyword:i,code:Mp[i],implements:o};return u}),e.all.$comment={keyword:"$comment",code:Mp.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=iu(r.concat(a)),e.custom={},e},Zp=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],O$=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var a=e[r].split("/"),n=t,s;for(s=1;s<a.length;s++)n=n[a[s]];for(s=0;s<Zp.length;s++){var i=Zp[s],o=n[i];o&&(n[i]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},C$=pf.MissingRef,N$=By;function By(t,e,r){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var n=s(t).then(function(){var o=a._addSchema(t,void 0,e);return o.validate||i(o)});return r&&n.then(function(o){r(null,o)},r),n;function s(o){var l=o.$schema;return l&&!a.getSchema(l)?By.call(a,{$ref:l},!0):Promise.resolve()}function i(o){try{return a._compile(o)}catch(u){if(u instanceof C$)return l(u);throw u}function l(u){var c=u.missingSchema;if(h(c))throw new Error("Schema "+c+" is loaded but "+u.missingRef+" cannot be resolved");var d=a._loadingSchemas[c];return d||(d=a._loadingSchemas[c]=a._opts.loadSchema(c),d.then(p,p)),d.then(function(m){if(!h(c))return s(m).then(function(){h(c)||a.addSchema(m,c,void 0,e)})}).then(function(){return i(o)});function p(){delete a._loadingSchemas[c]}function h(m){return a._refs[m]||a._schemas[m]}}}}var z$=function(e,r,a){var n=" ",s=e.level,i=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,d,p="data"+(i||""),h="valid"+s,m="errs__"+s,y=e.opts.$data&&o&&o.$data,_;y?(n+=" var schema"+s+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",_="schema"+s):_=o;var f=this,v="definition"+s,g=f.definition,S="",P,x,R,$,z;if(y&&g.$data){z="keywordValidate"+s;var L=g.validateSchema;n+=" var "+v+" = RULES.custom['"+r+"'].definition; var "+z+" = "+v+".validate;"}else{if($=e.useCustomRule(f,o,e.schema,e),!$)return;_="validate.schema"+l,z=$.code,P=g.compile,x=g.inline,R=g.macro}var A=z+".errors",D="i"+s,N="ruleErr"+s,T=g.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(x||R||(n+=""+A+" = null;"),n+="var "+m+" = errors;var "+h+";",y&&g.$data&&(S+="}",n+=" if ("+_+" === undefined) { "+h+" = true; } else { ",L&&(S+="}",n+=" "+h+" = "+v+".validateSchema("+_+"); if ("+h+") { ")),x)g.statements?n+=" "+$.validate+" ":n+=" "+h+" = "+$.validate+"; ";else if(R){var q=e.util.copy(e),S="";q.level++;var ne="valid"+q.level;q.schema=$.validate,q.schemaPath="";var H=e.compositeRule;e.compositeRule=q.compositeRule=!0;var j=e.validate(q).replace(/validate\.schema/g,z);e.compositeRule=q.compositeRule=H,n+=" "+j}else{var U=U||[];U.push(n),n="",n+="  "+z+".call( ",e.opts.passContext?n+="this":n+="self",P||g.schema===!1?n+=" , "+p+" ":n+=" , "+_+" , "+p+" , validate.schema"+e.schemaPath+" ",n+=" , (dataPath || '')",e.errorPath!='""'&&(n+=" + "+e.errorPath);var M=i?"data"+(i-1||""):"parentData",ae=i?e.dataPathArr[i]:"parentDataProperty";n+=" , "+M+" , "+ae+" , rootData )  ";var oe=n;n=U.pop(),g.errors===!1?(n+=" "+h+" = ",T&&(n+="await "),n+=""+oe+"; "):T?(A="customErrors"+s,n+=" var "+A+" = null; try { "+h+" = await "+oe+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } "):n+=" "+A+" = null; "+h+" = "+oe+"; "}if(g.modifying&&(n+=" if ("+M+") "+p+" = "+M+"["+ae+"];"),n+=""+S,g.valid)c&&(n+=" if (true) { ");else{n+=" if ( ",g.valid===void 0?(n+=" !",R?n+=""+ne:n+=""+h):n+=" "+!g.valid+" ",n+=") { ",d=f.keyword;var U=U||[];U.push(n),n="";var U=U||[];U.push(n),n="",e.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+f.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+f.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var Ne=n;n=U.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+Ne+"]); ":n+=" validate.errors = ["+Ne+"]; return false; ":n+=" var err = "+Ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var fe=n;n=U.pop(),x?g.errors?g.errors!="full"&&(n+="  for (var "+D+"="+m+"; "+D+"<errors; "+D+"++) { var "+N+" = vErrors["+D+"]; if ("+N+".dataPath === undefined) "+N+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+N+".schemaPath === undefined) { "+N+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+N+".schema = "+_+"; "+N+".data = "+p+"; "),n+=" } "):g.errors===!1?n+=" "+fe+" ":(n+=" if ("+m+" == errors) { "+fe+" } else {  for (var "+D+"="+m+"; "+D+"<errors; "+D+"++) { var "+N+" = vErrors["+D+"]; if ("+N+".dataPath === undefined) "+N+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+N+".schemaPath === undefined) { "+N+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(n+=" "+N+".schema = "+_+"; "+N+".data = "+p+"; "),n+=" } } "):R?(n+="   var err =   ",e.createErrors!==!1?(n+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+f.keyword+"' } ",e.opts.messages!==!1&&(n+=` , message: 'should pass "`+f.keyword+`" keyword validation' `),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):g.errors===!1?n+=" "+fe+" ":(n+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+D+"="+m+"; "+D+"<errors; "+D+"++) { var "+N+" = vErrors["+D+"]; if ("+N+".dataPath === undefined) "+N+".dataPath = (dataPath || '') + "+e.errorPath+";  "+N+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(n+=" "+N+".schema = "+_+"; "+N+".data = "+p+"; "),n+=" } } else { "+fe+" } "),n+=" } ",c&&(n+=" else { ")}return n};const A$="http://json-schema.org/draft-07/schema#",D$="http://json-schema.org/draft-07/schema#",j$="Core schema meta-schema",L$={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},F$=["object","boolean"],M$={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Qy={$schema:A$,$id:D$,title:j$,definitions:L$,type:F$,properties:M$,default:!0};var Up=Qy,Z$={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Up.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Up.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},U$=/^[a-z_$][a-z0-9_$-]*$/i,V$=z$,H$=Z$,q$={add:B$,get:Q$,remove:W$,validate:bc};function B$(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!U$.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var a=e.type;if(Array.isArray(a))for(var n=0;n<a.length;n++)i(t,a[n],e);else i(t,a,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}r.keywords[t]=r.all[t]=!0;function i(o,l,u){for(var c,d=0;d<r.length;d++){var p=r[d];if(p.type==l){c=p;break}}c||(c={type:l,rules:[]},r.push(c));var h={keyword:o,definition:u,custom:!0,code:V$,implements:u.implements};c.rules.push(h),r.custom[o]=h}return this}function Q$(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function W$(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var a=e[r].rules,n=0;n<a.length;n++)if(a[n].keyword==t){a.splice(n,1);break}return this}function bc(t,e){bc.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(H$,!0);if(r(t))return!0;if(bc.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}const K$="http://json-schema.org/draft-07/schema#",G$="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",J$="Meta-schema for $data reference (JSON Schema extension proposal)",Y$="object",X$=["$data"],eI={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},tI=!1,rI={$schema:K$,$id:G$,description:J$,type:Y$,required:X$,properties:eI,additionalProperties:tI};var Wy=VR,Gn=hf,nI=GR,Ky=Ry,aI=Oy,sI=n$,iI=b$,Gy=O$,Jy=Wa,Yy=Ge;Ge.prototype.validate=lI;Ge.prototype.compile=uI;Ge.prototype.addSchema=cI;Ge.prototype.addMetaSchema=dI;Ge.prototype.validateSchema=fI;Ge.prototype.getSchema=pI;Ge.prototype.removeSchema=vI;Ge.prototype.addFormat=PI;Ge.prototype.errorsText=kI;Ge.prototype._addSchema=gI;Ge.prototype._compile=yI;Ge.prototype.compileAsync=N$;var El=q$;Ge.prototype.addKeyword=El.add;Ge.prototype.getKeyword=El.get;Ge.prototype.removeKeyword=El.remove;Ge.prototype.validateKeyword=El.validate;var Xy=pf;Ge.ValidationError=Xy.Validation;Ge.MissingRefError=Xy.MissingRef;Ge.$dataMetaSchema=Gy;var Wo="http://json-schema.org/draft-07/schema",Vp=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],oI=["/properties"];function Ge(t){if(!(this instanceof Ge))return new Ge(t);t=this._opts=Jy.copy(t)||{},bI(this),this._schemas={},this._refs={},this._fragments={},this._formats=sI(t.format),this._cache=t.cache||new nI,this._loadingSchemas={},this._compilations=[],this.RULES=iI(),this._getId=_I(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=aI),this._metaOpts=II(this),t.formats&&RI(this),t.keywords&&$I(this),xI(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),TI(this)}function lI(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var a=this._addSchema(t);r=a.validate||this._compile(a)}var n=r(e);return r.$async!==!0&&(this.errors=r.errors),n}function uI(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function cI(t,e,r,a){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.addSchema(t[n],void 0,r,a);return this}var s=this._getId(t);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=Gn.normalizeId(e||s),t0(this,e),this._schemas[e]=this._addSchema(t,r,a,!0),this}function dI(t,e,r){return this.addSchema(t,e,r,!0),this}function fI(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||hI(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,t);if(!a&&e){var n="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(n);else throw new Error(n)}return a}function hI(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(Wo)?Wo:void 0,t._opts.defaultMeta}function pI(t){var e=e0(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return mI(this,t)}}function mI(t,e){var r=Gn.schema.call(t,{schema:{}},e);if(r){var a=r.schema,n=r.root,s=r.baseId,i=Wy.call(t,a,n,void 0,s);return t._fragments[e]=new Ky({ref:e,fragment:!0,schema:a,root:n,baseId:s,validate:i}),i}}function e0(t,e){return e=Gn.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function vI(t){if(t instanceof RegExp)return Ui(this,this._schemas,t),Ui(this,this._refs,t),this;switch(typeof t){case"undefined":return Ui(this,this._schemas),Ui(this,this._refs),this._cache.clear(),this;case"string":var e=e0(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,a=r?r(t):t;this._cache.del(a);var n=this._getId(t);n&&(n=Gn.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this}function Ui(t,e,r){for(var a in e){var n=e[a];!n.meta&&(!r||r.test(a))&&(t._cache.del(n.cacheKey),delete e[a])}}function gI(t,e,r,a){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(t):t,i=this._cache.get(s);if(i)return i;a=a||this._opts.addUsedSchema!==!1;var o=Gn.normalizeId(this._getId(t));o&&a&&t0(this,o);var l=this._opts.validateSchema!==!1&&!e,u;l&&!(u=o&&o==Gn.normalizeId(t.$schema))&&this.validateSchema(t,!0);var c=Gn.ids.call(this,t),d=new Ky({id:o,schema:t,localRefs:c,cacheKey:s,meta:r});return o[0]!="#"&&a&&(this._refs[o]=d),this._cache.put(s,d),l&&u&&this.validateSchema(t,!0),d}function yI(t,e){if(t.compiling)return t.validate=n,n.schema=t.schema,n.errors=null,n.root=e||n,t.schema.$async===!0&&(n.$async=!0),n;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=Wy.call(this,t.schema,e,t.localRefs)}catch(s){throw delete t.validate,s}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function n(){var s=t.validate,i=s.apply(this,arguments);return n.errors=s.errors,i}}function _I(t){switch(t.schemaId){case"auto":return EI;case"id":return wI;default:return SI}}function wI(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function SI(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function EI(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function kI(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,a=e.dataVar===void 0?"data":e.dataVar,n="",s=0;s<t.length;s++){var i=t[s];i&&(n+=a+i.dataPath+" "+i.message+r)}return n.slice(0,-r.length)}function PI(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function xI(t){var e;if(t._opts.$data&&(e=rI,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Qy;t._opts.$data&&(r=Gy(r,oI)),t.addMetaSchema(r,Wo,!0),t._refs["http://json-schema.org/schema"]=Wo}}function TI(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function RI(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function $I(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function t0(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function II(t){for(var e=Jy.copy(t._opts),r=0;r<Vp.length;r++)delete e[Vp[r]];return e}function bI(t){var e=t._opts.logger;if(e===!1)t.logger={log:ou,warn:ou,error:ou};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function ou(){}const OI=Nc(Yy);var Oc={exports:{}},r0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(A,D){return{validate:A,compare:D}}t.fullFormats={date:e(s,i),time:e(l(!0),u),"date-time":e(p(!0),h),"iso-time":e(l(),c),"iso-date-time":e(p(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:f,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:L,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:x},int64:{type:"number",validate:R},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(A){return A%4===0&&(A%100!==0||A%400===0)}const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(A){const D=a.exec(A);if(!D)return!1;const N=+D[1],T=+D[2],q=+D[3];return T>=1&&T<=12&&q>=1&&q<=(T===2&&r(N)?29:n[T])}function i(A,D){if(A&&D)return A>D?1:A<D?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(A){return function(N){const T=o.exec(N);if(!T)return!1;const q=+T[1],ne=+T[2],H=+T[3],j=T[4],U=T[5]==="-"?-1:1,M=+(T[6]||0),ae=+(T[7]||0);if(M>23||ae>59||A&&!j)return!1;if(q<=23&&ne<=59&&H<60)return!0;const oe=ne-ae*U,Ne=q-M*U-(oe<0?1:0);return(Ne===23||Ne===-1)&&(oe===59||oe===-1)&&H<61}}function u(A,D){if(!(A&&D))return;const N=new Date("2020-01-01T"+A).valueOf(),T=new Date("2020-01-01T"+D).valueOf();if(N&&T)return N-T}function c(A,D){if(!(A&&D))return;const N=o.exec(A),T=o.exec(D);if(N&&T)return A=N[1]+N[2]+N[3],D=T[1]+T[2]+T[3],A>D?1:A<D?-1:0}const d=/t|\s/i;function p(A){const D=l(A);return function(T){const q=T.split(d);return q.length===2&&s(q[0])&&D(q[1])}}function h(A,D){if(!(A&&D))return;const N=new Date(A).valueOf(),T=new Date(D).valueOf();if(N&&T)return N-T}function m(A,D){if(!(A&&D))return;const[N,T]=A.split(d),[q,ne]=D.split(d),H=i(N,q);if(H!==void 0)return H||u(T,ne)}const y=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function f(A){return y.test(A)&&_.test(A)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(A){return v.lastIndex=0,v.test(A)}const S=-(2**31),P=2**31-1;function x(A){return Number.isInteger(A)&&A<=P&&A>=S}function R(A){return Number.isInteger(A)}function $(){return!0}const z=/[^\\]\\Z/;function L(A){if(z.test(A))return!1;try{return new RegExp(A),!0}catch{return!1}}})(r0);var n0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Yy,r=am,a=r.operators,n={formatMaximum:{okStr:"<=",ok:a.LTE,fail:a.GT},formatMinimum:{okStr:">=",ok:a.GTE,fail:a.LT},formatExclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},formatExclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},s={message:({keyword:o,schemaCode:l})=>(0,r.str)`should be ${n[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>(0,r._)`{comparison: ${n[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(n),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:u,schemaCode:c,keyword:d,it:p}=o,{opts:h,self:m}=p;if(!h.validateFormats)return;const y=new e.KeywordCxt(p,m.RULES.all.format.definition,"format");y.$data?_():f();function _(){const g=l.scopeValue("formats",{ref:m.formats,code:h.code.formats}),S=l.const("fmt",(0,r._)`${g}[${y.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,v(S)))}function f(){const g=y.schema,S=m.formats[g];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${d}": format "${g}" does not define "compare" function`);const P=l.scopeValue("formats",{key:g,ref:S,code:h.code.formats?(0,r._)`${h.code.formats}${(0,r.getProperty)(g)}`:void 0});o.fail$data(v(P))}function v(g){return(0,r._)`${g}.compare(${u}, ${c}) ${n[d].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=i})(n0);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=r0,a=n0,n=am,s=new n.Name("fullFormats"),i=new n.Name("fastFormats"),o=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,s),u;const[d,p]=c.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],h=c.formats||r.formatNames;return l(u,h,d,p),c.keywords&&(0,a.default)(u),u};o.get=(u,c="full")=>{const p=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,c,d,p){var h,m;(h=(m=u.opts.code).formats)!==null&&h!==void 0||(m.formats=(0,n._)`require("ajv-formats/dist/formats").${p}`);for(const y of c)u.addFormat(y,d[y])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(Oc,Oc.exports);var CI=Oc.exports;const NI=Nc(CI);function zI(){const t=new OI({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return NI(t),t}class AI{constructor(e){this._ajv=e??zI()}getValidator(e){const r="$id"in e&&typeof e.$id=="string"?this._ajv.getSchema(e.$id)??this._ajv.compile(e):this._ajv.compile(e);return a=>r(a)?{valid:!0,data:a,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}}class DI{constructor(e){this._server=e}requestStream(e,r,a){return this._server.requestStream(e,r,a)}async getTask(e,r){return this._server.getTask({taskId:e},r)}async getTaskResult(e,r,a){return this._server.getTaskResult({taskId:e},r,a)}async listTasks(e,r){return this._server.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._server.cancelTask({taskId:e},r)}}function jI(t,e,r){var a;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"tools/call":if(!((a=t.tools)!=null&&a.call))throw new Error(`${r} does not support task creation for tools/call (required for ${e})`);break}}function LI(t,e,r){var a,n;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"sampling/createMessage":if(!((a=t.sampling)!=null&&a.createMessage))throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${e})`);break;case"elicitation/create":if(!((n=t.elicitation)!=null&&n.create))throw new Error(`${r} does not support task creation for elicitation/create (required for ${e})`);break}}class FI extends oR{constructor(e,r){super(r),this._serverInfo=e,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(Zo.options.map((a,n)=>[a,n])),this.isMessageIgnored=(a,n)=>{const s=this._loggingLevels.get(n);return s?this.LOG_LEVEL_SEVERITY.get(a)<this.LOG_LEVEL_SEVERITY.get(s):!1},this._capabilities=(r==null?void 0:r.capabilities)??{},this._instructions=r==null?void 0:r.instructions,this._jsonSchemaValidator=(r==null?void 0:r.jsonSchemaValidator)??new AI,this.setRequestHandler(uy,a=>this._oninitialize(a)),this.setNotificationHandler(cy,()=>{var a;return(a=this.oninitialized)==null?void 0:a.call(this)}),this._capabilities.logging&&this.setRequestHandler(vy,async(a,n)=>{var l;const s=n.sessionId||((l=n.requestInfo)==null?void 0:l.headers["mcp-session-id"])||void 0,{level:i}=a.params,o=Zo.safeParse(i);return o.success&&this._loggingLevels.set(s,o.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new DI(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=lR(this._capabilities,e)}setRequestHandler(e,r){var o;const a=si(e),n=a==null?void 0:a.method;if(!n)throw new Error("Schema is missing a method literal");let s;if(Nr(n)){const l=n,u=(o=l._zod)==null?void 0:o.def;s=(u==null?void 0:u.value)??l.value}else{const l=n,u=l._def;s=(u==null?void 0:u.value)??l.value}if(typeof s!="string")throw new Error("Schema method literal must be a string");if(s==="tools/call"){const l=async(u,c)=>{const d=Is(Mo,u);if(!d.success){const y=d.error instanceof Error?d.error.message:String(d.error);throw new ee(re.InvalidParams,`Invalid tools/call request: ${y}`)}const{params:p}=d.data,h=await Promise.resolve(r(u,c));if(p.task){const y=Is(gl,h);if(!y.success){const _=y.error instanceof Error?y.error.message:String(y.error);throw new ee(re.InvalidParams,`Invalid task creation result: ${_}`)}return y.data}const m=Is(sf,h);if(!m.success){const y=m.error instanceof Error?m.error.message:String(m.error);throw new ee(re.InvalidParams,`Invalid tools/call result: ${y}`)}return m.data};return super.setRequestHandler(e,l)}return super.setRequestHandler(e,r)}assertCapabilityForMethod(e){var r,a,n;switch(e){case"sampling/createMessage":if(!((r=this._clientCapabilities)!=null&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!((a=this._clientCapabilities)!=null&&a.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!((n=this._clientCapabilities)!=null&&n.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break}}assertNotificationCapability(e){var r,a;switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/elicitation/complete":if(!((a=(r=this._clientCapabilities)==null?void 0:r.elicitation)!=null&&a.url))throw new Error(`Client does not support URL elicitation (required for ${e})`);break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"completion/complete":if(!this._capabilities.completions)throw new Error(`Server does not support completions (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Server does not support tasks capability (required for ${e})`);break}}assertTaskCapability(e){var r,a;LI((a=(r=this._clientCapabilities)==null?void 0:r.tasks)==null?void 0:a.requests,e,"Client")}assertTaskHandlerCapability(e){var r;this._capabilities&&jI((r=this._capabilities.tasks)==null?void 0:r.requests,e,"Server")}async _oninitialize(e){const r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:MP.includes(r)?r:ny,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Vd)}async createMessage(e,r){var a,n;if((e.tools||e.toolChoice)&&!((n=(a=this._clientCapabilities)==null?void 0:a.sampling)!=null&&n.tools))throw new Error("Client does not support sampling tools capability.");if(e.messages.length>0){const s=e.messages[e.messages.length-1],i=Array.isArray(s.content)?s.content:[s.content],o=i.some(d=>d.type==="tool_result"),l=e.messages.length>1?e.messages[e.messages.length-2]:void 0,u=l?Array.isArray(l.content)?l.content:[l.content]:[],c=u.some(d=>d.type==="tool_use");if(o){if(i.some(d=>d.type!=="tool_result"))throw new Error("The last message must contain only tool_result content if any is present");if(!c)throw new Error("tool_result blocks are not matching any tool_use from the previous message")}if(c){const d=new Set(u.filter(h=>h.type==="tool_use").map(h=>h.id)),p=new Set(i.filter(h=>h.type==="tool_result").map(h=>h.toolUseId));if(d.size!==p.size||![...d].every(h=>p.has(h)))throw new Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return e.tools?this.request({method:"sampling/createMessage",params:e},yy,r):this.request({method:"sampling/createMessage",params:e},gy,r)}async elicitInput(e,r){var n,s,i,o;switch(e.mode??"form"){case"url":{if(!((s=(n=this._clientCapabilities)==null?void 0:n.elicitation)!=null&&s.url))throw new Error("Client does not support url elicitation.");const l=e;return this.request({method:"elicitation/create",params:l},Sc,r)}case"form":{if(!((o=(i=this._clientCapabilities)==null?void 0:i.elicitation)!=null&&o.form))throw new Error("Client does not support form elicitation.");const l=e.mode==="form"?e:{...e,mode:"form"},u=await this.request({method:"elicitation/create",params:l},Sc,r);if(u.action==="accept"&&u.content&&l.requestedSchema)try{const d=this._jsonSchemaValidator.getValidator(l.requestedSchema)(u.content);if(!d.valid)throw new ee(re.InvalidParams,`Elicitation response content does not match requested schema: ${d.errorMessage}`)}catch(c){throw c instanceof ee?c:new ee(re.InternalError,`Error validating elicitation response: ${c instanceof Error?c.message:String(c)}`)}return u}}}createElicitationCompletionNotifier(e,r){var a,n;if(!((n=(a=this._clientCapabilities)==null?void 0:a.elicitation)!=null&&n.url))throw new Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:e}},r)}async listRoots(e,r){return this.request({method:"roots/list",params:e},_y,r)}async sendLoggingMessage(e,r){if(this._capabilities.logging&&!this.isMessageIgnored(e.level,r))return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}const a0=Symbol.for("mcp.completable");function Hp(t){return!!t&&typeof t=="object"&&a0 in t}function MI(t){const e=t[a0];return e==null?void 0:e.complete}var qp;(function(t){t.Completable="McpCompletable"})(qp||(qp={}));const ZI=/^[A-Za-z0-9._-]{1,128}$/;function UI(t){const e=[];if(t.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(t.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${t.length})`]};if(t.includes(" ")&&e.push("Tool name contains spaces, which may cause parsing issues"),t.includes(",")&&e.push("Tool name contains commas, which may cause parsing issues"),(t.startsWith("-")||t.endsWith("-"))&&e.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(t.startsWith(".")||t.endsWith("."))&&e.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!ZI.test(t)){const r=t.split("").filter(a=>!/[A-Za-z0-9._-]/.test(a)).filter((a,n,s)=>s.indexOf(a)===n);return e.push(`Tool name contains invalid characters: ${r.map(a=>`"${a}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:e}}return{isValid:!0,warnings:e}}function VI(t,e){if(e.length>0){console.warn(`Tool name validation warning for "${t}":`);for(const r of e)console.warn(`  - ${r}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function Bp(t){const e=UI(t);return VI(t,e.warnings),e.isValid}class HI{constructor(e){this._mcpServer=e}registerToolTask(e,r,a){const n={taskSupport:"required",...r.execution};if(n.taskSupport==="forbidden")throw new Error(`Cannot register task-based tool '${e}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(e,r.title,r.description,r.inputSchema,r.outputSchema,r.annotations,n,r._meta,a)}}class qI{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new FI(e,r)}get experimental(){return this._experimental||(this._experimental={tasks:new HI(this)}),this._experimental}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(tn(wc)),this.server.assertCanSetRequestHandler(tn(Mo)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(wc,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{const a={name:e,title:r.title,description:r.description,inputSchema:(()=>{const n=cs(r.inputSchema);return n?$p(n,{strictUnions:!0,pipeStrategy:"input"}):BI})(),annotations:r.annotations,execution:r.execution,_meta:r._meta};if(r.outputSchema){const n=cs(r.outputSchema);n&&(a.outputSchema=$p(n,{strictUnions:!0,pipeStrategy:"output"}))}return a})})),this.server.setRequestHandler(Mo,async(e,r)=>{var a;try{const n=this._registeredTools[e.params.name];if(!n)throw new ee(re.InvalidParams,`Tool ${e.params.name} not found`);if(!n.enabled)throw new ee(re.InvalidParams,`Tool ${e.params.name} disabled`);const s=!!e.params.task,i=(a=n.execution)==null?void 0:a.taskSupport,o="createTask"in n.handler;if((i==="required"||i==="optional")&&!o)throw new ee(re.InternalError,`Tool ${e.params.name} has taskSupport '${i}' but was not registered with registerToolTask`);if(i==="required"&&!s)throw new ee(re.MethodNotFound,`Tool ${e.params.name} requires task augmentation (taskSupport: 'required')`);if(i==="optional"&&!s&&o)return await this.handleAutomaticTaskPolling(n,e,r);const l=await this.validateToolInput(n,e.params.arguments,e.params.name),u=await this.executeToolHandler(n,l,r);return s||await this.validateToolOutput(n,u,e.params.name),u}catch(n){if(n instanceof ee&&n.code===re.UrlElicitationRequired)throw n;return this.createToolError(n instanceof Error?n.message:String(n))}}),this._toolHandlersInitialized=!0)}createToolError(e){return{content:[{type:"text",text:e}],isError:!0}}async validateToolInput(e,r,a){if(!e.inputSchema)return;const s=cs(e.inputSchema)??e.inputSchema,i=await tu(s,r);if(!i.success){const o="error"in i?i.error:"Unknown error",l=ru(o);throw new ee(re.InvalidParams,`Input validation error: Invalid arguments for tool ${a}: ${l}`)}return i.data}async validateToolOutput(e,r,a){if(!e.outputSchema||!("content"in r)||r.isError)return;if(!r.structuredContent)throw new ee(re.InvalidParams,`Output validation error: Tool ${a} has an output schema but no structured content was provided`);const n=cs(e.outputSchema),s=await tu(n,r.structuredContent);if(!s.success){const i="error"in s?s.error:"Unknown error",o=ru(i);throw new ee(re.InvalidParams,`Output validation error: Invalid structured content for tool ${a}: ${o}`)}}async executeToolHandler(e,r,a){const n=e.handler;if("createTask"in n){if(!a.taskStore)throw new Error("No task store provided.");const i={...a,taskStore:a.taskStore};if(e.inputSchema){const o=n;return await Promise.resolve(o.createTask(r,i))}else{const o=n;return await Promise.resolve(o.createTask(i))}}if(e.inputSchema){const i=n;return await Promise.resolve(i(r,a))}else{const i=n;return await Promise.resolve(i(a))}}async handleAutomaticTaskPolling(e,r,a){if(!a.taskStore)throw new Error("No task store provided for task-capable tool.");const n=await this.validateToolInput(e,r.params.arguments,r.params.name),s=e.handler,i={...a,taskStore:a.taskStore},o=n?await Promise.resolve(s.createTask(n,i)):await Promise.resolve(s.createTask(i)),l=o.task.taskId;let u=o.task;const c=u.pollInterval??5e3;for(;u.status!=="completed"&&u.status!=="failed"&&u.status!=="cancelled";){await new Promise(p=>setTimeout(p,c));const d=await a.taskStore.getTask(l);if(!d)throw new ee(re.InternalError,`Task ${l} not found during polling`);u=d}return await a.taskStore.getTaskResult(l)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(tn(Ec)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Ec,async e=>{switch(e.params.ref.type){case"ref/prompt":return pT(e),this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return mT(e),this.handleResourceCompletion(e,e.params.ref);default:throw new ee(re.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){const a=this._registeredPrompts[r.name];if(!a)throw new ee(re.InvalidParams,`Prompt ${r.name} not found`);if(!a.enabled)throw new ee(re.InvalidParams,`Prompt ${r.name} disabled`);if(!a.argsSchema)return ds;const n=si(a.argsSchema),s=n==null?void 0:n[e.params.argument.name];if(!Hp(s))return ds;const i=MI(s);if(!i)return ds;const o=await i(e.params.argument.value,e.params.context);return Wp(o)}async handleResourceCompletion(e,r){const a=Object.values(this._registeredResourceTemplates).find(i=>i.resourceTemplate.uriTemplate.toString()===r.uri);if(!a){if(this._registeredResources[r.uri])return ds;throw new ee(re.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}const n=a.resourceTemplate.completeCallback(e.params.argument.name);if(!n)return ds;const s=await n(e.params.argument.value,e.params.context);return Wp(s)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(tn(mc)),this.server.assertCanSetRequestHandler(tn(vc)),this.server.assertCanSetRequestHandler(tn(gc)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(mc,async(e,r)=>{const a=Object.entries(this._registeredResources).filter(([s,i])=>i.enabled).map(([s,i])=>({uri:s,name:i.name,...i.metadata})),n=[];for(const s of Object.values(this._registeredResourceTemplates)){if(!s.resourceTemplate.listCallback)continue;const i=await s.resourceTemplate.listCallback(r);for(const o of i.resources)n.push({...s.metadata,...o})}return{resources:[...a,...n]}}),this.server.setRequestHandler(vc,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,a])=>({name:r,uriTemplate:a.resourceTemplate.uriTemplate.toString(),...a.metadata}))})),this.server.setRequestHandler(gc,async(e,r)=>{const a=new URL(e.params.uri),n=this._registeredResources[a.toString()];if(n){if(!n.enabled)throw new ee(re.InvalidParams,`Resource ${a} disabled`);return n.readCallback(a,r)}for(const s of Object.values(this._registeredResourceTemplates)){const i=s.resourceTemplate.uriTemplate.match(a.toString());if(i)return s.readCallback(a,i,r)}throw new ee(re.InvalidParams,`Resource ${a} not found`)}),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(tn(yc)),this.server.assertCanSetRequestHandler(tn(_c)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(yc,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?WI(r.argsSchema):void 0}))})),this.server.setRequestHandler(_c,async(e,r)=>{const a=this._registeredPrompts[e.params.name];if(!a)throw new ee(re.InvalidParams,`Prompt ${e.params.name} not found`);if(!a.enabled)throw new ee(re.InvalidParams,`Prompt ${e.params.name} disabled`);if(a.argsSchema){const n=cs(a.argsSchema),s=await tu(n,e.params.arguments);if(!s.success){const l="error"in s?s.error:"Unknown error",u=ru(l);throw new ee(re.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${u}`)}const i=s.data,o=a.callback;return await Promise.resolve(o(i,r))}else{const n=a.callback;return await Promise.resolve(n(r))}}),this._promptHandlersInitialized=!0)}resource(e,r,...a){let n;typeof a[0]=="object"&&(n=a.shift());const s=a[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);const i=this._createRegisteredResource(e,void 0,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);const i=this._createRegisteredResourceTemplate(e,void 0,r,n,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}registerResource(e,r,a,n){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);const s=this._createRegisteredResource(e,a.title,r,a,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);const s=this._createRegisteredResourceTemplate(e,a.title,r,a,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}}_createRegisteredResource(e,r,a,n,s){const i={name:e,title:r,metadata:n,readCallback:s,enabled:!0,disable:()=>i.update({enabled:!1}),enable:()=>i.update({enabled:!0}),remove:()=>i.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==a&&(delete this._registeredResources[a],o.uri&&(this._registeredResources[o.uri]=i)),typeof o.name<"u"&&(i.name=o.name),typeof o.title<"u"&&(i.title=o.title),typeof o.metadata<"u"&&(i.metadata=o.metadata),typeof o.callback<"u"&&(i.readCallback=o.callback),typeof o.enabled<"u"&&(i.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[a]=i,i}_createRegisteredResourceTemplate(e,r,a,n,s){const i={resourceTemplate:a,title:r,metadata:n,readCallback:s,enabled:!0,disable:()=>i.update({enabled:!1}),enable:()=>i.update({enabled:!0}),remove:()=>i.update({name:null}),update:u=>{typeof u.name<"u"&&u.name!==e&&(delete this._registeredResourceTemplates[e],u.name&&(this._registeredResourceTemplates[u.name]=i)),typeof u.title<"u"&&(i.title=u.title),typeof u.template<"u"&&(i.resourceTemplate=u.template),typeof u.metadata<"u"&&(i.metadata=u.metadata),typeof u.callback<"u"&&(i.readCallback=u.callback),typeof u.enabled<"u"&&(i.enabled=u.enabled),this.sendResourceListChanged()}};this._registeredResourceTemplates[e]=i;const o=a.uriTemplate.variableNames;return Array.isArray(o)&&o.some(u=>!!a.completeCallback(u))&&this.setCompletionRequestHandler(),i}_createRegisteredPrompt(e,r,a,n,s){const i={title:r,description:a,argsSchema:n===void 0?void 0:Pa(n),callback:s,enabled:!0,disable:()=>i.update({enabled:!1}),enable:()=>i.update({enabled:!0}),remove:()=>i.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredPrompts[e],o.name&&(this._registeredPrompts[o.name]=i)),typeof o.title<"u"&&(i.title=o.title),typeof o.description<"u"&&(i.description=o.description),typeof o.argsSchema<"u"&&(i.argsSchema=Pa(o.argsSchema)),typeof o.callback<"u"&&(i.callback=o.callback),typeof o.enabled<"u"&&(i.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=i,n&&Object.values(n).some(l=>{var c;const u=l instanceof Vr?(c=l._def)==null?void 0:c.innerType:l;return Hp(u)})&&this.setCompletionRequestHandler(),i}_createRegisteredTool(e,r,a,n,s,i,o,l,u){Bp(e);const c={title:r,description:a,inputSchema:Qp(n),outputSchema:Qp(s),annotations:i,execution:o,_meta:l,handler:u,enabled:!0,disable:()=>c.update({enabled:!1}),enable:()=>c.update({enabled:!0}),remove:()=>c.update({name:null}),update:d=>{typeof d.name<"u"&&d.name!==e&&(typeof d.name=="string"&&Bp(d.name),delete this._registeredTools[e],d.name&&(this._registeredTools[d.name]=c)),typeof d.title<"u"&&(c.title=d.title),typeof d.description<"u"&&(c.description=d.description),typeof d.paramsSchema<"u"&&(c.inputSchema=Pa(d.paramsSchema)),typeof d.outputSchema<"u"&&(c.outputSchema=Pa(d.outputSchema)),typeof d.callback<"u"&&(c.handler=d.callback),typeof d.annotations<"u"&&(c.annotations=d.annotations),typeof d._meta<"u"&&(c._meta=d._meta),typeof d.enabled<"u"&&(c.enabled=d.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=c,this.setToolRequestHandlers(),this.sendToolListChanged(),c}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let a,n,s,i;if(typeof r[0]=="string"&&(a=r.shift()),r.length>1){const l=r[0];Cc(l)?(n=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!Cc(r[0])&&(i=r.shift())):typeof l=="object"&&l!==null&&(i=r.shift())}const o=r[0];return this._createRegisteredTool(e,void 0,a,n,s,i,{taskSupport:"forbidden"},void 0,o)}registerTool(e,r,a){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);const{title:n,description:s,inputSchema:i,outputSchema:o,annotations:l,_meta:u}=r;return this._createRegisteredTool(e,n,s,i,o,l,{taskSupport:"forbidden"},u,a)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let a;typeof r[0]=="string"&&(a=r.shift());let n;r.length>1&&(n=r.shift());const s=r[0],i=this._createRegisteredPrompt(e,void 0,a,n,s);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),i}registerPrompt(e,r,a){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);const{title:n,description:s,argsSchema:i}=r,o=this._createRegisteredPrompt(e,n,s,i,a);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(e,r){return this.server.sendLoggingMessage(e,r)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}}const BI={type:"object",properties:{}};function s0(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function QI(t){return"_def"in t||"_zod"in t||s0(t)}function Cc(t){return typeof t!="object"||t===null||QI(t)?!1:Object.keys(t).length===0?!0:Object.values(t).some(s0)}function Qp(t){if(t)return Cc(t)?Pa(t):t}function WI(t){const e=si(t);return e?Object.entries(e).map(([r,a])=>{const n=Ak(a),s=Dk(a);return{name:r,description:n,required:!s}}):[]}function tn(t){const e=si(t),r=e==null?void 0:e.method;if(!r)throw new Error("Schema is missing a method literal");const a=Hg(r);if(typeof a=="string")return a;throw new Error("Schema method literal must be a string")}function Wp(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}const ds={completion:{values:[],hasMore:!1}};class KI{constructor(e){e.environment=="staging"||e.environment=="production"?(this.generator=new ow,this.messenger=new uw,this.storage=new vw(e.id,e.token)):(this.generator=new lw,this.messenger=new cw,this.storage=new mw(e.id,e.token)),this.mcp=new qI({name:"stage-mcp-server",version:"1.0.0"},{capabilities:{logging:{}}})}}var Kp;(function(t){t.development="development",t.staging="staging",t.production="production",t.testing="testing"})(Kp||(Kp={}));const GI={id:0,userId:"1",environment:"development",initState:null,token:"test",characters:{},config:null,messageState:null,users:{},chatState:null},Gp={error:null,success:!0,chatState:null,initState:null,messageState:null},Jp={chatState:null,systemMessage:null,error:null,extensionMessage:null,modifiedMessage:null,messageState:null,stageDirections:null},JI=()=>un.createElement("div",{className:"outer"},un.createElement("div",{className:"middle"},un.createElement("div",{className:"spinner"},un.createElement("img",{className:"loading-spinner",src:"https://avatars.charhub.io/flower.png",alt:"Loading..."}))));var lu=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};class Yp extends Error{constructor(e){super(`Iframe Transport error: ${e}`)}}class YI{constructor(e){var r,a;this._messageQueue=[],this._started=!1,this._targetOrigin=(r=e==null?void 0:e.targetOrigin)!==null&&r!==void 0?r:"*",this._allowedOrigins=(a=e==null?void 0:e.allowedOrigins)!==null&&a!==void 0?a:new Set(this._targetOrigin)}_isOriginAllowed(e){return this._allowedOrigins.has(e)||e.endsWith("chub.ai")||e.endsWith("chub-ui.pages.dev")?!0:this._targetOrigin!=="*"&&e===this._targetOrigin}_setupMessageListener(){this._messageListener=e=>{var r;if(this._isOriginAllowed(e.origin)&&e.source===window.parent)try{const a=e.data;switch(a==null?void 0:a.type){case"iframe-init":window.parent.postMessage({type:"iframe-ready"},this._targetOrigin),this._processQueue();break;case"mcp-message":a.payload&&(Array.isArray(a.payload)?a.payload:[a.payload]).forEach(s=>{const i=BP.parse(s);this.onmessage?this.onmessage(i):this._messageQueue.push({message:i})});break;case"iframe-close":this.close();break;default:break}}catch(a){(r=this.onerror)===null||r===void 0||r.call(this,a),this._sendError(a)}},window.addEventListener("message",this._messageListener)}_processQueue(){for(;this._messageQueue.length>0&&this.onmessage;){const e=this._messageQueue.shift();this.onmessage(e.message)}}_sendError(e){if(window.parent)try{window.parent.postMessage({type:"iframe-error",error:e.message},this._targetOrigin)}catch{}}start(){return lu(this,void 0,void 0,function*(){if(!this._started){if(!window.parent)throw new Yp("Not in iframe context");this._setupMessageListener(),this._started=!0,this._processQueue()}})}close(){return lu(this,void 0,void 0,function*(){var e;this._started=!1,this._messageListener&&(window.removeEventListener("message",this._messageListener),this._messageListener=void 0),this._messageQueue=[],(e=this.onclose)===null||e===void 0||e.call(this)})}send(e,r){return lu(this,void 0,void 0,function*(){var a;if(!window.parent)throw new Yp("Not in iframe context");try{window.parent.postMessage({type:"mcp-message",payload:e},this._targetOrigin)}catch(n){throw(a=this.onerror)===null||a===void 0||a.call(this,n),n}})}}var XI=function(t,e,r,a){function n(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(c){try{u(a.next(c))}catch(d){i(d)}}function l(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):n(c.value).then(o,l)}u((a=a.apply(t,e||[])).next())})};const e2="INIT",t2="BEFORE",r2="AFTER",n2="SET",uu="CALL",a2=new Set([e2,t2,r2,n2]),Xp=new YI({targetOrigin:"*",allowedOrigins:$d}),s2=({factory:t,debug:e=!1})=>{const[r,a]=Mn.useState(null),[n,s]=Mn.useState(new Date),[i,o]=Mn.useState({key:"",value:{}});function l(u,c){window.parent.postMessage({messageType:u,data:c},"*")}return Mn.useEffect(()=>{const u=c=>XI(void 0,void 0,void 0,function*(){try{if(!$d.has(c.origin)){console.warn("Received message from unauthorized origin: ",c.origin);return}if(c.source!==window.parent){console.warn("Received message from unauthorized source: ",c.source);return}const{messageType:d,data:p}=c.data;e&&a2.has(d)&&(console.debug("Stages iFrame received event from origin: ",c.origin),console.debug("Stages iFrame received data: ",c.data));const h=d+": "+JSON.stringify(p);if(i.key==h)e&&console.debug("Already seen, returning previous"),l(d,i.value);else if(d=="INIT")if(r!=null)console.warn("INIT message for non-null stage."),l("INIT",Object.assign({},Gp)),o(Object.assign(Object.assign({},i),{key:h}));else{let m=t(Object.assign(Object.assign({},GI),p));const y=yield m.load(),_=Object.assign(Object.assign({},Gp),y);m.mcp.connect(Xp),Xp.start(),o({key:h,value:_}),l("INIT",_),a(m)}else if(r==null)console.warn("Null stage instance for non-INIT message.");else if(d=="BEFORE"){const m=yield r==null?void 0:r.beforePrompt(Object.assign({},p)),y=Object.assign(Object.assign({},Jp),m);o({key:h,value:y}),l("BEFORE",y)}else if(d=="AFTER"){const m=yield r==null?void 0:r.afterResponse(Object.assign({},p)),y=Object.assign(Object.assign({},Jp),m);o({key:h,value:y}),l("AFTER",y)}else if(d=="SET")yield r==null?void 0:r.setState(p),o({key:h,value:{}}),l("SET",{});else if(d==uu){const{functionName:m,parameters:y}=p;if(r.hasOwnProperty(m)){const _=r[m](y);l(uu,{functionName:m,result:_})}else console.error(`Function '${m}' does not exist on the stage.`),l(uu,{functionName:m,result:null})}}catch(d){console.error("Stages iFrame had an unexpected error: ",d),window.parent.postMessage({messageType:"ERROR",data:{name:d.name,message:d.message,stack:d.stack}})}finally{s(new Date)}});return window.removeEventListener("message",u),window.addEventListener("message",u),()=>{window.removeEventListener("message",u)}},[r]),un.createElement(un.Fragment,null,un.createElement("div",{style:{display:"none"}},String(n),window.location.href),r==null?un.createElement(JI,null):r.render())},i0={speaker_id:"1",parent_id:null,is_main:!0};Object.assign(Object.assign({},i0),{message:""});Object.assign(Object.assign({},i0),{stage_directions:null,participants:null});var em;(function(t){t.biped="biped",t.quadruped="quadruped",t.unknown="unknown"})(em||(em={}));var tm;(function(t){t.glb="glb",t.vrm="vrm",t.stl="stl",t.obj="obj",t.ply="ply"})(tm||(tm={}));var rm;(function(t){t.turbo="turbo",t.fast="fast",t.standard="standard"})(rm||(rm={}));const no={enabled:!0,strictness:2,memory_depth:15};function nm(t,e,r){return Number.isNaN(t)?e:Math.max(e,Math.min(r,t))}function i2(t){const e=t||{},r=typeof e.enabled=="boolean"?e.enabled:no.enabled,a=typeof e.strictness=="number"?nm(Math.floor(e.strictness),1,3):no.strictness,n=typeof e.memory_depth=="number"?nm(Math.floor(e.memory_depth),5,30):no.memory_depth;return{enabled:r,strictness:a,memory_depth:n,...Object.keys(e).reduce((s,i)=>(["enabled","strictness","memory_depth"].includes(i)||(s[i]=e[i]),s),{})}}function o2(t){return!t||t.trim().length===0?{tone:"neutral",intensity:"low"}:/!|\b(am|so|very)\b/i.test(t)?{tone:"excited",intensity:"medium"}:/sad|tear|cry|sorry|regret/i.test(t)?{tone:"sad",intensity:"medium"}:/love|like|cherish|admire/i.test(t)?{tone:"affection",intensity:"medium"}:{tone:"neutral",intensity:"low"}}function l2(t,e){const r=e.slice(-5);if(!r||r.length===0)return{detected:!1,summary:""};const a=m=>({low:0,medium:1,high:2})[m.intensity]??0,n=Math.round(r.reduce((m,y)=>m+a(y),0)/r.length),s=r.map(m=>m.tone),i=s[s.length-1]??"",o=Array.from(new Set(s)).slice(-3),l=a(t),u=i.length===0?!1:i!==t.tone,c=l-n,d=s.length>=3&&s.every(m=>m===i),p=c>=2||u&&d&&Math.abs(c)>=1,h=`from [${o.join(", ")}] (${n}) to ${t.tone} (${l})`;return{detected:p,summary:h}}function u2(t,e){const r=[];return!t||t.trim().length===0||((/I\s+(feel|felt|confess|admit|can't help)/i.test(t)||/confess(ed)?/i.test(t))&&r.push({type:"emotional_disclosure",suggestedPhase:"Familiar",text:t.slice(0,200)}),/I need you|I can't live|depend on you|rely on you|can't (?:do|be)/i.test(t)&&r.push({type:"dependency",suggestedPhase:"Charged",text:t.slice(0,200)}),/hug|kiss|hold|embrace|press(es|ed)?|near|closer|close to/i.test(t)&&r.push({type:"physical_closeness",suggestedPhase:"Charged",text:t.slice(0,200)}),/kiss(ed)? on the lips|making love|sex|fellatio|intercourse|nude|strip/i.test(t)&&r.push({type:"physical_intimacy",suggestedPhase:"Intimate",text:t.slice(0,200)}),e.tone==="affection"&&e.intensity==="high"&&r.push({type:"affection_high",suggestedPhase:"Charged",text:"high-affection"})),r}class c2 extends KI{constructor(r){super(r);St(this,"myInternalState");St(this,"defaultConfig",{...no});const{characters:a,users:n,config:s,messageState:i,environment:o,initState:l,chatState:u}=r,c=i2(s);this.myInternalState=i??{lastEmotions:[],memoryScars:[],proximity:"Distant",phase:"Neutral"},this.myInternalState.numUsers=n?Object.keys(n).length:0,this.myInternalState.numChars=a?Object.keys(a).length:0,this._effectiveConfig=c,this._chatState=u||{scene:null}}async load(){return{success:!0,error:null,initState:null,chatState:null,messageState:{...this.myInternalState},state:{...this.myInternalState}}}async setState(r){var a;if(r!=null){this.myInternalState={...this.myInternalState,...r};const n=((a=this._effectiveConfig)==null?void 0:a.memory_depth)||this.defaultConfig.memory_depth;Array.isArray(this.myInternalState.memoryScars)&&(this.myInternalState.memoryScars=this.myInternalState.memoryScars.slice(-n)),Array.isArray(this.myInternalState.lastEmotions)&&(this.myInternalState.lastEmotions=this.myInternalState.lastEmotions.slice(-5))}}async beforePrompt(r){try{const a=typeof(r==null?void 0:r.content)=="string"?r.content:"",n=this._effectiveConfig||this.defaultConfig,s=typeof n.strictness=="number"?Math.floor(n.strictness):2;if(!n.enabled){const u=this._chatState||null;return{stageDirections:null,messageState:{...this.myInternalState},modifiedMessage:null,systemMessage:null,error:null,chatState:u||null}}const i=this._chatState||null;let o=null;if(s>=3&&i&&i.scene){const u=this.summarizeScene(i.scene);u&&(o=`Scene summary: ${u}`)}const l={...this.myInternalState};return{stageDirections:null,messageState:l,state:l,modifiedMessage:null,systemMessage:o,error:null,chatState:i||null}}catch(a){return a instanceof Error?a.message:String(a),console.error("Stage beforePrompt error:",a),{stageDirections:null,messageState:{...this.myInternalState},state:{...this.myInternalState},modifiedMessage:null,systemMessage:null,error:null,chatState:this._chatState||null}}}async afterResponse(r){var a;try{const n=typeof(r==null?void 0:r.content)=="string"?r.content:"",s=this._effectiveConfig||this.defaultConfig,i=typeof s.strictness=="number"?Math.floor(s.strictness):2;if(!s.enabled)return{stageDirections:null,messageState:this.myInternalState,modifiedMessage:null,error:null,systemMessage:null,chatState:this._chatState||null};const o=(this.myInternalState.turnIndex||0)+1;this.myInternalState.turnIndex=o;const u=(Array.isArray(this.myInternalState.systemNoteHistory)?this.myInternalState.systemNoteHistory:[]).filter(H=>H>o-20),c={1:0,2:0,3:6}[i]??0,d=i>=3&&u.length<c;let p=!1;const h=o2(n),m=this.myInternalState.lastEmotions||[],y=this.detectMemoryEvents(n);if(y.length>0){const H=Date.now(),j=((a=this._effectiveConfig)==null?void 0:a.memory_depth)||this.defaultConfig.memory_depth;this.myInternalState.memoryScars=(this.myInternalState.memoryScars||[]).concat(y.map(U=>({event:U,text:n.slice(0,500),at:H}))).slice(-j)}const _=this._chatState||{scene:null},f=this.updateSceneFromMessage((_==null?void 0:_.scene)||null,n,h),v={..._||{},scene:f};this._chatState=v;const g=this.detectProximityTransitions(n);let S=null;g.skipped&&(S=`System note: proximity jumped to ${g.next}. Consider describing intermediate steps.`);const P=u2(n,h);this.myInternalState.signalHistory=(this.myInternalState.signalHistory||[]).concat(P).slice(-20);const x=(this.myInternalState.signalHistory||[]).slice(-5),R=["Neutral","Familiar","Charged","Intimate"],$=this.myInternalState.phase||"Neutral",z=Math.max(0,R.indexOf($)),L={};for(const H of x)L[H.suggestedPhase]=(L[H.suggestedPhase]||0)+1;const A=2;let D=null;for(let H=R.length-1;H>=0;H--){const j=R[H];if((L[j]||0)>=A){D=j;break}}let N=null;if(D){const H=R.indexOf(D);H>z+1?N=`System note: relationship signals suggest ${D} but current phase is ${$}. Consider intermediate steps.`:H===z+1&&(this.myInternalState.phase=D,this.myInternalState.phaseHistory=(this.myInternalState.phaseHistory||[]).concat([{phase:D,at:Date.now()}]).slice(-50))}let T=null;const q=l2(h,m);if(q.detected&&s.enabled&&d){const H={1:1,2:2,3:3}[i]||2;this.myInternalState.lastAnnotations=this.myInternalState.lastAnnotations||[],this.myInternalState.lastAnnotations.filter(U=>U>o-20).length<H&&(T=`System note: abrupt emotional shift detected (${q.summary}). Consider adding a transitional cue.`,this.myInternalState.lastAnnotations.push(o),this.myInternalState.lastAnnotations=this.myInternalState.lastAnnotations.slice(-20))}this.myInternalState.lastEmotions=m.concat(h).slice(-5),N&&(d||p||T!=null)&&(T=T?`${T}  ${N}`:N),S&&(d||p||T!=null)&&(T=T?`${T}  ${S}`:S);const ne=this.detectConsentIssues(n);if(ne.length>0){p=!0,this.myInternalState.consentAlerts=(this.myInternalState.consentAlerts||[]).concat([Date.now()]).slice(-50);const H=`Consent/agency alert: ${ne.join("; ")}`;T=T?`${T}  ${H}`:H}if(i>=2&&(d||p||T!=null)){const H=this.detectSubtext(n);if(H.length>0){const j=`Subtext: ${H.join("; ")}`;T=T?`${T}  ${j}`:j}}if(i>=3&&(d||p||T!=null)){const H=this.detectSilenceOrPause(n);H&&(this.myInternalState.silenceHistory=(this.myInternalState.silenceHistory||[]).concat([Date.now()]).slice(-50),T=T?`${T}  ${H}`:H)}if(i>=3&&(d||p||T!=null)){const H=this.detectDrift(m,this.myInternalState.phaseHistory||[],s);H&&(this.myInternalState.driftNotes=(this.myInternalState.driftNotes||[]).concat([o]).slice(-50),T=T?`${T}  ${H}`:H)}if(i>=3&&(d||p||T!=null)){const H=this.recallMemoryScar();H&&(T=T?`${T}  ${H}`:H)}return T!=null&&(this.myInternalState.systemNoteHistory=u.concat([o]).slice(-100)),{stageDirections:null,messageState:this.myInternalState,state:this.myInternalState,modifiedMessage:null,error:null,systemMessage:T,chatState:v}}catch(n){return n instanceof Error?n.message:String(n),console.error("Stage afterResponse error:",n),{stageDirections:null,messageState:this.myInternalState,state:this.myInternalState,modifiedMessage:null,systemMessage:null,error:null,chatState:this._chatState||null}}}render(){return ao.jsx(ao.Fragment,{})}detectMemoryEvents(r){if(!r)return[];const a=[];return/confess(ed)?|admit(s|ted)?/i.test(r)&&a.push("confession"),/betray(s|ed)?|lie(?:s|d)? to/i.test(r)&&a.push("betrayal"),/reject(s|ed)?|turns you down|pushes you away/i.test(r)&&a.push("rejection"),/argue|fight|conflict|shout at/i.test(r)&&a.push("conflict"),a}detectSubtext(r){if(!r)return[];const a=[];return(/(um\b|uh\b|ellipses|\.\.\.|hesitates|pauses)/i.test(r)||/(not sure|maybe|i guess)/i.test(r))&&a.push("hesitation/uncertainty"),/(changes the subject|deflects|avoids eye contact|looks away|shrugs it off)/i.test(r)&&a.push("avoidance"),/(careful not to|holding back|guarded|keeps distance emotionally)/i.test(r)&&a.push("guarded interest"),/(afraid to ask|fear of rejection|worried you'll say no|doesn't want to scare you off)/i.test(r)&&a.push("fear of rejection"),a}recallMemoryScar(){const r=this.myInternalState.memoryScars||[];if(r.length===0)return null;const a=this.myInternalState.lastScarRecallIdx??-1,n=r.length-1;return n===a?null:(this.myInternalState.lastScarRecallIdx=n,`Recall: unresolved ${r[n].event} persists. Keep continuity in tone and stakes.`)}detectDrift(r,a,n){const s=n.strictness===3?8:n.strictness===1?15:12;if((this.myInternalState.driftNotes||[]).filter(p=>(this.myInternalState.turnIndex||0)-p<s).length>0)return null;const o=(a||[]).slice(-3),l=o.length>=2&&new Set(o.map(p=>p.phase)).size===1,u=r.slice(-5),c=new Set(u.map(p=>p.tone)),d=u.length>=3&&c.size<=1;return l&&d?"Drift detected: relationship and emotion have stagnated. Suggest gentle narrative pressure or new beat.":null}detectSilenceOrPause(r){if(r==null)return null;const a=r.trim();if(a.length===0)return"Silence detected: consider clarifying hesitation or disengagement.";const n=a.length<25,s=/(maybe|i guess|not sure|could be|i dunno|perhaps)/i.test(a),i=/^(ok|okay|sure|fine|whatever|yeah)\.?$/i.test(a);return n&&(s||i)?"Brief/non-committal reply: may signal hesitation or disengagement.":/\.\.\.|\bpauses\b|\bhesitates\b/i.test(a)?"Pause noted: consider leaning into hesitation or giving space.":null}detectProximityTransitions(r){const a=["Distant","Nearby","Touching","Intimate"],n=this.myInternalState.proximity||"Distant";let s=n;/across the room|far away|distant/i.test(r)&&(s="Distant"),/steps closer|sits beside|next to|nearby|close by/i.test(r)&&(s="Nearby"),/touch|hand in hand|holds|brushes|resting on/i.test(r)&&(s="Touching"),/embrace tightly|presses against|kiss(?:ing)?|intimate|caress/i.test(r)&&(s="Intimate");const i=a.indexOf(n),o=a.indexOf(s),l=o>i+1;return o>=0&&s!==n&&(this.myInternalState.proximity=s,this.myInternalState.proximityHistory=(this.myInternalState.proximityHistory||[]).concat([{state:s,at:Date.now()}]).slice(-50)),{next:s,skipped:l}}detectConsentIssues(r){if(!r)return[];const a=[];return/you (?:feel|felt|are overcome|can't help but feel)/i.test(r)&&a.push("assigns emotions to the user"),/(you must|you have no choice|without your consent|ignoring your protest|forces you)/i.test(r)&&a.push("forces decisions/consent onto the user"),/(inside your mind|your thoughts say|your inner voice|you think to yourself)/i.test(r)&&a.push("describes internal monologue for the user"),a}summarizeScene(r){if(!r)return null;const a=[];return r.location&&a.push(`${r.location}`),r.timeOfDay&&a.push(`${r.timeOfDay}`),r.lingeringEmotion&&a.push(`mood: ${r.lingeringEmotion}`),Array.isArray(r.unresolvedBeats)&&r.unresolvedBeats.length>0&&a.push(`${r.unresolvedBeats.length} unresolved beats`),a.length>0?a.join("  "):null}updateSceneFromMessage(r,a,n){const s=Object.assign({},r||{}),i=a.match(/(?:at|in|on) the ([A-Za-z0-9'\- ]{3,40})/i);i&&(s.location=i[1].trim());const o=/\b(morning|afternoon|evening|night|noon|midnight|dawn|dusk)\b/i.exec(a);return o&&(s.timeOfDay=o[1].toLowerCase()),n&&n.tone&&n.tone!=="neutral"&&(s.lingeringEmotion=n.tone),/(?:still|remain|unresolved|unfinished|left hanging|pending)/i.test(a)&&(s.unresolvedBeats=(s.unresolvedBeats||[]).concat([a.trim()]).slice(-10)),s}}function d2(){return console.info("Running in production"),ao.jsx(s2,{factory:e=>new c2(e)})}cu.createRoot(document.getElementById("root")).render(ao.jsx(d2,{}));
