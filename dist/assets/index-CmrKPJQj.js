var q0=Object.defineProperty;var B0=(e,t,n)=>t in e?q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>(B0(e,typeof t!="symbol"?t+"":t,n),n),Ch=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var le=(e,t,n)=>(Ch(e,t,"read from private field"),n?n.call(e):t.get(e)),Gn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ti=(e,t,n,r)=>(Ch(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wg={exports:{}},hl={},kg={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uo=Symbol.for("react.element"),W0=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),zh=Symbol.iterator;function rw(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var Sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$g=Object.assign,Eg={};function Ws(e,t,n){this.props=e,this.context=t,this.refs=Eg,this.updater=n||Sg}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bg(){}bg.prototype=Ws.prototype;function fd(e,t,n){this.props=e,this.context=t,this.refs=Eg,this.updater=n||Sg}var hd=fd.prototype=new bg;hd.constructor=fd;$g(hd,Ws.prototype);hd.isPureReactComponent=!0;var jh=Array.isArray,Tg=Object.prototype.hasOwnProperty,pd={current:null},Pg={key:!0,ref:!0,__self:!0,__source:!0};function Ig(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tg.call(t,r)&&!Pg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:uo,type:e,key:i,ref:o,props:s,_owner:pd.current}}function sw(e,t){return{$$typeof:uo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function md(e){return typeof e=="object"&&e!==null&&e.$$typeof===uo}function iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ah=/\/+/g;function tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iw(""+e.key):t.toString(36)}function sa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case uo:case W0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+tu(o,0):r,jh(s)?(n="",e!=null&&(n=e.replace(Ah,"$&/")+"/"),sa(s,t,n,"",function(u){return u})):s!=null&&(md(s)&&(s=sw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ah,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",jh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+tu(i,a);o+=sa(i,t,n,l,s)}else if(l=rw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+tu(i,a++),o+=sa(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(e,t,n){if(e==null)return e;var r=[],s=0;return sa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ow(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},ia={transition:null},aw={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:ia,ReactCurrentOwner:pd};function Rg(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Io,forEach:function(e,t,n){Io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Ws;de.Fragment=K0;de.Profiler=Q0;de.PureComponent=fd;de.StrictMode=G0;de.Suspense=ew;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;de.act=Rg;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$g({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Tg.call(t,l)&&!Pg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:uo,type:e.type,key:s,ref:i,props:r,_owner:o}};de.createContext=function(e){return e={$$typeof:Y0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J0,_context:e},e.Consumer=e};de.createElement=Ig;de.createFactory=function(e){var t=Ig.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:X0,render:e}};de.isValidElement=md;de.lazy=function(e){return{$$typeof:nw,_payload:{_status:-1,_result:e},_init:ow}};de.memo=function(e,t){return{$$typeof:tw,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};de.unstable_act=Rg;de.useCallback=function(e,t){return Tt.current.useCallback(e,t)};de.useContext=function(e){return Tt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};de.useEffect=function(e,t){return Tt.current.useEffect(e,t)};de.useId=function(){return Tt.current.useId()};de.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Tt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};de.useRef=function(e){return Tt.current.useRef(e)};de.useState=function(e){return Tt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Tt.current.useTransition()};de.version="18.3.1";kg.exports=de;var Ut=kg.exports;const ar=dd(Ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=Ut,uw=Symbol.for("react.element"),cw=Symbol.for("react.fragment"),dw=Object.prototype.hasOwnProperty,fw=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hw={key:!0,ref:!0,__self:!0,__source:!0};function xg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)dw.call(t,r)&&!hw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uw,type:e,key:i,ref:o,props:s,_owner:fw.current}}hl.Fragment=cw;hl.jsx=xg;hl.jsxs=xg;wg.exports=hl;var wt=wg.exports,Fu={},Ng={exports:{}},Bt={},Og={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,Y){var O=M.length;M.push(Y);e:for(;0<O;){var E=O-1>>>1,N=M[E];if(0<s(N,Y))M[E]=Y,M[O]=N,O=E;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Y=M[0],O=M.pop();if(O!==Y){M[0]=O;e:for(var E=0,N=M.length,b=N>>>1;E<b;){var y=2*(E+1)-1,S=M[y],P=y+1,H=M[P];if(0>s(S,O))P<N&&0>s(H,S)?(M[E]=H,M[P]=O,E=P):(M[E]=S,M[y]=O,E=y);else if(P<N&&0>s(H,O))M[E]=H,M[P]=O,E=P;else break e}}return Y}function s(M,Y){var O=M.sortIndex-Y.sortIndex;return O!==0?O:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,m=3,v=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(M){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=M)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function k(M){if(_=!1,p(M),!g)if(n(l)!==null)g=!0,ht($);else{var Y=n(u);Y!==null&&ee(k,Y.startTime-M)}}function $(M,Y){g=!1,_&&(_=!1,d(j),j=-1),v=!0;var O=m;try{for(p(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||M&&!V());){var E=f.callback;if(typeof E=="function"){f.callback=null,m=f.priorityLevel;var N=E(f.expirationTime<=Y);Y=e.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),p(Y)}else r(l);f=n(l)}if(f!==null)var b=!0;else{var y=n(u);y!==null&&ee(k,y.startTime-Y),b=!1}return b}finally{f=null,m=O,v=!1}}var R=!1,x=null,j=-1,re=5,te=-1;function V(){return!(e.unstable_now()-te<re)}function X(){if(x!==null){var M=e.unstable_now();te=M;var Y=!0;try{Y=x(!0,M)}finally{Y?fe():(R=!1,x=null)}}else R=!1}var fe;if(typeof h=="function")fe=function(){h(X)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Fe=D.port2;D.port1.onmessage=X,fe=function(){Fe.postMessage(null)}}else fe=function(){w(X,0)};function ht(M){x=M,R||(R=!0,fe())}function ee(M,Y){j=w(function(){M(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,ht($))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var O=m;m=Y;try{return M()}finally{m=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=m;m=M;try{return Y()}finally{m=O}},e.unstable_scheduleCallback=function(M,Y,O){var E=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?E+O:E):O=E,M){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=O+N,M={id:c++,callback:Y,priorityLevel:M,startTime:O,expirationTime:N,sortIndex:-1},O>E?(M.sortIndex=O,t(u,M),n(l)===null&&M===n(u)&&(_?(d(j),j=-1):_=!0,ee(k,O-E))):(M.sortIndex=N,t(l,M),g||v||(g=!0,ht($))),M},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(M){var Y=m;return function(){var O=m;m=Y;try{return M.apply(this,arguments)}finally{m=O}}}})(Cg);Og.exports=Cg;var pw=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=Ut,Ht=pw;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Ui={};function ts(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Ui[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=Object.prototype.hasOwnProperty,gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh={},Dh={};function yw(e){return Vu.call(Dh,e)?!0:Vu.call(Mh,e)?!1:gw.test(e)?Dh[e]=!0:(Mh[e]=!0,!1)}function vw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _w(e,t,n,r){if(t===null||typeof t>"u"||vw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function yd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gd,yd);ct[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gd,yd);ct[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gd,yd);ct[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vd(e,t,n,r){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_w(t,n,s,r)&&(n=null),r||s===null?yw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kn=mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ro=Symbol.for("react.element"),us=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),qu=Symbol.for("react.suspense"),Bu=Symbol.for("react.suspense_list"),kd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),Mg=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function ni(e){return e===null||typeof e!="object"?null:(e=Lh&&e[Lh]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,nu;function mi(e){if(nu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nu=t&&t[1]||""}return`
`+nu+e}var ru=!1;function su(e,t){if(!e||ru)return"";ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ru=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function ww(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=su(e.type,!1),e;case 11:return e=su(e.type.render,!1),e;case 1:return e=su(e.type,!0),e;default:return""}}function Wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cs:return"Fragment";case us:return"Portal";case Hu:return"Profiler";case _d:return"StrictMode";case qu:return"Suspense";case Bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ag:return(e.displayName||"Context")+".Consumer";case jg:return(e._context.displayName||"Context")+".Provider";case wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kd:return t=e.displayName||null,t!==null?t:Wu(e.type)||"Memo";case tr:t=e._payload,e=e._init;try{return Wu(e(t))}catch{}}return null}function kw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(t);case 8:return t===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sw(e){var t=Dg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=Sw(e))}function Lg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ku(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zg(e,t){t=t.checked,t!=null&&vd(e,"checked",t,!1)}function Gu(e,t){Zg(e,t);var n=wr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qu(e,t,n){(t!=="number"||Sa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function Es(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ju(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(gi(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wr(n)}}function Ug(e,t){var n=wr(t.value),r=wr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var No,Vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=No.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$w=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){$w.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bi[t]=bi[e]})});function Hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bi.hasOwnProperty(e)&&bi[e]?(""+t).trim():t+"px"}function qg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ew=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xu(e,t){if(t){if(Ew[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ec(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=null;function Sd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nc=null,bs=null,Ts=null;function Hh(e){if(e=ho(e)){if(typeof nc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=vl(t),nc(e.stateNode,e.type,t))}}function Bg(e){bs?Ts?Ts.push(e):Ts=[e]:bs=e}function Wg(){if(bs){var e=bs,t=Ts;if(Ts=bs=null,Hh(e),t)for(e=0;e<t.length;e++)Hh(t[e])}}function Kg(e,t){return e(t)}function Gg(){}var iu=!1;function Qg(e,t,n){if(iu)return e(t,n);iu=!0;try{return Kg(e,t,n)}finally{iu=!1,(bs!==null||Ts!==null)&&(Gg(),Wg())}}function Vi(e,t){var n=e.stateNode;if(n===null)return null;var r=vl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var rc=!1;if(Fn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){rc=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{rc=!1}function bw(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ti=!1,$a=null,Ea=!1,sc=null,Tw={onError:function(e){Ti=!0,$a=e}};function Pw(e,t,n,r,s,i,o,a,l){Ti=!1,$a=null,bw.apply(Tw,arguments)}function Iw(e,t,n,r,s,i,o,a,l){if(Pw.apply(this,arguments),Ti){if(Ti){var u=$a;Ti=!1,$a=null}else throw Error(C(198));Ea||(Ea=!0,sc=u)}}function ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qh(e){if(ns(e)!==e)throw Error(C(188))}function Rw(e){var t=e.alternate;if(!t){if(t=ns(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qh(s),e;if(i===r)return qh(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Yg(e){return e=Rw(e),e!==null?Xg(e):null}function Xg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xg(e);if(t!==null)return t;e=e.sibling}return null}var ey=Ht.unstable_scheduleCallback,Bh=Ht.unstable_cancelCallback,xw=Ht.unstable_shouldYield,Nw=Ht.unstable_requestPaint,Be=Ht.unstable_now,Ow=Ht.unstable_getCurrentPriorityLevel,$d=Ht.unstable_ImmediatePriority,ty=Ht.unstable_UserBlockingPriority,ba=Ht.unstable_NormalPriority,Cw=Ht.unstable_LowPriority,ny=Ht.unstable_IdlePriority,pl=null,Rn=null;function zw(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Mw,jw=Math.log,Aw=Math.LN2;function Mw(e){return e>>>=0,e===0?32:31-(jw(e)/Aw|0)|0}var Oo=64,Co=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=yi(a):(i&=o,i!==0&&(r=yi(i)))}else o=n&~s,o!==0?r=yi(o):i!==0&&(r=yi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),s=1<<n,r|=e[n],t&=~s;return r}function Dw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Dw(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ry(){var e=Oo;return Oo<<=1,!(Oo&4194240)&&(Oo=64),e}function ou(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function co(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function Zw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ed(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var $e=0;function sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iy,bd,oy,ay,ly,oc=!1,zo=[],dr=null,fr=null,hr=null,Hi=new Map,qi=new Map,sr=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wh(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(t.pointerId)}}function si(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ho(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fw(e,t,n,r,s){switch(t){case"focusin":return dr=si(dr,e,t,n,r,s),!0;case"dragenter":return fr=si(fr,e,t,n,r,s),!0;case"mouseover":return hr=si(hr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hi.set(i,si(Hi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qi.set(i,si(qi.get(i)||null,e,t,n,r,s)),!0}return!1}function uy(e){var t=Dr(e.target);if(t!==null){var n=ns(t);if(n!==null){if(t=n.tag,t===13){if(t=Jg(n),t!==null){e.blockedOn=t,ly(e.priority,function(){oy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ac(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tc=r,n.target.dispatchEvent(r),tc=null}else return t=ho(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function Kh(e,t,n){oa(e)&&n.delete(t)}function Vw(){oc=!1,dr!==null&&oa(dr)&&(dr=null),fr!==null&&oa(fr)&&(fr=null),hr!==null&&oa(hr)&&(hr=null),Hi.forEach(Kh),qi.forEach(Kh)}function ii(e,t){e.blockedOn===t&&(e.blockedOn=null,oc||(oc=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,Vw)))}function Bi(e){function t(s){return ii(s,e)}if(0<zo.length){ii(zo[0],e);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dr!==null&&ii(dr,e),fr!==null&&ii(fr,e),hr!==null&&ii(hr,e),Hi.forEach(t),qi.forEach(t),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)uy(n),n.blockedOn===null&&sr.shift()}var Ps=Kn.ReactCurrentBatchConfig,Pa=!0;function Hw(e,t,n,r){var s=$e,i=Ps.transition;Ps.transition=null;try{$e=1,Td(e,t,n,r)}finally{$e=s,Ps.transition=i}}function qw(e,t,n,r){var s=$e,i=Ps.transition;Ps.transition=null;try{$e=4,Td(e,t,n,r)}finally{$e=s,Ps.transition=i}}function Td(e,t,n,r){if(Pa){var s=ac(e,t,n,r);if(s===null)gu(e,t,r,Ia,n),Wh(e,r);else if(Fw(s,e,t,n,r))r.stopPropagation();else if(Wh(e,r),t&4&&-1<Uw.indexOf(e)){for(;s!==null;){var i=ho(s);if(i!==null&&iy(i),i=ac(e,t,n,r),i===null&&gu(e,t,r,Ia,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gu(e,t,r,null,n)}}var Ia=null;function ac(e,t,n,r){if(Ia=null,e=Sd(r),e=Dr(e),e!==null)if(t=ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function cy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ow()){case $d:return 1;case ty:return 4;case ba:case Cw:return 16;case ny:return 536870912;default:return 16}default:return 16}}var lr=null,Pd=null,aa=null;function dy(){if(aa)return aa;var e,t=Pd,n=t.length,r,s="value"in lr?lr.value:lr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return aa=s.slice(e,1<r?1-r:void 0)}function la(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Gh(){return!1}function Wt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Gh,this.isPropagationStopped=Gh,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=Wt(Ks),fo=Le({},Ks,{view:0,detail:0}),Bw=Wt(fo),au,lu,oi,ml=Le({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(au=e.screenX-oi.screenX,lu=e.screenY-oi.screenY):lu=au=0,oi=e),au)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),Qh=Wt(ml),Ww=Le({},ml,{dataTransfer:0}),Kw=Wt(Ww),Gw=Le({},fo,{relatedTarget:0}),uu=Wt(Gw),Qw=Le({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Jw=Wt(Qw),Yw=Le({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xw=Wt(Yw),e1=Le({},Ks,{data:0}),Jh=Wt(e1),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r1[e])?!!t[e]:!1}function Rd(){return s1}var i1=Le({},fo,{key:function(e){if(e.key){var t=t1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o1=Wt(i1),a1=Le({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=Wt(a1),l1=Le({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),u1=Wt(l1),c1=Le({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=Wt(c1),f1=Le({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=Wt(f1),p1=[9,13,27,32],xd=Fn&&"CompositionEvent"in window,Pi=null;Fn&&"documentMode"in document&&(Pi=document.documentMode);var m1=Fn&&"TextEvent"in window&&!Pi,fy=Fn&&(!xd||Pi&&8<Pi&&11>=Pi),Xh=" ",ep=!1;function hy(e,t){switch(e){case"keyup":return p1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function g1(e,t){switch(e){case"compositionend":return py(t);case"keypress":return t.which!==32?null:(ep=!0,Xh);case"textInput":return e=t.data,e===Xh&&ep?null:e;default:return null}}function y1(e,t){if(ds)return e==="compositionend"||!xd&&hy(e,t)?(e=dy(),aa=Pd=lr=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fy&&t.locale!=="ko"?null:t.data;default:return null}}var v1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v1[e.type]:t==="textarea"}function my(e,t,n,r){Bg(r),t=Ra(t,"onChange"),0<t.length&&(n=new Id("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ii=null,Wi=null;function _1(e){Ty(e,0)}function gl(e){var t=ps(e);if(Lg(t))return e}function w1(e,t){if(e==="change")return t}var gy=!1;if(Fn){var cu;if(Fn){var du="oninput"in document;if(!du){var np=document.createElement("div");np.setAttribute("oninput","return;"),du=typeof np.oninput=="function"}cu=du}else cu=!1;gy=cu&&(!document.documentMode||9<document.documentMode)}function rp(){Ii&&(Ii.detachEvent("onpropertychange",yy),Wi=Ii=null)}function yy(e){if(e.propertyName==="value"&&gl(Wi)){var t=[];my(t,Wi,e,Sd(e)),Qg(_1,t)}}function k1(e,t,n){e==="focusin"?(rp(),Ii=t,Wi=n,Ii.attachEvent("onpropertychange",yy)):e==="focusout"&&rp()}function S1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Wi)}function $1(e,t){if(e==="click")return gl(t)}function E1(e,t){if(e==="input"||e==="change")return gl(t)}function b1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:b1;function Ki(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vu.call(t,s)||!kn(e[s],t[s]))return!1}return!0}function sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ip(e,t){var n=sp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sp(n)}}function vy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _y(){for(var e=window,t=Sa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sa(e.document)}return t}function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T1(e){var t=_y(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vy(n.ownerDocument.documentElement,n)){if(r!==null&&Nd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ip(n,i);var o=ip(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P1=Fn&&"documentMode"in document&&11>=document.documentMode,fs=null,lc=null,Ri=null,uc=!1;function op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uc||fs==null||fs!==Sa(r)||(r=fs,"selectionStart"in r&&Nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Ki(Ri,r)||(Ri=r,r=Ra(lc,"onSelect"),0<r.length&&(t=new Id("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fs)))}function Ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hs={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},fu={},wy={};Fn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function yl(e){if(fu[e])return fu[e];if(!hs[e])return e;var t=hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wy)return fu[e]=t[n];return e}var ky=yl("animationend"),Sy=yl("animationiteration"),$y=yl("animationstart"),Ey=yl("transitionend"),by=new Map,ap="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){by.set(e,t),ts(t,[e])}for(var hu=0;hu<ap.length;hu++){var pu=ap[hu],I1=pu.toLowerCase(),R1=pu[0].toUpperCase()+pu.slice(1);Tr(I1,"on"+R1)}Tr(ky,"onAnimationEnd");Tr(Sy,"onAnimationIteration");Tr($y,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(Ey,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function lp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Iw(r,t,void 0,e),e.currentTarget=null}function Ty(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lp(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lp(s,a,u),i=l}}}if(Ea)throw e=sc,Ea=!1,sc=null,e}function Re(e,t){var n=t[pc];n===void 0&&(n=t[pc]=new Set);var r=e+"__bubble";n.has(r)||(Py(t,e,2,!1),n.add(r))}function mu(e,t,n){var r=0;t&&(r|=4),Py(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Mo]){e[Mo]=!0,zg.forEach(function(n){n!=="selectionchange"&&(x1.has(n)||mu(n,!1,e),mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,mu("selectionchange",!1,t))}}function Py(e,t,n,r){switch(cy(t)){case 1:var s=Hw;break;case 4:s=qw;break;default:s=Td}n=s.bind(null,t,n,e),s=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Qg(function(){var u=i,c=Sd(n),f=[];e:{var m=by.get(e);if(m!==void 0){var v=Id,g=e;switch(e){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":v=o1;break;case"focusin":g="focus",v=uu;break;case"focusout":g="blur",v=uu;break;case"beforeblur":case"afterblur":v=uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=u1;break;case ky:case Sy:case $y:v=Jw;break;case Ey:v=d1;break;case"scroll":v=Bw;break;case"wheel":v=h1;break;case"copy":case"cut":case"paste":v=Xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yh}var _=(t&4)!==0,w=!_&&e==="scroll",d=_?m!==null?m+"Capture":null:m;_=[];for(var h=u,p;h!==null;){p=h;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,d!==null&&(k=Vi(h,d),k!=null&&_.push(Qi(h,k,p)))),w)break;h=h.return}0<_.length&&(m=new v(m,g,null,n,c),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==tc&&(g=n.relatedTarget||n.fromElement)&&(Dr(g)||g[Vn]))break e;if((v||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?Dr(g):null,g!==null&&(w=ns(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(_=Qh,k="onMouseLeave",d="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(_=Yh,k="onPointerLeave",d="onPointerEnter",h="pointer"),w=v==null?m:ps(v),p=g==null?m:ps(g),m=new _(k,h+"leave",v,n,c),m.target=w,m.relatedTarget=p,k=null,Dr(c)===u&&(_=new _(d,h+"enter",g,n,c),_.target=p,_.relatedTarget=w,k=_),w=k,v&&g)t:{for(_=v,d=g,h=0,p=_;p;p=ss(p))h++;for(p=0,k=d;k;k=ss(k))p++;for(;0<h-p;)_=ss(_),h--;for(;0<p-h;)d=ss(d),p--;for(;h--;){if(_===d||d!==null&&_===d.alternate)break t;_=ss(_),d=ss(d)}_=null}else _=null;v!==null&&up(f,m,v,_,!1),g!==null&&w!==null&&up(f,w,g,_,!0)}}e:{if(m=u?ps(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var $=w1;else if(tp(m))if(gy)$=E1;else{$=S1;var R=k1}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&($=$1);if($&&($=$(e,u))){my(f,$,n,c);break e}R&&R(e,m,u),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Qu(m,"number",m.value)}switch(R=u?ps(u):window,e){case"focusin":(tp(R)||R.contentEditable==="true")&&(fs=R,lc=u,Ri=null);break;case"focusout":Ri=lc=fs=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,op(f,n,c);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":op(f,n,c)}var x;if(xd)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ds?hy(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(fy&&n.locale!=="ko"&&(ds||j!=="onCompositionStart"?j==="onCompositionEnd"&&ds&&(x=dy()):(lr=c,Pd="value"in lr?lr.value:lr.textContent,ds=!0)),R=Ra(u,j),0<R.length&&(j=new Jh(j,e,null,n,c),f.push({event:j,listeners:R}),x?j.data=x:(x=py(n),x!==null&&(j.data=x)))),(x=m1?g1(e,n):y1(e,n))&&(u=Ra(u,"onBeforeInput"),0<u.length&&(c=new Jh("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}Ty(f,t)})}function Qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ra(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vi(e,n),i!=null&&r.unshift(Qi(e,i,s)),i=Vi(e,t),i!=null&&r.push(Qi(e,i,s))),e=e.return}return r}function ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function up(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Vi(n,i),l!=null&&o.unshift(Qi(n,l,a))):s||(l=Vi(n,i),l!=null&&o.push(Qi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var N1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(N1,`
`).replace(O1,"")}function Do(e,t,n){if(t=cp(t),cp(e)!==t&&n)throw Error(C(425))}function xa(){}var cc=null,dc=null;function fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(j1)}:hc;function j1(e){setTimeout(function(){throw e})}function yu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bi(t)}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),bn="__reactFiber$"+Gs,Ji="__reactProps$"+Gs,Vn="__reactContainer$"+Gs,pc="__reactEvents$"+Gs,A1="__reactListeners$"+Gs,M1="__reactHandles$"+Gs;function Dr(e){var t=e[bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fp(e);e!==null;){if(n=e[bn])return n;e=fp(e)}return t}e=n,n=e.parentNode}return null}function ho(e){return e=e[bn]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function vl(e){return e[Ji]||null}var mc=[],ms=-1;function Pr(e){return{current:e}}function Ne(e){0>ms||(e.current=mc[ms],mc[ms]=null,ms--)}function Te(e,t){ms++,mc[ms]=e.current,e.current=t}var kr={},vt=Pr(kr),Ct=Pr(!1),Wr=kr;function zs(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zt(e){return e=e.childContextTypes,e!=null}function Na(){Ne(Ct),Ne(vt)}function hp(e,t,n){if(vt.current!==kr)throw Error(C(168));Te(vt,t),Te(Ct,n)}function Iy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,kw(e)||"Unknown",s));return Le({},n,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Wr=vt.current,Te(vt,e),Te(Ct,Ct.current),!0}function pp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Iy(e,t,Wr),r.__reactInternalMemoizedMergedChildContext=e,Ne(Ct),Ne(vt),Te(vt,e)):Ne(Ct),Te(Ct,n)}var zn=null,_l=!1,vu=!1;function Ry(e){zn===null?zn=[e]:zn.push(e)}function D1(e){_l=!0,Ry(e)}function Ir(){if(!vu&&zn!==null){vu=!0;var e=0,t=$e;try{var n=zn;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zn=null,_l=!1}catch(s){throw zn!==null&&(zn=zn.slice(e+1)),ey($d,Ir),s}finally{$e=t,vu=!1}}return null}var gs=[],ys=0,Ca=null,za=0,Jt=[],Yt=0,Kr=null,An=1,Mn="";function Or(e,t){gs[ys++]=za,gs[ys++]=Ca,Ca=e,za=t}function xy(e,t,n){Jt[Yt++]=An,Jt[Yt++]=Mn,Jt[Yt++]=Kr,Kr=e;var r=An;e=Mn;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var i=32-yn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,An=1<<32-yn(t)+s|n<<s|r,Mn=i+e}else An=1<<i|n<<s|r,Mn=e}function Od(e){e.return!==null&&(Or(e,1),xy(e,1,0))}function Cd(e){for(;e===Ca;)Ca=gs[--ys],gs[ys]=null,za=gs[--ys],gs[ys]=null;for(;e===Kr;)Kr=Jt[--Yt],Jt[Yt]=null,Mn=Jt[--Yt],Jt[Yt]=null,An=Jt[--Yt],Jt[Yt]=null}var Vt=null,Ft=null,Ce=!1,mn=null;function Ny(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Ft=pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kr!==null?{id:An,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vt=e,Ft=null,!0):!1;default:return!1}}function gc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yc(e){if(Ce){var t=Ft;if(t){var n=t;if(!mp(e,t)){if(gc(e))throw Error(C(418));t=pr(n.nextSibling);var r=Vt;t&&mp(e,t)?Ny(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Vt=e)}}else{if(gc(e))throw Error(C(418));e.flags=e.flags&-4097|2,Ce=!1,Vt=e}}}function gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function Lo(e){if(e!==Vt)return!1;if(!Ce)return gp(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fc(e.type,e.memoizedProps)),t&&(t=Ft)){if(gc(e))throw Oy(),Error(C(418));for(;t;)Ny(e,t),t=pr(t.nextSibling)}if(gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ft=pr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Vt?pr(e.stateNode.nextSibling):null;return!0}function Oy(){for(var e=Ft;e;)e=pr(e.nextSibling)}function js(){Ft=Vt=null,Ce=!1}function zd(e){mn===null?mn=[e]:mn.push(e)}var L1=Kn.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yp(e){var t=e._init;return t(e._payload)}function Cy(e){function t(d,h){if(e){var p=d.deletions;p===null?(d.deletions=[h],d.flags|=16):p.push(h)}}function n(d,h){if(!e)return null;for(;h!==null;)t(d,h),h=h.sibling;return null}function r(d,h){for(d=new Map;h!==null;)h.key!==null?d.set(h.key,h):d.set(h.index,h),h=h.sibling;return d}function s(d,h){return d=vr(d,h),d.index=0,d.sibling=null,d}function i(d,h,p){return d.index=p,e?(p=d.alternate,p!==null?(p=p.index,p<h?(d.flags|=2,h):p):(d.flags|=2,h)):(d.flags|=1048576,h)}function o(d){return e&&d.alternate===null&&(d.flags|=2),d}function a(d,h,p,k){return h===null||h.tag!==6?(h=bu(p,d.mode,k),h.return=d,h):(h=s(h,p),h.return=d,h)}function l(d,h,p,k){var $=p.type;return $===cs?c(d,h,p.props.children,k,p.key):h!==null&&(h.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===tr&&yp($)===h.type)?(k=s(h,p.props),k.ref=ai(d,h,p),k.return=d,k):(k=ma(p.type,p.key,p.props,null,d.mode,k),k.ref=ai(d,h,p),k.return=d,k)}function u(d,h,p,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Tu(p,d.mode,k),h.return=d,h):(h=s(h,p.children||[]),h.return=d,h)}function c(d,h,p,k,$){return h===null||h.tag!==7?(h=Br(p,d.mode,k,$),h.return=d,h):(h=s(h,p),h.return=d,h)}function f(d,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=bu(""+h,d.mode,p),h.return=d,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ro:return p=ma(h.type,h.key,h.props,null,d.mode,p),p.ref=ai(d,null,h),p.return=d,p;case us:return h=Tu(h,d.mode,p),h.return=d,h;case tr:var k=h._init;return f(d,k(h._payload),p)}if(gi(h)||ni(h))return h=Br(h,d.mode,p,null),h.return=d,h;Zo(d,h)}return null}function m(d,h,p,k){var $=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return $!==null?null:a(d,h,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:return p.key===$?l(d,h,p,k):null;case us:return p.key===$?u(d,h,p,k):null;case tr:return $=p._init,m(d,h,$(p._payload),k)}if(gi(p)||ni(p))return $!==null?null:c(d,h,p,k,null);Zo(d,p)}return null}function v(d,h,p,k,$){if(typeof k=="string"&&k!==""||typeof k=="number")return d=d.get(p)||null,a(h,d,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ro:return d=d.get(k.key===null?p:k.key)||null,l(h,d,k,$);case us:return d=d.get(k.key===null?p:k.key)||null,u(h,d,k,$);case tr:var R=k._init;return v(d,h,p,R(k._payload),$)}if(gi(k)||ni(k))return d=d.get(p)||null,c(h,d,k,$,null);Zo(h,k)}return null}function g(d,h,p,k){for(var $=null,R=null,x=h,j=h=0,re=null;x!==null&&j<p.length;j++){x.index>j?(re=x,x=null):re=x.sibling;var te=m(d,x,p[j],k);if(te===null){x===null&&(x=re);break}e&&x&&te.alternate===null&&t(d,x),h=i(te,h,j),R===null?$=te:R.sibling=te,R=te,x=re}if(j===p.length)return n(d,x),Ce&&Or(d,j),$;if(x===null){for(;j<p.length;j++)x=f(d,p[j],k),x!==null&&(h=i(x,h,j),R===null?$=x:R.sibling=x,R=x);return Ce&&Or(d,j),$}for(x=r(d,x);j<p.length;j++)re=v(x,d,j,p[j],k),re!==null&&(e&&re.alternate!==null&&x.delete(re.key===null?j:re.key),h=i(re,h,j),R===null?$=re:R.sibling=re,R=re);return e&&x.forEach(function(V){return t(d,V)}),Ce&&Or(d,j),$}function _(d,h,p,k){var $=ni(p);if(typeof $!="function")throw Error(C(150));if(p=$.call(p),p==null)throw Error(C(151));for(var R=$=null,x=h,j=h=0,re=null,te=p.next();x!==null&&!te.done;j++,te=p.next()){x.index>j?(re=x,x=null):re=x.sibling;var V=m(d,x,te.value,k);if(V===null){x===null&&(x=re);break}e&&x&&V.alternate===null&&t(d,x),h=i(V,h,j),R===null?$=V:R.sibling=V,R=V,x=re}if(te.done)return n(d,x),Ce&&Or(d,j),$;if(x===null){for(;!te.done;j++,te=p.next())te=f(d,te.value,k),te!==null&&(h=i(te,h,j),R===null?$=te:R.sibling=te,R=te);return Ce&&Or(d,j),$}for(x=r(d,x);!te.done;j++,te=p.next())te=v(x,d,j,te.value,k),te!==null&&(e&&te.alternate!==null&&x.delete(te.key===null?j:te.key),h=i(te,h,j),R===null?$=te:R.sibling=te,R=te);return e&&x.forEach(function(X){return t(d,X)}),Ce&&Or(d,j),$}function w(d,h,p,k){if(typeof p=="object"&&p!==null&&p.type===cs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:e:{for(var $=p.key,R=h;R!==null;){if(R.key===$){if($=p.type,$===cs){if(R.tag===7){n(d,R.sibling),h=s(R,p.props.children),h.return=d,d=h;break e}}else if(R.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===tr&&yp($)===R.type){n(d,R.sibling),h=s(R,p.props),h.ref=ai(d,R,p),h.return=d,d=h;break e}n(d,R);break}else t(d,R);R=R.sibling}p.type===cs?(h=Br(p.props.children,d.mode,k,p.key),h.return=d,d=h):(k=ma(p.type,p.key,p.props,null,d.mode,k),k.ref=ai(d,h,p),k.return=d,d=k)}return o(d);case us:e:{for(R=p.key;h!==null;){if(h.key===R)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(d,h.sibling),h=s(h,p.children||[]),h.return=d,d=h;break e}else{n(d,h);break}else t(d,h);h=h.sibling}h=Tu(p,d.mode,k),h.return=d,d=h}return o(d);case tr:return R=p._init,w(d,h,R(p._payload),k)}if(gi(p))return g(d,h,p,k);if(ni(p))return _(d,h,p,k);Zo(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(d,h.sibling),h=s(h,p),h.return=d,d=h):(n(d,h),h=bu(p,d.mode,k),h.return=d,d=h),o(d)):n(d,h)}return w}var As=Cy(!0),zy=Cy(!1),ja=Pr(null),Aa=null,vs=null,jd=null;function Ad(){jd=vs=Aa=null}function Md(e){var t=ja.current;Ne(ja),e._currentValue=t}function vc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Aa=e,jd=vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(jd!==e)if(e={context:e,memoizedValue:t,next:null},vs===null){if(Aa===null)throw Error(C(308));vs=e,Aa.dependencies={lanes:0,firstContext:e}}else vs=vs.next=e;return t}var Lr=null;function Dd(e){Lr===null?Lr=[e]:Lr.push(e)}function jy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Hn(e,r)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nr=!1;function Ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ay(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Hn(e,n)}return s=r.interleaved,s===null?(t.next=t,Dd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Hn(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ed(e,n)}}function vp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var s=e.updateQueue;nr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(m=t,v=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(v,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,m=typeof g=="function"?g.call(v,f,m):g,m==null)break e;f=Le({},f,m);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=f):c=c.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qr|=o,e.lanes=o,e.memoizedState=f}}function _p(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var po={},xn=Pr(po),Yi=Pr(po),Xi=Pr(po);function Zr(e){if(e===po)throw Error(C(174));return e}function Zd(e,t){switch(Te(Xi,t),Te(Yi,e),Te(xn,po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yu(t,e)}Ne(xn),Te(xn,t)}function Ms(){Ne(xn),Ne(Yi),Ne(Xi)}function My(e){Zr(Xi.current);var t=Zr(xn.current),n=Yu(t,e.type);t!==n&&(Te(Yi,e),Te(xn,n))}function Ud(e){Yi.current===e&&(Ne(xn),Ne(Yi))}var je=Pr(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _u=[];function Fd(){for(var e=0;e<_u.length;e++)_u[e]._workInProgressVersionPrimary=null;_u.length=0}var ca=Kn.ReactCurrentDispatcher,wu=Kn.ReactCurrentBatchConfig,Gr=0,Ae=null,Ge=null,et=null,La=!1,xi=!1,eo=0,Z1=0;function pt(){throw Error(C(321))}function Vd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Hd(e,t,n,r,s,i){if(Gr=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=e===null||e.memoizedState===null?H1:q1,e=n(r,s),xi){i=0;do{if(xi=!1,eo=0,25<=i)throw Error(C(301));i+=1,et=Ge=null,t.updateQueue=null,ca.current=B1,e=n(r,s)}while(xi)}if(ca.current=Za,t=Ge!==null&&Ge.next!==null,Gr=0,et=Ge=Ae=null,La=!1,t)throw Error(C(300));return e}function qd(){var e=eo!==0;return eo=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ae.memoizedState=et=e:et=et.next=e,et}function nn(){if(Ge===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=et===null?Ae.memoizedState:et.next;if(t!==null)et=t,Ge=e;else{if(e===null)throw Error(C(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?Ae.memoizedState=et=e:et=et.next=e}return et}function to(e,t){return typeof t=="function"?t(e):t}function ku(e){var t=nn(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Gr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ae.lanes|=c,Qr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,kn(r,t.memoizedState)||(Nt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,Qr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=nn(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);kn(i,t.memoizedState)||(Nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Dy(){}function Ly(e,t){var n=Ae,r=nn(),s=t(),i=!kn(r.memoizedState,s);if(i&&(r.memoizedState=s,Nt=!0),r=r.queue,Bd(Fy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,no(9,Uy.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(C(349));Gr&30||Zy(n,t,s)}return s}function Zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uy(e,t,n,r){t.value=n,t.getSnapshot=r,Vy(t)&&Hy(e)}function Fy(e,t,n){return n(function(){Vy(t)&&Hy(e)})}function Vy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function Hy(e){var t=Hn(e,1);t!==null&&vn(t,e,1,-1)}function wp(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:e},t.queue=e,e=e.dispatch=V1.bind(null,Ae,e),[t.memoizedState,e]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qy(){return nn().memoizedState}function da(e,t,n,r){var s=En();Ae.flags|=e,s.memoizedState=no(1|t,n,void 0,r===void 0?null:r)}function wl(e,t,n,r){var s=nn();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&Vd(r,o.deps)){s.memoizedState=no(t,n,i,r);return}}Ae.flags|=e,s.memoizedState=no(1|t,n,i,r)}function kp(e,t){return da(8390656,8,e,t)}function Bd(e,t){return wl(2048,8,e,t)}function By(e,t){return wl(4,2,e,t)}function Wy(e,t){return wl(4,4,e,t)}function Ky(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gy(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,Ky.bind(null,t,e),n)}function Wd(){}function Qy(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jy(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yy(e,t,n){return Gr&21?(kn(n,t)||(n=ry(),Ae.lanes|=n,Qr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=n)}function U1(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=wu.transition;wu.transition={};try{e(!1),t()}finally{$e=n,wu.transition=r}}function Xy(){return nn().memoizedState}function F1(e,t,n){var r=yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ev(e))tv(t,n);else if(n=jy(e,t,n,r),n!==null){var s=bt();vn(n,e,r,s),nv(n,t,r)}}function V1(e,t,n){var r=yr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ev(e))tv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,kn(a,o)){var l=t.interleaved;l===null?(s.next=s,Dd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=jy(e,t,s,r),n!==null&&(s=bt(),vn(n,e,r,s),nv(n,t,r))}}function ev(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function tv(e,t){xi=La=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ed(e,n)}}var Za={readContext:tn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},H1={readContext:tn,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,da(4194308,4,Ky.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=F1.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:wp,useDebugValue:Wd,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=wp(!1),t=e[0];return e=U1.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,s=En();if(Ce){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),tt===null)throw Error(C(349));Gr&30||Zy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kp(Fy.bind(null,r,i,e),[e]),r.flags|=2048,no(9,Uy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=En(),t=tt.identifierPrefix;if(Ce){var n=Mn,r=An;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=eo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q1={readContext:tn,useCallback:Qy,useContext:tn,useEffect:Bd,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Wy,useMemo:Jy,useReducer:ku,useRef:qy,useState:function(){return ku(to)},useDebugValue:Wd,useDeferredValue:function(e){var t=nn();return Yy(t,Ge.memoizedState,e)},useTransition:function(){var e=ku(to)[0],t=nn().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:Ly,useId:Xy,unstable_isNewReconciler:!1},B1={readContext:tn,useCallback:Qy,useContext:tn,useEffect:Bd,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Wy,useMemo:Jy,useReducer:Su,useRef:qy,useState:function(){return Su(to)},useDebugValue:Wd,useDeferredValue:function(e){var t=nn();return Ge===null?t.memoizedState=e:Yy(t,Ge.memoizedState,e)},useTransition:function(){var e=Su(to)[0],t=nn().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:Ly,useId:Xy,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _c(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kl={isMounted:function(e){return(e=e._reactInternals)?ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bt(),s=yr(e),i=Dn(r,s);i.payload=t,n!=null&&(i.callback=n),t=mr(e,i,s),t!==null&&(vn(t,e,s,r),ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bt(),s=yr(e),i=Dn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mr(e,i,s),t!==null&&(vn(t,e,s,r),ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bt(),r=yr(e),s=Dn(n,r);s.tag=2,t!=null&&(s.callback=t),t=mr(e,s,r),t!==null&&(vn(t,e,r,n),ua(t,e,r))}};function Sp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ki(n,r)||!Ki(s,i):!0}function rv(e,t,n){var r=!1,s=kr,i=t.contextType;return typeof i=="object"&&i!==null?i=tn(i):(s=zt(t)?Wr:vt.current,r=t.contextTypes,i=(r=r!=null)?zs(e,s):kr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function $p(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kl.enqueueReplaceState(t,t.state,null)}function wc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ld(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tn(i):(i=zt(t)?Wr:vt.current,s.context=zs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_c(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kl.enqueueReplaceState(s,s.state,null),Ma(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,t){try{var n="",r=t;do n+=ww(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $u(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var W1=typeof WeakMap=="function"?WeakMap:Map;function sv(e,t,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fa||(Fa=!0,Nc=r),kc(e,t)},n}function iv(e,t,n){n=Dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){kc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kc(e,t),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ep(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new W1;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ak.bind(null,e,t,n),t.then(e,e))}function bp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dn(-1,1),t.tag=2,mr(n,t,1))),n.lanes|=1),e)}var K1=Kn.ReactCurrentOwner,Nt=!1;function $t(e,t,n,r){t.child=e===null?zy(t,null,n,r):As(t,e.child,n,r)}function Pp(e,t,n,r,s){n=n.render;var i=t.ref;return Is(t,s),r=Hd(e,t,n,r,i,s),n=qd(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Ce&&n&&Od(t),t.flags|=1,$t(e,t,r,s),t.child)}function Ip(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!tf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ov(e,t,i,r,s)):(e=ma(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(o,r)&&e.ref===t.ref)return qn(e,t,s)}return t.flags|=1,e=vr(i,r),e.ref=t.ref,e.return=t,t.child=e}function ov(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ki(i,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,qn(e,t,s)}return Sc(e,t,n,r,s)}function av(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ws,Zt),Zt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(ws,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(ws,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Te(ws,Zt),Zt|=r;return $t(e,t,s,n),t.child}function lv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sc(e,t,n,r,s){var i=zt(n)?Wr:vt.current;return i=zs(t,i),Is(t,s),n=Hd(e,t,n,r,i,s),r=qd(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qn(e,t,s)):(Ce&&r&&Od(t),t.flags|=1,$t(e,t,n,s),t.child)}function Rp(e,t,n,r,s){if(zt(n)){var i=!0;Oa(t)}else i=!1;if(Is(t,s),t.stateNode===null)fa(e,t),rv(t,n,r),wc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=zt(n)?Wr:vt.current,u=zs(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$p(t,o,r,u),nr=!1;var m=t.memoizedState;o.state=m,Ma(t,r,o,s),l=t.memoizedState,a!==r||m!==l||Ct.current||nr?(typeof c=="function"&&(_c(t,n,c,r),l=t.memoizedState),(a=nr||Sp(t,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ay(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:hn(t.type,a),o.props=u,f=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=zt(n)?Wr:vt.current,l=zs(t,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&$p(t,o,r,l),nr=!1,m=t.memoizedState,o.state=m,Ma(t,r,o,s);var g=t.memoizedState;a!==f||m!==g||Ct.current||nr?(typeof v=="function"&&(_c(t,n,v,r),g=t.memoizedState),(u=nr||Sp(t,n,u,r,m,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return $c(e,t,n,r,i,s)}function $c(e,t,n,r,s,i){lv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&pp(t,n,!1),qn(e,t,i);r=t.stateNode,K1.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,i),t.child=As(t,null,a,i)):$t(e,t,a,i),t.memoizedState=r.state,s&&pp(t,n,!0),t.child}function uv(e){var t=e.stateNode;t.pendingContext?hp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hp(e,t.context,!1),Zd(e,t.containerInfo)}function xp(e,t,n,r,s){return js(),zd(s),t.flags|=256,$t(e,t,n,r),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function bc(e){return{baseLanes:e,cachePool:null,transitions:null}}function cv(e,t,n){var r=t.pendingProps,s=je.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(je,s&1),e===null)return yc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=El(o,r,0,null),e=Br(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bc(n),t.memoizedState=Ec,e):Kd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return G1(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=vr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vr(a,i):(i=Br(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?bc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ec,r}return i=e.child,e=i.sibling,r=vr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kd(e,t){return t=El({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&zd(r),As(t,e.child,null,n),e=Kd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G1(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=$u(Error(C(422))),Uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=El({mode:"visible",children:r.children},s,0,null),i=Br(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=bc(o),t.memoizedState=Ec,i);if(!(t.mode&1))return Uo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=$u(i,r,void 0),Uo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Nt||a){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hn(e,s),vn(r,e,s,-1))}return ef(),r=$u(Error(C(421))),Uo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ft=pr(s.nextSibling),Vt=t,Ce=!0,mn=null,e!==null&&(Jt[Yt++]=An,Jt[Yt++]=Mn,Jt[Yt++]=Kr,An=e.id,Mn=e.overflow,Kr=t),t=Kd(t,r.children),t.flags|=4096,t)}function Np(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vc(e.return,t,n)}function Eu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dv(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if($t(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,n,t);else if(e.tag===19)Np(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(je,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Da(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Eu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Da(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Eu(t,!0,n,null,i);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Q1(e,t,n){switch(t.tag){case 3:uv(t),js();break;case 5:My(t);break;case 1:zt(t.type)&&Oa(t);break;case 4:Zd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te(ja,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?cv(e,t,n):(Te(je,je.current&1),e=qn(e,t,n),e!==null?e.sibling:null);Te(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,av(e,t,n)}return qn(e,t,n)}var fv,Tc,hv,pv;fv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tc=function(){};hv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zr(xn.current);var i=null;switch(n){case"input":s=Ku(e,s),r=Ku(e,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Ju(e,s),r=Ju(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xa)}Xu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ui.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ui.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pv=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function J1(e,t,n){var r=t.pendingProps;switch(Cd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return zt(t.type)&&Na(),mt(t),null;case 3:return r=t.stateNode,Ms(),Ne(Ct),Ne(vt),Fd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(zc(mn),mn=null))),Tc(e,t),mt(t),null;case 5:Ud(t);var s=Zr(Xi.current);if(n=t.type,e!==null&&t.stateNode!=null)hv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return mt(t),null}if(e=Zr(xn.current),Lo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bn]=t,r[Ji]=i,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<vi.length;s++)Re(vi[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Zh(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Fh(r,i),Re("invalid",r)}Xu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",""+a]):Ui.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":xo(r),Uh(r,i,!0);break;case"textarea":xo(r),Vh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bn]=t,e[Ji]=r,fv(e,t,!1,!1),t.stateNode=e;e:{switch(o=ec(n,r),n){case"dialog":Re("cancel",e),Re("close",e),s=r;break;case"iframe":case"object":case"embed":Re("load",e),s=r;break;case"video":case"audio":for(s=0;s<vi.length;s++)Re(vi[s],e);s=r;break;case"source":Re("error",e),s=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),s=r;break;case"details":Re("toggle",e),s=r;break;case"input":Zh(e,r),s=Ku(e,r),Re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Re("invalid",e);break;case"textarea":Fh(e,r),s=Ju(e,r),Re("invalid",e);break;default:s=r}Xu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?qg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vg(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fi(e,l):typeof l=="number"&&Fi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ui.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Re("scroll",e):l!=null&&vd(e,i,l,o))}switch(n){case"input":xo(e),Uh(e,r,!1);break;case"textarea":xo(e),Vh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Es(e,!!r.multiple,i,!1):r.defaultValue!=null&&Es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)pv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Zr(Xi.current),Zr(xn.current),Lo(t)){if(r=t.stateNode,n=t.memoizedProps,r[bn]=t,(i=r.nodeValue!==n)&&(e=Vt,e!==null))switch(e.tag){case 3:Do(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=t,t.stateNode=r}return mt(t),null;case 13:if(Ne(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Ft!==null&&t.mode&1&&!(t.flags&128))Oy(),js(),t.flags|=98560,i=!1;else if(i=Lo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[bn]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),i=!1}else mn!==null&&(zc(mn),mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Je===0&&(Je=3):ef())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Ms(),Tc(e,t),e===null&&Gi(t.stateNode.containerInfo),mt(t),null;case 10:return Md(t.type._context),mt(t),null;case 17:return zt(t.type)&&Na(),mt(t),null;case 19:if(Ne(je),i=t.memoizedState,i===null)return mt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)li(i,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Da(e),o!==null){for(t.flags|=128,li(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>Ls&&(t.flags|=128,r=!0,li(i,!1),t.lanes=4194304)}else{if(!r)if(e=Da(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return mt(t),null}else 2*Be()-i.renderingStartTime>Ls&&n!==1073741824&&(t.flags|=128,r=!0,li(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,n=je.current,Te(je,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return Xd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Y1(e,t){switch(Cd(t),t.tag){case 1:return zt(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),Ne(Ct),Ne(vt),Fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ud(t),null;case 13:if(Ne(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(je),null;case 4:return Ms(),null;case 10:return Md(t.type._context),null;case 22:case 23:return Xd(),null;case 24:return null;default:return null}}var Fo=!1,yt=!1,X1=typeof WeakSet=="function"?WeakSet:Set,F=null;function _s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Pc(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var Op=!1;function ek(e,t){if(cc=Pa,e=_y(),Nd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++u===s&&(a=o),m===i&&++c===r&&(l=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dc={focusedElem:e,selectionRange:n},Pa=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,d=t.stateNode,h=d.getSnapshotBeforeUpdate(t.elementType===t.type?_:hn(t.type,_),w);d.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){Ve(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=Op,Op=!1,g}function Ni(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pc(t,n,i)}s=s.next}while(s!==r)}}function Sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ic(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mv(e){var t=e.alternate;t!==null&&(e.alternate=null,mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[Ji],delete t[pc],delete t[A1],delete t[M1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gv(e){return e.tag===5||e.tag===3||e.tag===4}function Cp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xa));else if(r!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function xc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}var it=null,pn=!1;function Qn(e,t,n){for(n=n.child;n!==null;)yv(e,t,n),n=n.sibling}function yv(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:yt||_s(n,t);case 6:var r=it,s=pn;it=null,Qn(e,t,n),it=r,pn=s,it!==null&&(pn?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(pn?(e=it,n=n.stateNode,e.nodeType===8?yu(e.parentNode,n):e.nodeType===1&&yu(e,n),Bi(e)):yu(it,n.stateNode));break;case 4:r=it,s=pn,it=n.stateNode.containerInfo,pn=!0,Qn(e,t,n),it=r,pn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pc(n,t,o),s=s.next}while(s!==r)}Qn(e,t,n);break;case 1:if(!yt&&(_s(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Qn(e,t,n),yt=r):Qn(e,t,n);break;default:Qn(e,t,n)}}function zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new X1),t.forEach(function(r){var s=uk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,pn=!1;break e;case 3:it=a.stateNode.containerInfo,pn=!0;break e;case 4:it=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(it===null)throw Error(C(160));yv(i,o,s),it=null,pn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vv(t,e),t=t.sibling}function vv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),$n(e),r&4){try{Ni(3,e,e.return),Sl(3,e)}catch(_){Ve(e,e.return,_)}try{Ni(5,e,e.return)}catch(_){Ve(e,e.return,_)}}break;case 1:an(t,e),$n(e),r&512&&n!==null&&_s(n,n.return);break;case 5:if(an(t,e),$n(e),r&512&&n!==null&&_s(n,n.return),e.flags&32){var s=e.stateNode;try{Fi(s,"")}catch(_){Ve(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zg(s,i),ec(a,o);var u=ec(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?qg(s,f):c==="dangerouslySetInnerHTML"?Vg(s,f):c==="children"?Fi(s,f):vd(s,c,f,u)}switch(a){case"input":Gu(s,i);break;case"textarea":Ug(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Es(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Es(s,!!i.multiple,i.defaultValue,!0):Es(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ji]=i}catch(_){Ve(e,e.return,_)}}break;case 6:if(an(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){Ve(e,e.return,_)}}break;case 3:if(an(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(t.containerInfo)}catch(_){Ve(e,e.return,_)}break;case 4:an(t,e),$n(e);break;case 13:an(t,e),$n(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jd=Be())),r&4&&zp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(u=yt)||c,an(t,e),yt=u):an(t,e),$n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(f=F=c;F!==null;){switch(m=F,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ni(4,m,m.return);break;case 1:_s(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Ve(r,n,_)}}break;case 5:_s(m,m.return);break;case 22:if(m.memoizedState!==null){Ap(f);continue}}v!==null?(v.return=m,F=v):Ap(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hg("display",o))}catch(_){Ve(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Ve(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(t,e),$n(e),r&4&&zp(e);break;case 21:break;default:an(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gv(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fi(s,""),r.flags&=-33);var i=Cp(e);xc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cp(e);Rc(e,a,o);break;default:throw Error(C(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tk(e,t,n){F=e,_v(e)}function _v(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=Fo;var u=yt;if(Fo=o,(yt=l)&&!u)for(F=s;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Mp(s):l!==null?(l.return=o,F=l):Mp(s);for(;i!==null;)F=i,_v(i),i=i.sibling;F=s,Fo=a,yt=u}jp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):jp(e)}}function jp(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_p(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_p(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Bi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}yt||t.flags&512&&Ic(t)}catch(m){Ve(t,t.return,m)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Ap(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Mp(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sl(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ve(t,s,l)}}var i=t.return;try{Ic(t)}catch(l){Ve(t,i,l)}break;case 5:var o=t.return;try{Ic(t)}catch(l){Ve(t,o,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var nk=Math.ceil,Ua=Kn.ReactCurrentDispatcher,Gd=Kn.ReactCurrentOwner,en=Kn.ReactCurrentBatchConfig,pe=0,tt=null,We=null,ut=0,Zt=0,ws=Pr(0),Je=0,ro=null,Qr=0,$l=0,Qd=0,Oi=null,Rt=null,Jd=0,Ls=1/0,Cn=null,Fa=!1,Nc=null,gr=null,Vo=!1,ur=null,Va=0,Ci=0,Oc=null,ha=-1,pa=0;function bt(){return pe&6?Be():ha!==-1?ha:ha=Be()}function yr(e){return e.mode&1?pe&2&&ut!==0?ut&-ut:L1.transition!==null?(pa===0&&(pa=ry()),pa):(e=$e,e!==0||(e=window.event,e=e===void 0?16:cy(e.type)),e):1}function vn(e,t,n,r){if(50<Ci)throw Ci=0,Oc=null,Error(C(185));co(e,n,r),(!(pe&2)||e!==tt)&&(e===tt&&(!(pe&2)&&($l|=n),Je===4&&ir(e,ut)),jt(e,r),n===1&&pe===0&&!(t.mode&1)&&(Ls=Be()+500,_l&&Ir()))}function jt(e,t){var n=e.callbackNode;Lw(e,t);var r=Ta(e,e===tt?ut:0);if(r===0)n!==null&&Bh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bh(n),t===1)e.tag===0?D1(Dp.bind(null,e)):Ry(Dp.bind(null,e)),z1(function(){!(pe&6)&&Ir()}),n=null;else{switch(sy(r)){case 1:n=$d;break;case 4:n=ty;break;case 16:n=ba;break;case 536870912:n=ny;break;default:n=ba}n=Pv(n,wv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wv(e,t){if(ha=-1,pa=0,pe&6)throw Error(C(327));var n=e.callbackNode;if(Rs()&&e.callbackNode!==n)return null;var r=Ta(e,e===tt?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ha(e,r);else{t=r;var s=pe;pe|=2;var i=Sv();(tt!==e||ut!==t)&&(Cn=null,Ls=Be()+500,qr(e,t));do try{ik();break}catch(a){kv(e,a)}while(!0);Ad(),Ua.current=i,pe=s,We!==null?t=0:(tt=null,ut=0,t=Je)}if(t!==0){if(t===2&&(s=ic(e),s!==0&&(r=s,t=Cc(e,s))),t===1)throw n=ro,qr(e,0),ir(e,r),jt(e,Be()),n;if(t===6)ir(e,r);else{if(s=e.current.alternate,!(r&30)&&!rk(s)&&(t=Ha(e,r),t===2&&(i=ic(e),i!==0&&(r=i,t=Cc(e,i))),t===1))throw n=ro,qr(e,0),ir(e,r),jt(e,Be()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Cr(e,Rt,Cn);break;case 3:if(ir(e,r),(r&130023424)===r&&(t=Jd+500-Be(),10<t)){if(Ta(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){bt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hc(Cr.bind(null,e,Rt,Cn),t);break}Cr(e,Rt,Cn);break;case 4:if(ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-yn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nk(r/1960))-r,10<r){e.timeoutHandle=hc(Cr.bind(null,e,Rt,Cn),r);break}Cr(e,Rt,Cn);break;case 5:Cr(e,Rt,Cn);break;default:throw Error(C(329))}}}return jt(e,Be()),e.callbackNode===n?wv.bind(null,e):null}function Cc(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(qr(e,t).flags|=256),e=Ha(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&zc(t)),e}function zc(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function rk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Qd,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function Dp(e){if(pe&6)throw Error(C(327));Rs();var t=Ta(e,0);if(!(t&1))return jt(e,Be()),null;var n=Ha(e,t);if(e.tag!==0&&n===2){var r=ic(e);r!==0&&(t=r,n=Cc(e,r))}if(n===1)throw n=ro,qr(e,0),ir(e,t),jt(e,Be()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,Rt,Cn),jt(e,Be()),null}function Yd(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(Ls=Be()+500,_l&&Ir())}}function Jr(e){ur!==null&&ur.tag===0&&!(pe&6)&&Rs();var t=pe;pe|=1;var n=en.transition,r=$e;try{if(en.transition=null,$e=1,e)return e()}finally{$e=r,en.transition=n,pe=t,!(pe&6)&&Ir()}}function Xd(){Zt=ws.current,Ne(ws)}function qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,C1(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Cd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Na();break;case 3:Ms(),Ne(Ct),Ne(vt),Fd();break;case 5:Ud(r);break;case 4:Ms();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:Md(r.type._context);break;case 22:case 23:Xd()}n=n.return}if(tt=e,We=e=vr(e.current,null),ut=Zt=t,Je=0,ro=null,Qd=$l=Qr=0,Rt=Oi=null,Lr!==null){for(t=0;t<Lr.length;t++)if(n=Lr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Lr=null}return e}function kv(e,t){do{var n=We;try{if(Ad(),ca.current=Za,La){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}La=!1}if(Gr=0,et=Ge=Ae=null,xi=!1,eo=0,Gd.current=null,n===null||n.return===null){Je=1,ro=t,We=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=bp(o);if(v!==null){v.flags&=-257,Tp(v,o,a,i,t),v.mode&1&&Ep(i,u,t),t=v,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){Ep(i,u,t),ef();break e}l=Error(C(426))}}else if(Ce&&a.mode&1){var w=bp(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Tp(w,o,a,i,t),zd(Ds(l,a));break e}}i=l=Ds(l,a),Je!==4&&(Je=2),Oi===null?Oi=[i]:Oi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=sv(i,l,t);vp(i,d);break e;case 1:a=l;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gr===null||!gr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=iv(i,a,t);vp(i,k);break e}}i=i.return}while(i!==null)}Ev(n)}catch($){t=$,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function Sv(){var e=Ua.current;return Ua.current=Za,e===null?Za:e}function ef(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(Qr&268435455)&&!($l&268435455)||ir(tt,ut)}function Ha(e,t){var n=pe;pe|=2;var r=Sv();(tt!==e||ut!==t)&&(Cn=null,qr(e,t));do try{sk();break}catch(s){kv(e,s)}while(!0);if(Ad(),pe=n,Ua.current=r,We!==null)throw Error(C(261));return tt=null,ut=0,Je}function sk(){for(;We!==null;)$v(We)}function ik(){for(;We!==null&&!xw();)$v(We)}function $v(e){var t=Tv(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Ev(e):We=t,Gd.current=null}function Ev(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y1(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,We=null;return}}else if(n=J1(n,t,Zt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Je===0&&(Je=5)}function Cr(e,t,n){var r=$e,s=en.transition;try{en.transition=null,$e=1,ok(e,t,n,r)}finally{en.transition=s,$e=r}return null}function ok(e,t,n,r){do Rs();while(ur!==null);if(pe&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zw(e,i),e===tt&&(We=tt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,Pv(ba,function(){return Rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=en.transition,en.transition=null;var o=$e;$e=1;var a=pe;pe|=4,Gd.current=null,ek(e,n),vv(n,e),T1(dc),Pa=!!cc,dc=cc=null,e.current=n,tk(n),Nw(),pe=a,$e=o,en.transition=i}else e.current=n;if(Vo&&(Vo=!1,ur=e,Va=s),i=e.pendingLanes,i===0&&(gr=null),zw(n.stateNode),jt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,e=Nc,Nc=null,e;return Va&1&&e.tag!==0&&Rs(),i=e.pendingLanes,i&1?e===Oc?Ci++:(Ci=0,Oc=e):Ci=0,Ir(),null}function Rs(){if(ur!==null){var e=sy(Va),t=en.transition,n=$e;try{if(en.transition=null,$e=16>e?16:e,ur===null)var r=!1;else{if(e=ur,ur=null,Va=0,pe&6)throw Error(C(331));var s=pe;for(pe|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ni(8,c,i)}var f=c.child;if(f!==null)f.return=c,F=f;else for(;F!==null;){c=F;var m=c.sibling,v=c.return;if(mv(c),c===u){F=null;break}if(m!==null){m.return=v,F=m;break}F=v}}}var g=i.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ni(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,F=d;break e}F=i.return}}var h=e.current;for(F=h;F!==null;){o=F;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,F=p;else e:for(o=h;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sl(9,a)}}catch($){Ve(a,a.return,$)}if(a===o){F=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,F=k;break e}F=a.return}}if(pe=s,Ir(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(pl,e)}catch{}r=!0}return r}finally{$e=n,en.transition=t}}return!1}function Lp(e,t,n){t=Ds(n,t),t=sv(e,t,1),e=mr(e,t,1),t=bt(),e!==null&&(co(e,1,t),jt(e,t))}function Ve(e,t,n){if(e.tag===3)Lp(e,e,n);else for(;t!==null;){if(t.tag===3){Lp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){e=Ds(n,e),e=iv(t,e,1),t=mr(t,e,1),e=bt(),t!==null&&(co(t,1,e),jt(t,e));break}}t=t.return}}function ak(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ut&n)===n&&(Je===4||Je===3&&(ut&130023424)===ut&&500>Be()-Jd?qr(e,0):Qd|=n),jt(e,t)}function bv(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var n=bt();e=Hn(e,t),e!==null&&(co(e,t,n),jt(e,n))}function lk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bv(e,n)}function uk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),bv(e,n)}var Tv;Tv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nt=!1,Q1(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Ce&&t.flags&1048576&&xy(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var s=zs(t,vt.current);Is(t,n),s=Hd(null,t,r,e,s,n);var i=qd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(i=!0,Oa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ld(t),s.updater=kl,t.stateNode=s,s._reactInternals=t,wc(t,r,e,n),t=$c(null,t,r,!0,i,n)):(t.tag=0,Ce&&i&&Od(t),$t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=dk(r),e=hn(r,e),s){case 0:t=Sc(null,t,r,e,n);break e;case 1:t=Rp(null,t,r,e,n);break e;case 11:t=Pp(null,t,r,e,n);break e;case 14:t=Ip(null,t,r,hn(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Sc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Rp(e,t,r,s,n);case 3:e:{if(uv(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ay(e,t),Ma(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ds(Error(C(423)),t),t=xp(e,t,r,n,s);break e}else if(r!==s){s=Ds(Error(C(424)),t),t=xp(e,t,r,n,s);break e}else for(Ft=pr(t.stateNode.containerInfo.firstChild),Vt=t,Ce=!0,mn=null,n=zy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===s){t=qn(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 5:return My(t),e===null&&yc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fc(r,s)?o=null:i!==null&&fc(r,i)&&(t.flags|=32),lv(e,t),$t(e,t,o,n),t.child;case 6:return e===null&&yc(t),null;case 13:return cv(e,t,n);case 4:return Zd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=As(t,null,r,n):$t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Pp(e,t,r,s,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Te(ja,r._currentValue),r._currentValue=o,i!==null)if(kn(i.value,o)){if(i.children===s.children&&!Ct.current){t=qn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Dn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Is(t,n),s=tn(s),r=r(s),t.flags|=1,$t(e,t,r,n),t.child;case 14:return r=t.type,s=hn(r,t.pendingProps),s=hn(r.type,s),Ip(e,t,r,s,n);case 15:return ov(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),fa(e,t),t.tag=1,zt(r)?(e=!0,Oa(t)):e=!1,Is(t,n),rv(t,r,s),wc(t,r,s,n),$c(null,t,r,!0,e,n);case 19:return dv(e,t,n);case 22:return av(e,t,n)}throw Error(C(156,t.tag))};function Pv(e,t){return ey(e,t)}function ck(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,r){return new ck(e,t,n,r)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dk(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wd)return 11;if(e===kd)return 14}return 2}function vr(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ma(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cs:return Br(n.children,s,i,t);case _d:o=8,s|=8;break;case Hu:return e=Xt(12,n,t,s|2),e.elementType=Hu,e.lanes=i,e;case qu:return e=Xt(13,n,t,s),e.elementType=qu,e.lanes=i,e;case Bu:return e=Xt(19,n,t,s),e.elementType=Bu,e.lanes=i,e;case Mg:return El(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jg:o=10;break e;case Ag:o=9;break e;case wd:o=11;break e;case kd:o=14;break e;case tr:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Xt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Br(e,t,n,r){return e=Xt(7,e,r,t),e.lanes=n,e}function El(e,t,n,r){return e=Xt(22,e,r,t),e.elementType=Mg,e.lanes=n,e.stateNode={isHidden:!1},e}function bu(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Tu(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fk(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nf(e,t,n,r,s,i,o,a,l){return e=new fk(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(i),e}function hk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Iv(e){if(!e)return kr;e=e._reactInternals;e:{if(ns(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(zt(n))return Iy(e,n,t)}return t}function Rv(e,t,n,r,s,i,o,a,l){return e=nf(n,r,!0,e,s,i,o,a,l),e.context=Iv(null),n=e.current,r=bt(),s=yr(n),i=Dn(r,s),i.callback=t??null,mr(n,i,s),e.current.lanes=s,co(e,s,r),jt(e,r),e}function bl(e,t,n,r){var s=t.current,i=bt(),o=yr(s);return n=Iv(n),t.context===null?t.context=n:t.pendingContext=n,t=Dn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mr(s,t,o),e!==null&&(vn(e,s,o,i),ua(e,s,o)),o}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){Zp(e,t),(e=e.alternate)&&Zp(e,t)}function pk(){return null}var xv=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}Tl.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));bl(e,t,null,null)};Tl.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jr(function(){bl(null,e,null,null)}),t[Vn]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sr.length&&t!==0&&t<sr[n].priority;n++);sr.splice(n,0,e),n===0&&uy(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Up(){}function mk(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qa(o);i.call(u)}}var o=Rv(t,r,e,0,null,!1,!1,"",Up);return e._reactRootContainer=o,e[Vn]=o.current,Gi(e.nodeType===8?e.parentNode:e),Jr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=qa(l);a.call(u)}}var l=nf(e,0,!1,null,null,!1,!1,"",Up);return e._reactRootContainer=l,e[Vn]=l.current,Gi(e.nodeType===8?e.parentNode:e),Jr(function(){bl(t,l,n,r)}),l}function Il(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qa(o);a.call(l)}}bl(t,o,e,s)}else o=mk(n,t,e,s,r);return qa(o)}iy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(Ed(t,n|1),jt(t,Be()),!(pe&6)&&(Ls=Be()+500,Ir()))}break;case 13:Jr(function(){var r=Hn(e,1);if(r!==null){var s=bt();vn(r,e,1,s)}}),rf(e,1)}};bd=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=bt();vn(t,e,134217728,n)}rf(e,134217728)}};oy=function(e){if(e.tag===13){var t=yr(e),n=Hn(e,t);if(n!==null){var r=bt();vn(n,e,t,r)}rf(e,t)}};ay=function(){return $e};ly=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};nc=function(e,t,n){switch(t){case"input":if(Gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vl(r);if(!s)throw Error(C(90));Lg(r),Gu(r,s)}}}break;case"textarea":Ug(e,n);break;case"select":t=n.value,t!=null&&Es(e,!!n.multiple,t,!1)}};Kg=Yd;Gg=Jr;var gk={usingClientEntryPoint:!1,Events:[ho,ps,vl,Bg,Wg,Yd]},ui={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yk={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yg(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{pl=Ho.inject(yk),Rn=Ho}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gk;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(C(200));return hk(e,t,null,n)};Bt.createRoot=function(e,t){if(!of(e))throw Error(C(299));var n=!1,r="",s=xv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nf(e,1,!1,null,null,n,!1,r,s),e[Vn]=t.current,Gi(e.nodeType===8?e.parentNode:e),new sf(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Yg(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Jr(e)};Bt.hydrate=function(e,t,n){if(!Pl(t))throw Error(C(200));return Il(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!of(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rv(t,null,e,1,n??null,s,!1,i,o),e[Vn]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Tl(t)};Bt.render=function(e,t,n){if(!Pl(t))throw Error(C(200));return Il(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!Pl(e))throw Error(C(40));return e._reactRootContainer?(Jr(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1};Bt.unstable_batchedUpdates=Yd;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pl(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Il(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function Nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nv)}catch(e){console.error(e)}}Nv(),Ng.exports=Bt;var Ov=Ng.exports,Fp=Ov;Fu.createRoot=Fp.createRoot,Fu.hydrateRoot=Fp.hydrateRoot;var Dt;(function(e){e.TEXT2IMAGE="TEXT2IMAGE",e.IMAGE2IMAGE="IMAGE2IMAGE",e.ANIMATE="ANIMATE",e.INPAINT="INPAINT",e.REMOVE_BG="REMOVE_BG",e.TEXT2VIDEO="TEXT2VIDEO",e.TEXT2MUSIC="TEXT2MUSIC",e.FOLEY="FOLEY",e.TEXT2SPEECH="TEXT2SPEECH",e.TEXT2TEXT="TEXT2TEXT",e.MODEL="MODEL"})(Dt||(Dt={}));const Ur="https://avatars.charhub.io/avatars/uploads/images/gallery/file/1b9649dd-69f7-4231-802f-22be084ad0f9/c5a93b6a-7c28-45c0-bbdd-62b45d73bfdc.png",rt=[];for(let e=0;e<256;++e)rt.push((e+256).toString(16).slice(1));function vk(e,t=0){return(rt[e[t+0]]+rt[e[t+1]]+rt[e[t+2]]+rt[e[t+3]]+"-"+rt[e[t+4]]+rt[e[t+5]]+"-"+rt[e[t+6]]+rt[e[t+7]]+"-"+rt[e[t+8]]+rt[e[t+9]]+"-"+rt[e[t+10]]+rt[e[t+11]]+rt[e[t+12]]+rt[e[t+13]]+rt[e[t+14]]+rt[e[t+15]]).toLowerCase()}let Pu;const _k=new Uint8Array(16);function wk(){if(!Pu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pu=crypto.getRandomValues.bind(crypto)}return Pu(_k)}const kk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vp={randomUUID:kk};function Sk(e,t,n){var s;if(Vp.randomUUID&&!t&&!e)return Vp.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??wk();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return vk(r)}const af=new Set(["https://venus.chub.ai","https://chat.chub.ai","https://chub.ai","https://www.chub.ai","https://preview.chub.ai","capacitor://localhost","http://localhost","https://lvh.me:5173","file://127.0.0.1","https://localhost.localdomain:5173","https://vite.lvh.me:5173","https://192.168.50.239:5173","https://vite.lvh.me","https://192.168.50.239","file://localhost","https://127.0.0.1","https://localhost","http://127.0.0.1","capacitor://127.0.0.1","https://localhost:5173","http://localhost:5173","file://","capacitor://"]);function St(e,t,n=6e3){return new Promise((r,s)=>{const i=Sk();t.uuid=i;let o=!1;const a=l=>{if(l.source===window.parent&&(af.has(l.origin)||l.origin.endsWith("chub.ai")||l.origin.endsWith("chub-ui.pages.dev"))){const{messageType:u,data:c}=l.data;u!=null&&u==i&&(window.removeEventListener("message",a),o=!0,c!=null&&c.hasOwnProperty("error")&&c.error!=null&&(console.error(`Error for ${e}, error: ${c.error}`),r(null)),r(c))}};window.addEventListener("message",a),window.parent.postMessage({messageType:e,data:t},"*"),setTimeout(()=>{window.removeEventListener("message",a),o||(console.error(`Response timeout for ${e}`),r(null))},n*1e3)})}var ke;(function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"})(ke||(ke={}));const $k=(()=>{let e=0;return()=>e++})(),Ek=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),bk=new Error("called FFmpeg.terminate()");var Lt,or,jn,Vr,Hr,fl,kt;class Tk{constructor(){Gn(this,Lt,null);Gn(this,or,{});Gn(this,jn,{});Gn(this,Vr,[]);Gn(this,Hr,[]);nt(this,"loaded",!1);Gn(this,fl,()=>{le(this,Lt)&&(le(this,Lt).onmessage=({data:{id:t,type:n,data:r}})=>{switch(n){case ke.LOAD:this.loaded=!0,le(this,or)[t](r);break;case ke.MOUNT:case ke.UNMOUNT:case ke.EXEC:case ke.FFPROBE:case ke.WRITE_FILE:case ke.READ_FILE:case ke.DELETE_FILE:case ke.RENAME:case ke.CREATE_DIR:case ke.LIST_DIR:case ke.DELETE_DIR:le(this,or)[t](r);break;case ke.LOG:le(this,Vr).forEach(s=>s(r));break;case ke.PROGRESS:le(this,Hr).forEach(s=>s(r));break;case ke.ERROR:le(this,jn)[t](r);break}delete le(this,or)[t],delete le(this,jn)[t]})});Gn(this,kt,({type:t,data:n},r=[],s)=>le(this,Lt)?new Promise((i,o)=>{const a=$k();le(this,Lt)&&le(this,Lt).postMessage({id:a,type:t,data:n},r),le(this,or)[a]=i,le(this,jn)[a]=o,s==null||s.addEventListener("abort",()=>{o(new DOMException(`Message # ${a} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(Ek));nt(this,"load",({classWorkerURL:t,...n}={},{signal:r}={})=>(le(this,Lt)||(ti(this,Lt,t?new Worker(new URL(t,import.meta.url),{type:"module"}):new Worker(new URL(""+new URL("worker-BAOIWoxA.js",import.meta.url).href,import.meta.url),{type:"module"})),le(this,fl).call(this)),le(this,kt).call(this,{type:ke.LOAD,data:n},void 0,r)));nt(this,"exec",(t,n=-1,{signal:r}={})=>le(this,kt).call(this,{type:ke.EXEC,data:{args:t,timeout:n}},void 0,r));nt(this,"ffprobe",(t,n=-1,{signal:r}={})=>le(this,kt).call(this,{type:ke.FFPROBE,data:{args:t,timeout:n}},void 0,r));nt(this,"terminate",()=>{const t=Object.keys(le(this,jn));for(const n of t)le(this,jn)[n](bk),delete le(this,jn)[n],delete le(this,or)[n];le(this,Lt)&&(le(this,Lt).terminate(),ti(this,Lt,null),this.loaded=!1)});nt(this,"writeFile",(t,n,{signal:r}={})=>{const s=[];return n instanceof Uint8Array&&s.push(n.buffer),le(this,kt).call(this,{type:ke.WRITE_FILE,data:{path:t,data:n}},s,r)});nt(this,"mount",(t,n,r)=>{const s=[];return le(this,kt).call(this,{type:ke.MOUNT,data:{fsType:t,options:n,mountPoint:r}},s)});nt(this,"unmount",t=>{const n=[];return le(this,kt).call(this,{type:ke.UNMOUNT,data:{mountPoint:t}},n)});nt(this,"readFile",(t,n="binary",{signal:r}={})=>le(this,kt).call(this,{type:ke.READ_FILE,data:{path:t,encoding:n}},void 0,r));nt(this,"deleteFile",(t,{signal:n}={})=>le(this,kt).call(this,{type:ke.DELETE_FILE,data:{path:t}},void 0,n));nt(this,"rename",(t,n,{signal:r}={})=>le(this,kt).call(this,{type:ke.RENAME,data:{oldPath:t,newPath:n}},void 0,r));nt(this,"createDir",(t,{signal:n}={})=>le(this,kt).call(this,{type:ke.CREATE_DIR,data:{path:t}},void 0,n));nt(this,"listDir",(t,{signal:n}={})=>le(this,kt).call(this,{type:ke.LIST_DIR,data:{path:t}},void 0,n));nt(this,"deleteDir",(t,{signal:n}={})=>le(this,kt).call(this,{type:ke.DELETE_DIR,data:{path:t}},void 0,n))}on(t,n){t==="log"?le(this,Vr).push(n):t==="progress"&&le(this,Hr).push(n)}off(t,n){t==="log"?ti(this,Vr,le(this,Vr).filter(r=>r!==n)):t==="progress"&&ti(this,Hr,le(this,Hr).filter(r=>r!==n))}}Lt=new WeakMap,or=new WeakMap,jn=new WeakMap,Vr=new WeakMap,Hr=new WeakMap,fl=new WeakMap,kt=new WeakMap;var Hp;(function(e){e.MEMFS="MEMFS",e.NODEFS="NODEFS",e.NODERAWFS="NODERAWFS",e.IDBFS="IDBFS",e.WORKERFS="WORKERFS",e.PROXYFS="PROXYFS"})(Hp||(Hp={}));var jc;(function(e){e.SQUARE="1:1",e.WIDESCREEN_HORIZONTAL="16:9",e.CINEMATIC_HORIZONTAL="21:9",e.PHOTO_VERTICAL="2:3",e.PHOTO_HORIZONTAL="3:2",e.POST_VERTICAL="4:5",e.POST_HORIZONTAL="5:4",e.WIDESCREEN_VERTICAL="9:16",e.CINEMATIC_VERTICAL="9:21"})(jc||(jc={}));const lf={seed:null,item_id:null},Cv={negative_prompt:null,prompt:"Super cute chubby kitten, high res perfect, will make you believe in the afterlife, 8K"},Pk=Object.assign(Object.assign({aspect_ratio:jc.SQUARE,remove_background:!1},Cv),lf),zv=Object.assign(Object.assign({},Pk),{image:Ur,strength:.7,transfer_type:"default"}),Ik=Object.assign(Object.assign({},lf),{image:Ur,cfg_scale:1.8,motion_bucket_id:127}),Rk=Object.assign(Object.assign({},zv),{search_prompt:"Anything with a face",mask:null}),xk={image:Ur},jv={seconds:5};Object.assign(Object.assign({},Cv),jv);Object.assign(Object.assign(Object.assign({},jv),lf),{prompt:"Thunderstorm"});var qo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Nk{makeImage(t){return St(Dt.TEXT2IMAGE,t)}imageToImage(t){return St(Dt.IMAGE2IMAGE,t)}animateImage(t){return St(Dt.ANIMATE,t,600)}inpaintImage(t){return St(Dt.INPAINT,t)}removeBackground(t){return St(Dt.REMOVE_BG,t)}makeVideo(t){return St(Dt.TEXT2VIDEO,t)}makeMusic(t){return St(Dt.TEXT2MUSIC,t)}makeSound(t){return St(Dt.FOLEY,t)}speak(t){return St(Dt.TEXT2SPEECH,t)}textGen(t){return St(Dt.TEXT2TEXT,t)}makeVoice(){return Promise.resolve(void 0)}modelGen(t){return St(Dt.MODEL,t)}transcribe(){return Promise.resolve(void 0)}}class Ok{makeImage(t){return new Promise(n=>{n({url:Ur,seed:0,cost:null})})}imageToImage(t){return new Promise((n,r)=>{t=Object.assign(Object.assign({},zv),t);const s=document.createElement("canvas"),i=s.getContext("2d");if(!i){n(null);return}s.style.display="none";const o=new Image,a=new Image;o.onload=()=>{s.width=o.width,s.height=o.height,i.drawImage(o,0,0),a.onload=()=>{i.globalAlpha=t.strength,i.drawImage(a,0,0,s.width,s.height),i.globalAlpha=1;const l=s.toDataURL();n({url:l,seed:0,cost:null}),s.width=0,s.height=0,s.remove()},a.onerror=l=>{n(null)},a.src=Ur},o.onerror=l=>{n(null)},o.src=t.image})}convertFileToBase64(t){return qo(this,void 0,void 0,function*(){const n=yield t.arrayBuffer();let r="";const s=new Uint8Array(n),i=s.byteLength;for(let o=0;o<i;o++)r+=String.fromCharCode(s[o]);return window.btoa(r)})}animateImage(t){return qo(this,void 0,void 0,function*(){try{t=Object.assign(Object.assign({},Ik),t);const n=new Tk;yield n.load();let r="image.png";if(t.image.includes("https:")){const l=t.image.split("/");r=l[l.length-1]}const s="output.mp4",i=yield fetch(t.image).then(l=>l.arrayBuffer());yield n.writeFile(r,new Uint8Array(i)),yield n.exec(["-i",r,"-vf","rotate=angle=45*sin(t/2):fillcolor=none,scale=w=iw/2:h=ih/2","-t","3","-c:v","libx264","-pix_fmt","yuv420p",s]);const o=yield n.readFile(s),a=yield this.convertFileToBase64(o);return yield n.unmount(r),yield n.unmount(s),{url:`data:video/mp4;base64,${a}`,seed:0,cost:0}}catch(n){return console.error(`Unexpected error making mock video. Are you on an older browser? Error: ${n}`),null}})}inpaintImage(t){return qo(this,void 0,void 0,function*(){if(t=Object.assign(Object.assign({},Rk),t),t.mask==null)return Promise.resolve({url:Ur,seed:0,cost:0});const n=document.createElement("canvas"),r=n.getContext("2d"),s=new Image;s.src=t.image,yield new Promise(l=>s.onload=l),n.width=s.width,n.height=s.height,r.drawImage(s,0,0);const i=new Image;i.src=t.mask,yield new Promise(l=>i.onload=l),r.globalCompositeOperation="destination-in",r.drawImage(i,0,0,n.width,n.height);const o=new Image;return o.src=Ur,yield new Promise(l=>o.onload=l),r.globalCompositeOperation="source-over",r.drawImage(o,0,0,n.width,n.height),{url:n.toDataURL(),seed:0,cost:0}})}removeBackground(t){return qo(this,void 0,void 0,function*(){t=Object.assign(Object.assign({},xk),t);const n=t.image,r=document.createElement("canvas"),s=r.getContext("2d"),i=new Image;i.src=n,yield new Promise(c=>i.onload=c),r.width=i.width,r.height=i.height,s.drawImage(i,0,0);const o=s.getImageData(0,0,r.width,r.height),a=o.data,l=50;for(let c=0;c<l;c++)for(let f=0;f<r.width;f++){const m=(c*r.width+f)*4;a[m+3]=0}for(let c=r.height-l;c<r.height;c++)for(let f=0;f<r.width;f++){const m=(c*r.width+f)*4;a[m+3]=0}for(let c=0;c<l;c++)for(let f=0;f<r.height;f++){const m=(f*r.width+c)*4;a[m+3]=0}for(let c=r.width-l;c<r.width;c++)for(let f=0;f<r.height;f++){const m=(f*r.width+c)*4;a[m+3]=0}return s.putImageData(o,0,0),{url:r.toDataURL(),seed:0,cost:0}})}makeVideo(t){return Promise.resolve({seed:0,url:"https://avatars.charhub.io/79b2188d-293d-42cb-ab50-fddbce4b28b9.gif",cost:0})}makeMusic(t){return Promise.resolve({seed:0,url:"https://media.chub.ai/FadingMemories.mp3",cost:0})}makeSound(t){return Promise.resolve({seed:0,url:"https://media.chub.ai/rain-and-thunder-16705.mp3",cost:0})}speak(t){return Promise.resolve({seed:0,url:"https://media.chub.ai/ElevenLabs_2024-04-27T03%2023%2053_D_ivc_s50_sb79_se26_b_m2.mp3",cost:0})}textGen(t){return Promise.resolve({result:"A default text response.",cost:0})}makeVoice(){return Promise.resolve(void 0)}modelGen(t){return t.output_type!=null||t.output_type=="vrm"?Promise.resolve({seed:0,url:"https://media.chub.ai/meshes/fox.vrm",cost:0}):Promise.resolve({seed:0,url:"https://media.chub.ai/meshes/fox.glb",cost:0})}transcribe(){return Promise.resolve(void 0)}}var ks;(function(e){e.IMPERSONATE="IMPERSONATE",e.CHAT_STATE="CHAT_STATE",e.ENVIRONMENT="ENVIRONMENT",e.NUDGE="NUDGE"})(ks||(ks={}));class Ck{impersonate(t){return St(ks.IMPERSONATE,t)}updateChatState(t){return St(ks.CHAT_STATE,t)}updateEnvironment(t){return St(ks.ENVIRONMENT,t)}nudge(t){return St(ks.NUDGE,t)}}class zk{impersonate(t){return Promise.resolve({success:!0,error:null,identity:"fakeid"})}updateChatState(t){return Promise.resolve({success:!0,error:null})}updateEnvironment(t){return Promise.resolve({success:!0,error:null})}nudge(t){return Promise.resolve({success:!0,error:null,identity:"fakeid"})}}var _e;(function(e){e.world="world",e.user="user",e.persona="persona",e.character="character",e.character_sensitive="character_sensitive",e.user_character="user_character",e.persona_character="persona_character"})(_e||(_e={}));var _n;(function(e){e.UPSERT="UPSERT",e.DELETE="DELETE"})(_n||(_n={}));class Ss extends Error{constructor(t){super(t),this.name="StorageError",Object.setPrototypeOf(this,Ss.prototype)}}var jk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Ak(e){return jk(this,void 0,void 0,function*(){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t(i)},r.onerror=n,r.readAsDataURL(e)})})}var Mk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xs{constructor(t,n,r,s=null,i=null,o){var a;this.changes={changes:[]},this.change=null,this.token=t,this.urlBase=n,this.change={key:r,scope_type:_e.world,type:o??_n.UPSERT,chat_local:!1,value:i,character_id:(a=s==null?void 0:s.character)!==null&&a!==void 0?a:null}}forCharacterSensitive(t){if(this.change.character_id=t,this.change.scope_type!=_e.world&&this.change.scope_type!=_e.character_sensitive)throw new Ss(`Character sensitive scope cannot be combined with other scopes. This change already has scope ${this.change.scope_type}.`);return this.change.scope_type=_e.character_sensitive,this}forCharacter(t){if(this.change.character_id=t,this.change.scope_type==_e.world||this.change.scope_type==_e.character)this.change.scope_type=_e.character;else if(this.change.scope_type==_e.user||this.change.scope_type==_e.user_character)this.change.scope_type=_e.user_character;else if(this.change.scope_type==_e.persona||this.change.scope_type==_e.persona_character)this.change.scope_type=_e.persona_character;else throw new Ss(`Character scope cannot be combined with scope ${this.change.scope_type}.`);return this}forUser(){if(this.change.scope_type==_e.world||this.change.scope_type==_e.user)this.change.scope_type=_e.user;else if(this.change.scope_type==_e.character||this.change.scope_type==_e.user_character)this.change.scope_type=_e.user_character;else throw new Ss(`User scope cannot be combined with scope ${this.change.scope_type}.`);return this}forPersona(){if(this.change.scope_type==_e.world||this.change.scope_type==_e.user||this.change.scope_type==_e.persona)this.change.scope_type=_e.persona;else if(this.change.scope_type==_e.character||this.change.scope_type==_e.persona_character)this.change.scope_type=_e.persona_character;else throw new Ss(`Persona scope cannot be combined with scope ${this.change.scope_type}.`);return this}forChat(){return this.change.chat_local=!0,this}set(t,n){return this.change!=null&&(this.changes.changes.push(this.change),this.change=null),this.change={key:t,scope_type:_e.world,type:_n.UPSERT,chat_local:!1,value:n,character_id:null},this}clear(t){return this.change!=null&&(this.changes.changes.push(this.change),this.change=null),this.change={key:t,scope_type:_e.world,type:_n.DELETE,chat_local:!1,value:null,character_id:null},this}execute(){return Mk(this,void 0,void 0,function*(){this.change!=null&&(this.changes.changes.push(this.change),this.change=null);for(const t of this.changes.changes)t.value instanceof File&&(t.file_extension=t.value.name.split(".")[1],t.value=yield Ak(t.value));try{const t=yield fetch(this.urlBase,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(this.changes)});return t.ok?yield t.json():{data:[],error:`HTTP error! status: ${t.status}`,status:t.status}}catch(t){return console.error("Error updating:",t),{data:[],status:500,error:"Failed to update."}}})}then(t,n){return Promise.resolve(this.execute()).then(t,n)}}var Dk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ba{constructor(t,n,r){this.fetch={chat_local:!1,keys:null,character_ids:[],user_ids:[],persona_ids:[]},r!=null&&(Array.isArray(r)?this.fetch.keys=r:this.fetch.keys=[r]),this.token=t,this.urlBase=n}forCharacter(t){return this.fetch.character_ids==null&&(this.fetch.character_ids=[]),this.fetch.character_ids.push(t),this}forCharacters(t=null){return this.fetch.character_ids!=null&&this.fetch.character_ids.length!=0?this.fetch.character_ids.push(...t):this.fetch.character_ids=t,this}forUser(t){return this.fetch.user_ids==null&&(this.fetch.user_ids=[]),this.fetch.user_ids.push(t),this}forUsers(t=null){return this.fetch.user_ids==null&&(this.fetch.user_ids=[]),this.fetch.user_ids.push(...t),this}forPersona(t){return this.fetch.persona_ids==null&&(this.fetch.persona_ids=[]),this.fetch.persona_ids.push(t),this}forPersonas(t=null){return this.fetch.persona_ids==null&&(this.fetch.persona_ids=[]),this.fetch.persona_ids.push(...t),this}execute(){return Dk(this,void 0,void 0,function*(){try{const t=yield fetch(this.urlBase,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(this.fetch)});return t.ok?yield t.json():{data:[],error:`HTTP error! status: ${t.status}`,status:t.status}}catch(t){return console.error("Error fetching:",t),{data:[],status:500,error:"Failed to fetch."}}})}then(t,n){return Promise.resolve(this.execute()).then(t,n)}}var qp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Lk{constructor(t,n=null){this.BASE_URL="https://gateway.chub.ai/api/storage/stage/",this.token=n,this.stageId=t,this.url=this.BASE_URL+String(this.stageId)}get(t){return new Ba(this.token,this.url+"/fetch",t)}set(t,n){return new xs(this.token,this.url,t,null,n,_n.UPSERT)}clear(t){return new xs(this.token,this.url,t,null,null,_n.DELETE)}update(t){return qp(this,void 0,void 0,function*(){const n=new xs(this.token,this.url,"irrelevant-key",null,null,_n.DELETE);return n.changes={changes:t},n.change=null,yield n})}query(t){return qp(this,void 0,void 0,function*(){const n=new Ba(this.token,this.url+"/fetch",null);return n.fetch=t,yield n})}}var Bp=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Zk{constructor(t,n=null){this.BASE_URL="https://gateway.chub.ai/api/storage/stage/",this.token=n,this.stageId=t,this.url=this.BASE_URL+String(this.stageId)}get(t){return new Ba(this.token,this.url+"/fetch",t)}set(t,n){return new xs(this.token,this.url,t,null,n,_n.UPSERT)}clear(t){return new xs(this.token,this.url,t,null,null,_n.DELETE)}update(t){return Bp(this,void 0,void 0,function*(){const n=new xs(this.token,this.url,"irrelevant-key",null,null,_n.DELETE);return n.changes={changes:t},n.change=null,yield n})}query(t){return Bp(this,void 0,void 0,function*(){const n=new Ba(this.token,this.url+"/fetch",null);return n.fetch=t,yield n})}}var ge;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ge||(ge={}));var Wp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Wp||(Wp={}));const q=ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rr=e=>{switch(typeof e){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(e)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(e)?q.array:e===null?q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?q.promise:typeof Map<"u"&&e instanceof Map?q.map:typeof Set<"u"&&e instanceof Set?q.set:typeof Date<"u"&&e instanceof Date?q.date:q.object;default:return q.unknown}},z=ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(t){if(!(t instanceof Bn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Bn.create=e=>new Bn(e);const Ac=(e,t)=>{let n;switch(e.code){case z.invalid_type:e.received===q.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ge.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:n=`Unrecognized key(s) in object: ${ge.joinValues(e.keys,", ")}`;break;case z.invalid_union:n="Invalid input";break;case z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ge.joinValues(e.options)}`;break;case z.invalid_enum_value:n=`Invalid enum value. Expected ${ge.joinValues(e.options)}, received '${e.received}'`;break;case z.invalid_arguments:n="Invalid function arguments";break;case z.invalid_return_type:n="Invalid function return type";break;case z.invalid_date:n="Invalid date";break;case z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case z.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case z.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case z.custom:n="Invalid input";break;case z.invalid_intersection_types:n="Intersection results could not be merged";break;case z.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case z.not_finite:n="Number must be finite";break;default:n=t.defaultError,ge.assertNever(e)}return{message:n}};let Uk=Ac;function Fk(){return Uk}const Vk=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function L(e,t){const n=Fk(),r=Vk({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ac?void 0:Ac].filter(s=>!!s)});e.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return ie;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return qt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ie;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const ie=Object.freeze({status:"aborted"}),_i=e=>({status:"dirty",value:e}),rn=e=>({status:"valid",value:e}),Kp=e=>e.status==="aborted",Gp=e=>e.status==="dirty",Zs=e=>e.status==="valid",Wa=e=>typeof Promise<"u"&&e instanceof Promise;var B;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(B||(B={}));class Sr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qp=(e,t)=>{if(Zs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bn(e.common.issues);return this._error=n,this._error}}};function ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}let me=class{get description(){return this._def.description}_getType(t){return rr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qt,ctx:{common:t.parent.common,data:t.data,parsedType:rr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Wa(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rr(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Qp(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rr(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return Zs(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>Zs(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rr(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Wa(s)?s:Promise.resolve(s));return Qp(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:z.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Fs({schema:this,typeName:A.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ln.create(this,this._def)}nullable(){return Vs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return Ja.create(this,this._def)}or(t){return Ga.create([this,t],this._def)}and(t){return Qa.create(this,t,this._def)}transform(t){return new Fs({...ce(this._def),schema:this,typeName:A.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Zc({...ce(this._def),innerType:this,defaultValue:n,typeName:A.ZodDefault})}brand(){return new fS({typeName:A.ZodBranded,type:this,...ce(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Uc({...ce(this._def),innerType:this,catchValue:n,typeName:A.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return cf.create(this,t)}readonly(){return Fc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Hk=/^c[^\s-]{8,}$/i,qk=/^[0-9a-z]+$/,Bk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wk=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kk=/^[a-z0-9_-]{21}$/i,Gk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qk=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Iu;const Xk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Av="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iS=new RegExp(`^${Av}$`);function Mv(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function oS(e){return new RegExp(`^${Mv(e)}$`)}function aS(e){let t=`${Av}T${Mv(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function lS(e,t){return!!((t==="v4"||!t)&&Xk.test(e)||(t==="v6"||!t)&&tS.test(e))}function uS(e,t){if(!Gk.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function cS(e,t){return!!((t==="v4"||!t)&&eS.test(e)||(t==="v6"||!t)&&nS.test(e))}let Jp=class wi extends me{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==q.string){const i=this._getOrReturnCtx(t);return L(i,{code:z.invalid_type,expected:q.string,received:i.parsedType}),ie}const r=new qt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),L(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),L(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?L(s,{code:z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&L(s,{code:z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Jk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"email",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Iu||(Iu=new RegExp(Yk,"u")),Iu.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"emoji",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Wk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"uuid",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Kk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"nanoid",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Hk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"cuid",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")qk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"cuid2",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Bk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"ulid",code:z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),L(s,{validation:"url",code:z.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"regex",code:z.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?aS(i).test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?iS.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?oS(i).test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{code:z.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Qk.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"duration",code:z.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?lS(t.data,i.version)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"ip",code:z.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?uS(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"jwt",code:z.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?cS(t.data,i.version)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"cidr",code:z.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?rS.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"base64",code:z.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?sS.test(t.data)||(s=this._getOrReturnCtx(t,s),L(s,{validation:"base64url",code:z.invalid_string,message:i.message}),r.dirty()):ge.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:z.invalid_string,...B.errToObj(r)})}_addCheck(t){return new wi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...B.errToObj(t)})}url(t){return this._addCheck({kind:"url",...B.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...B.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...B.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...B.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...B.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...B.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...B.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...B.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...B.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...B.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...B.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...B.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...B.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...B.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...B.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...B.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...B.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...B.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...B.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...B.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...B.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...B.errToObj(n)})}nonempty(t){return this.min(1,B.errToObj(t))}trim(){return new wi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Jp.create=e=>new Jp({checks:[],typeName:A.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ce(e)});function dS(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}let Yp=class Mc extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==q.number){const i=this._getOrReturnCtx(t);return L(i,{code:z.invalid_type,expected:q.number,received:i.parsedType}),ie}let r;const s=new qt;for(const i of this._def.checks)i.kind==="int"?ge.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),L(r,{code:z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?dS(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),L(r,{code:z.not_finite,message:i.message}),s.dirty()):ge.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,B.toString(n))}gt(t,n){return this.setLimit("min",t,!1,B.toString(n))}lte(t,n){return this.setLimit("max",t,!0,B.toString(n))}lt(t,n){return this.setLimit("max",t,!1,B.toString(n))}setLimit(t,n,r,s){return new Mc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:B.toString(s)}]})}_addCheck(t){return new Mc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:B.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:B.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:B.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};Yp.create=e=>new Yp({checks:[],typeName:A.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class so extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==q.bigint)return this._getInvalidInput(t);let r;const s=new qt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),L(r,{code:z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ge.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return L(n,{code:z.invalid_type,expected:q.bigint,received:n.parsedType}),ie}gte(t,n){return this.setLimit("min",t,!0,B.toString(n))}gt(t,n){return this.setLimit("min",t,!1,B.toString(n))}lte(t,n){return this.setLimit("max",t,!0,B.toString(n))}lt(t,n){return this.setLimit("max",t,!1,B.toString(n))}setLimit(t,n,r,s){return new so({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:B.toString(s)}]})}_addCheck(t){return new so({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:B.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}so.create=e=>new so({checks:[],typeName:A.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ce(e)});let Xp=class extends me{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==q.boolean){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.boolean,received:r.parsedType}),ie}return rn(t.data)}};Xp.create=e=>new Xp({typeName:A.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class Ka extends me{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==q.date){const i=this._getOrReturnCtx(t);return L(i,{code:z.invalid_type,expected:q.date,received:i.parsedType}),ie}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return L(i,{code:z.invalid_date}),ie}const r=new qt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),L(s,{code:z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),L(s,{code:z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ge.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ka({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:B.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:B.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ka.create=e=>new Ka({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:A.ZodDate,...ce(e)});class em extends me{_parse(t){if(this._getType(t)!==q.symbol){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.symbol,received:r.parsedType}),ie}return rn(t.data)}}em.create=e=>new em({typeName:A.ZodSymbol,...ce(e)});class tm extends me{_parse(t){if(this._getType(t)!==q.undefined){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.undefined,received:r.parsedType}),ie}return rn(t.data)}}tm.create=e=>new tm({typeName:A.ZodUndefined,...ce(e)});let nm=class extends me{_parse(t){if(this._getType(t)!==q.null){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.null,received:r.parsedType}),ie}return rn(t.data)}};nm.create=e=>new nm({typeName:A.ZodNull,...ce(e)});class rm extends me{constructor(){super(...arguments),this._any=!0}_parse(t){return rn(t.data)}}rm.create=e=>new rm({typeName:A.ZodAny,...ce(e)});let sm=class extends me{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rn(t.data)}};sm.create=e=>new sm({typeName:A.ZodUnknown,...ce(e)});let $r=class extends me{_parse(t){const n=this._getOrReturnCtx(t);return L(n,{code:z.invalid_type,expected:q.never,received:n.parsedType}),ie}};$r.create=e=>new $r({typeName:A.ZodNever,...ce(e)});class im extends me{_parse(t){if(this._getType(t)!==q.undefined){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.void,received:r.parsedType}),ie}return rn(t.data)}}im.create=e=>new im({typeName:A.ZodVoid,...ce(e)});let Us=class ga extends me{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==q.array)return L(n,{code:z.invalid_type,expected:q.array,received:n.parsedType}),ie;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(L(n,{code:o?z.too_big:z.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(L(n,{code:z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(L(n,{code:z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Sr(n,o,n.path,a)))).then(o=>qt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Sr(n,o,n.path,a)));return qt.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new ga({...this._def,minLength:{value:t,message:B.toString(n)}})}max(t,n){return new ga({...this._def,maxLength:{value:t,message:B.toString(n)}})}length(t,n){return new ga({...this._def,exactLength:{value:t,message:B.toString(n)}})}nonempty(t){return this.min(1,t)}};Us.create=(e,t)=>new Us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:A.ZodArray,...ce(t)});function as(e){if(e instanceof Sn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ln.create(as(r))}return new Sn({...e._def,shape:()=>t})}else return e instanceof Us?new Us({...e._def,type:as(e.element)}):e instanceof Ln?Ln.create(as(e.unwrap())):e instanceof Vs?Vs.create(as(e.unwrap())):e instanceof Yr?Yr.create(e.items.map(t=>as(t))):e}let Sn=class dn extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ge.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==q.object){const u=this._getOrReturnCtx(t);return L(u,{code:z.invalid_type,expected:q.object,received:u.parsedType}),ie}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof $r&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Sr(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof $r){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(L(s,{code:z.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Sr(s,f,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key,m=await c.value;u.push({key:f,value:m,alwaysSet:c.alwaysSet})}return u}).then(u=>qt.mergeObjectSync(r,u)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return B.errToObj,new dn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:B.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(t){return new dn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new dn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:A.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new dn({...this._def,catchall:t})}pick(t){const n={};for(const r of ge.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dn({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ge.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new dn({...this._def,shape:()=>n})}deepPartial(){return as(this)}partial(t){const n={};for(const r of ge.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new dn({...this._def,shape:()=>n})}required(t){const n={};for(const r of ge.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ln;)i=i._def.innerType;n[r]=i}return new dn({...this._def,shape:()=>n})}keyof(){return Dv(ge.objectKeys(this.shape))}};Sn.create=(e,t)=>new Sn({shape:()=>e,unknownKeys:"strip",catchall:$r.create(),typeName:A.ZodObject,...ce(t)});Sn.strictCreate=(e,t)=>new Sn({shape:()=>e,unknownKeys:"strict",catchall:$r.create(),typeName:A.ZodObject,...ce(t)});Sn.lazycreate=(e,t)=>new Sn({shape:e,unknownKeys:"strip",catchall:$r.create(),typeName:A.ZodObject,...ce(t)});let Ga=class extends me{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Bn(a.ctx.common.issues));return L(n,{code:z.invalid_union,unionErrors:o}),ie}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Bn(l));return L(n,{code:z.invalid_union,unionErrors:a}),ie}}get options(){return this._def.options}};Ga.create=(e,t)=>new Ga({options:e,typeName:A.ZodUnion,...ce(t)});function Dc(e,t){const n=rr(e),r=rr(t);if(e===t)return{valid:!0,data:e};if(n===q.object&&r===q.object){const s=ge.objectKeys(t),i=ge.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Dc(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===q.array&&r===q.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Dc(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===q.date&&r===q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Qa=class extends me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(Kp(i)||Kp(o))return ie;const a=Dc(i.value,o.value);return a.valid?((Gp(i)||Gp(o))&&n.dirty(),{status:n.value,value:a.data}):(L(r,{code:z.invalid_intersection_types}),ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Qa.create=(e,t,n)=>new Qa({left:e,right:t,typeName:A.ZodIntersection,...ce(n)});class Yr extends me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.array)return L(r,{code:z.invalid_type,expected:q.array,received:r.parsedType}),ie;if(r.data.length<this._def.items.length)return L(r,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&r.data.length>this._def.items.length&&(L(r,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Sr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>qt.mergeArray(n,o)):qt.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Yr({...this._def,rest:t})}}Yr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yr({items:e,typeName:A.ZodTuple,rest:null,...ce(t)})};class om extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.map)return L(r,{code:z.invalid_type,expected:q.map,received:r.parsedType}),ie;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Sr(r,a,r.path,[u,"key"])),value:i._parse(new Sr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ie;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}om.create=(e,t,n)=>new om({valueType:t,keyType:e,typeName:A.ZodMap,...ce(n)});class io extends me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==q.set)return L(r,{code:z.invalid_type,expected:q.set,received:r.parsedType}),ie;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(L(r,{code:z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(L(r,{code:z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ie;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Sr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,n){return new io({...this._def,minSize:{value:t,message:B.toString(n)}})}max(t,n){return new io({...this._def,maxSize:{value:t,message:B.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}io.create=(e,t)=>new io({valueType:e,minSize:null,maxSize:null,typeName:A.ZodSet,...ce(t)});class am extends me{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}am.create=(e,t)=>new am({getter:e,typeName:A.ZodLazy,...ce(t)});let lm=class extends me{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return L(n,{received:n.data,code:z.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:t.data}}get value(){return this._def.value}};lm.create=(e,t)=>new lm({value:e,typeName:A.ZodLiteral,...ce(t)});function Dv(e,t){return new uf({values:e,typeName:A.ZodEnum,...ce(t)})}let uf=class Lc extends me{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return L(n,{expected:ge.joinValues(r),received:n.parsedType,code:z.invalid_type}),ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return L(n,{received:n.data,code:z.invalid_enum_value,options:r}),ie}return rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Lc.create(t,{...this._def,...n})}exclude(t,n=this._def){return Lc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};uf.create=Dv;class um extends me{_parse(t){const n=ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==q.string&&r.parsedType!==q.number){const s=ge.objectValues(n);return L(r,{expected:ge.joinValues(s),received:r.parsedType,code:z.invalid_type}),ie}if(this._cache||(this._cache=new Set(ge.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ge.objectValues(n);return L(r,{received:r.data,code:z.invalid_enum_value,options:s}),ie}return rn(t.data)}get enum(){return this._def.values}}um.create=(e,t)=>new um({values:e,typeName:A.ZodNativeEnum,...ce(t)});class Ja extends me{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==q.promise&&n.common.async===!1)return L(n,{code:z.invalid_type,expected:q.promise,received:n.parsedType}),ie;const r=n.parsedType===q.promise?n.data:Promise.resolve(n.data);return rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ja.create=(e,t)=>new Ja({type:e,typeName:A.ZodPromise,...ce(t)});class Fs extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===A.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{L(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ie;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ie:l.status==="dirty"||n.value==="dirty"?_i(l.value):l});{if(n.value==="aborted")return ie;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ie:a.status==="dirty"||n.value==="dirty"?_i(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ie:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ie:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Zs(o))return ie;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Zs(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):ie);ge.assertNever(s)}}Fs.create=(e,t,n)=>new Fs({schema:e,typeName:A.ZodEffects,effect:t,...ce(n)});Fs.createWithPreprocess=(e,t,n)=>new Fs({schema:t,effect:{type:"preprocess",transform:e},typeName:A.ZodEffects,...ce(n)});let Ln=class extends me{_parse(t){return this._getType(t)===q.undefined?rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ln.create=(e,t)=>new Ln({innerType:e,typeName:A.ZodOptional,...ce(t)});let Vs=class extends me{_parse(t){return this._getType(t)===q.null?rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Vs.create=(e,t)=>new Vs({innerType:e,typeName:A.ZodNullable,...ce(t)});let Zc=class extends me{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Zc.create=(e,t)=>new Zc({innerType:e,typeName:A.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ce(t)});let Uc=class extends me{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wa(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Uc.create=(e,t)=>new Uc({innerType:e,typeName:A.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ce(t)});class cm extends me{_parse(t){if(this._getType(t)!==q.nan){const r=this._getOrReturnCtx(t);return L(r,{code:z.invalid_type,expected:q.nan,received:r.parsedType}),ie}return{status:"valid",value:t.data}}}cm.create=e=>new cm({typeName:A.ZodNaN,...ce(e)});class fS extends me{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cf extends me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ie:i.status==="dirty"?(n.dirty(),_i(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ie:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new cf({in:t,out:n,typeName:A.ZodPipeline})}}let Fc=class extends me{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Zs(s)&&(s.value=Object.freeze(s.value)),s);return Wa(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}};Fc.create=(e,t)=>new Fc({innerType:e,typeName:A.ZodReadonly,...ce(t)});Sn.lazycreate;var A;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(A||(A={}));$r.create;Us.create;const hS=Sn.create;Sn.strictCreate;Ga.create;Qa.create;Yr.create;uf.create;Ja.create;Ln.create;Vs.create;function I(e,t,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in o.prototype)c in a||Object.defineProperty(a,c,{value:o.prototype[c].bind(a)});a._zod.constr=o,a._zod.def=l}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var l;const u=n!=null&&n.Parent?new i:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class oo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Vc={};function Er(e){return e&&Object.assign(Vc,e),Vc}function Lv(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function pS(e,t){return typeof t=="bigint"?t.toString():t}function df(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ff(e){return e==null}function hf(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function mS(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}function Pe(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function mo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ci(e){return JSON.stringify(e)}const Zv=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Ya(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const gS=df(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Xa(e){if(Ya(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Ya(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const yS=new Set(["string","number","symbol"]);function go(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rr(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function W(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function vS(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const _S={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function wS(e,t){const n={},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(n[s]=r.shape[s])}return Rr(e,{...e._zod.def,shape:n,checks:[]})}function kS(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete n[s]}return Rr(e,{...e._zod.def,shape:n,checks:[]})}function SS(e,t){if(!Xa(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return mo(this,"shape",r),r},checks:[]};return Rr(e,n)}function $S(e,t){return Rr(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return mo(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function ES(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=e?new e({type:"optional",innerType:r[i]}):r[i])}else for(const i in r)s[i]=e?new e({type:"optional",innerType:r[i]}):r[i];return Rr(t,{...t._zod.def,shape:s,checks:[]})}function bS(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=new e({type:"nonoptional",innerType:r[i]}))}else for(const i in r)s[i]=new e({type:"nonoptional",innerType:r[i]});return Rr(t,{...t._zod.def,shape:s,checks:[]})}function zi(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Fr(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Bo(e){return typeof e=="string"?e:e==null?void 0:e.message}function br(e,t,n){var s,i,o,a,l,u;const r={...e,path:e.path??[]};if(!e.message){const c=Bo((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Bo((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Bo((l=n.customError)==null?void 0:l.call(n,e))??Bo((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=c}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function pf(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ao(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Uv=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,pS,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Fv=I("$ZodError",Uv),Rl=I("$ZodError",Uv,{Parent:Error});function TS(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function PS(e,t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(e),r}const Vv=e=>(t,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new oo;if(o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>br(l,i,Er())));throw Zv(a,s==null?void 0:s.callee),a}return o.value},IS=Vv(Rl),Hv=e=>async(t,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((s==null?void 0:s.Err)??e)(o.issues.map(l=>br(l,i,Er())));throw Zv(a,s==null?void 0:s.callee),a}return o.value},RS=Hv(Rl),qv=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new oo;return i.issues.length?{success:!1,error:new(e??Fv)(i.issues.map(o=>br(o,s,Er())))}:{success:!0,data:i.value}},mf=qv(Rl),Bv=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>br(o,s,Er())))}:{success:!0,data:i.value}},gf=Bv(Rl),xS=/^[cC][^\s-]{8,}$/,NS=/^[0-9a-z]+$/,OS=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,CS=/^[0-9a-vA-V]{20}$/,zS=/^[A-Za-z0-9]{27}$/,jS=/^[a-zA-Z0-9_-]{21}$/,AS=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,MS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,dm=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,DS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,LS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ZS(){return new RegExp(LS,"u")}const US=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,VS=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,HS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qS=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Wv=/^[A-Za-z0-9_-]*$/,BS=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,WS=/^\+(?:[0-9]){6,14}[0-9]$/,Kv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",KS=new RegExp(`^${Kv}$`);function Gv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function GS(e){return new RegExp(`^${Gv(e)}$`)}function QS(e){const t=Gv({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Kv}T(?:${r})$`)}const JS=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},YS=/^\d+$/,XS=/^-?\d+(?:\.\d+)?/i,e$=/true|false/i,t$=/null/i,n$=/^[^A-Z]*$/,r$=/^[^a-z]*$/,Mt=I("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Qv={number:"number",bigint:"bigint",object:"date"},Jv=I("$ZodCheckLessThan",(e,t)=>{Mt.init(e,t);const n=Qv[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Yv=I("$ZodCheckGreaterThan",(e,t)=>{Mt.init(e,t);const n=Qv[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),s$=I("$ZodCheckMultipleOf",(e,t)=>{Mt.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):mS(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),i$=I("$ZodCheckNumberFormat",(e,t)=>{var o;Mt.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),r=n?"int":"number",[s,i]=_S[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=s,l.maximum=i,n&&(l.pattern=YS)}),e._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:t.format,code:"invalid_type",input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<s&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),l>i&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:i,inst:e})}}),o$=I("$ZodCheckMaxLength",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ff(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const o=pf(s);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),a$=I("$ZodCheckMinLength",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ff(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const o=pf(s);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),l$=I("$ZodCheckLengthEquals",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!ff(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,i=s.length;if(i===t.length)return;const o=pf(s),a=i>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),xl=I("$ZodCheckStringFormat",(e,t)=>{var n,r;Mt.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),u$=I("$ZodCheckRegex",(e,t)=>{xl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),c$=I("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=n$),xl.init(e,t)}),d$=I("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=r$),xl.init(e,t)}),f$=I("$ZodCheckIncludes",(e,t)=>{Mt.init(e,t);const n=go(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),h$=I("$ZodCheckStartsWith",(e,t)=>{Mt.init(e,t);const n=new RegExp(`^${go(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),p$=I("$ZodCheckEndsWith",(e,t)=>{Mt.init(e,t);const n=new RegExp(`.*${go(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),m$=I("$ZodCheckOverwrite",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class g${constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,s.join(`
`))}}const y$={major:4,minor:0,patch:0},Ie=I("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=y$;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const o of i._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,a,l)=>{let u=zi(o),c;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(u)continue;const m=o.issues.length,v=f._zod.check(o);if(v instanceof Promise&&(l==null?void 0:l.async)===!1)throw new oo;if(c||v instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await v,o.issues.length!==m&&(u||(u=zi(o,m)))});else{if(o.issues.length===m)continue;u||(u=zi(o,m))}}return c?c.then(()=>o):o};e._zod.run=(o,a)=>{const l=e._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new oo;return l.then(u=>i(u,r,a))}return i(l,r,a)}}e["~standard"]={validate:i=>{var o;try{const a=mf(e,i);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return gf(e,i).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),yf=I("$ZodString",(e,t)=>{var n;Ie.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??JS(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ze=I("$ZodStringFormat",(e,t)=>{xl.init(e,t),yf.init(e,t)}),v$=I("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=MS),ze.init(e,t)}),_$=I("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=dm(r))}else t.pattern??(t.pattern=dm());ze.init(e,t)}),w$=I("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DS),ze.init(e,t)}),k$=I("$ZodURL",(e,t)=>{ze.init(e,t),e._zod.check=n=>{try{const r=n.value,s=new URL(r),i=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:BS.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),S$=I("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ZS()),ze.init(e,t)}),$$=I("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jS),ze.init(e,t)}),E$=I("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=xS),ze.init(e,t)}),b$=I("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=NS),ze.init(e,t)}),T$=I("$ZodULID",(e,t)=>{t.pattern??(t.pattern=OS),ze.init(e,t)}),P$=I("$ZodXID",(e,t)=>{t.pattern??(t.pattern=CS),ze.init(e,t)}),I$=I("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=zS),ze.init(e,t)}),R$=I("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=QS(t)),ze.init(e,t)}),x$=I("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=KS),ze.init(e,t)}),N$=I("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=GS(t)),ze.init(e,t)}),O$=I("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=AS),ze.init(e,t)}),C$=I("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=US),ze.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),z$=I("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=FS),ze.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),j$=I("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=VS),ze.init(e,t)}),A$=I("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=HS),ze.init(e,t),e._zod.check=n=>{const[r,s]=n.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Xv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const M$=I("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qS),ze.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Xv(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function D$(e){if(!Wv.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Xv(n)}const L$=I("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Wv),ze.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{D$(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Z$=I("$ZodE164",(e,t)=>{t.pattern??(t.pattern=WS),ze.init(e,t)});function U$(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const F$=I("$ZodJWT",(e,t)=>{ze.init(e,t),e._zod.check=n=>{U$(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),e_=I("$ZodNumber",(e,t)=>{Ie.init(e,t),e._zod.pattern=e._zod.bag.pattern??XS,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),n}}),V$=I("$ZodNumber",(e,t)=>{i$.init(e,t),e_.init(e,t)}),H$=I("$ZodBoolean",(e,t)=>{Ie.init(e,t),e._zod.pattern=e$,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),q$=I("$ZodNull",(e,t)=>{Ie.init(e,t),e._zod.pattern=t$,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const s=n.value;return s===null||n.issues.push({expected:"null",code:"invalid_type",input:s,inst:e}),n}}),B$=I("$ZodUnknown",(e,t)=>{Ie.init(e,t),e._zod.parse=n=>n}),W$=I("$ZodNever",(e,t)=>{Ie.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function fm(e,t,n){e.issues.length&&t.issues.push(...Fr(n,e.issues)),t.value[n]=e.value}const K$=I("$ZodArray",(e,t)=>{Ie.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(u=>fm(u,n,o))):fm(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Wo(e,t,n){e.issues.length&&t.issues.push(...Fr(n,e.issues)),t.value[n]=e.value}function hm(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Fr(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const t_=I("$ZodObject",(e,t)=>{Ie.init(e,t);const n=df(()=>{const f=Object.keys(t.shape);for(const v of f)if(!(t.shape[v]instanceof Ie))throw new Error(`Invalid element at key "${v}": expected a Zod schema`);const m=vS(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(m)}});Pe(e._zod,"propValues",()=>{const f=t.shape,m={};for(const v in f){const g=f[v]._zod;if(g.values){m[v]??(m[v]=new Set);for(const _ of g.values)m[v].add(_)}}return m});const r=f=>{const m=new g$(["shape","payload","ctx"]),v=n.value,g=h=>{const p=ci(h);return`shape[${p}]._zod.run({ value: input[${p}], issues: [] }, ctx)`};m.write("const input = payload.value;");const _=Object.create(null);let w=0;for(const h of v.keys)_[h]=`key_${w++}`;m.write("const newResult = {}");for(const h of v.keys)if(v.optionalKeys.has(h)){const p=_[h];m.write(`const ${p} = ${g(h)};`);const k=ci(h);m.write(`
        if (${p}.issues.length) {
          if (input[${k}] === undefined) {
            if (${k} in input) {
              newResult[${k}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${p}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${k}, ...iss.path] : [${k}],
              }))
            );
          }
        } else if (${p}.value === undefined) {
          if (${k} in input) newResult[${k}] = undefined;
        } else {
          newResult[${k}] = ${p}.value;
        }
        `)}else{const p=_[h];m.write(`const ${p} = ${g(h)};`),m.write(`
          if (${p}.issues.length) payload.issues = payload.issues.concat(${p}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ci(h)}, ...iss.path] : [${ci(h)}]
          })));`),m.write(`newResult[${ci(h)}] = ${p}.value`)}m.write("payload.value = newResult;"),m.write("return payload;");const d=m.compile();return(h,p)=>d(f,h,p)};let s;const i=Ya,o=!Vc.jitless,l=o&&gS.value,u=t.catchall;let c;e._zod.parse=(f,m)=>{c??(c=n.value);const v=f.value;if(!i(v))return f.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),f;const g=[];if(o&&l&&(m==null?void 0:m.async)===!1&&m.jitless!==!0)s||(s=r(t.shape)),f=s(f,m);else{f.value={};const p=c.shape;for(const k of c.keys){const $=p[k],R=$._zod.run({value:v[k],issues:[]},m),x=$._zod.optin==="optional"&&$._zod.optout==="optional";R instanceof Promise?g.push(R.then(j=>x?hm(j,f,k,v):Wo(j,f,k))):x?hm(R,f,k,v):Wo(R,f,k)}}if(!u)return g.length?Promise.all(g).then(()=>f):f;const _=[],w=c.keySet,d=u._zod,h=d.def.type;for(const p of Object.keys(v)){if(w.has(p))continue;if(h==="never"){_.push(p);continue}const k=d.run({value:v[p],issues:[]},m);k instanceof Promise?g.push(k.then($=>Wo($,f,p))):Wo(k,f,p)}return _.length&&f.issues.push({code:"unrecognized_keys",keys:_,input:v,inst:e}),g.length?Promise.all(g).then(()=>f):f}});function pm(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>br(i,r,Er())))}),t}const n_=I("$ZodUnion",(e,t)=>{Ie.init(e,t),Pe(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Pe(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Pe(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Pe(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>hf(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let s=!1;const i=[];for(const o of t.options){const a=o._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)i.push(a),s=!0;else{if(a.issues.length===0)return a;i.push(a)}}return s?Promise.all(i).then(o=>pm(o,n,e,r)):pm(i,n,e,r)}}),G$=I("$ZodDiscriminatedUnion",(e,t)=>{n_.init(e,t);const n=e._zod.parse;Pe(e._zod,"propValues",()=>{const s={};for(const i of t.options){const o=i._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[a,l]of Object.entries(o)){s[a]||(s[a]=new Set);for(const u of l)s[a].add(u)}}return s});const r=df(()=>{const s=t.options,i=new Map;for(const o of s){const a=o._zod.propValues[t.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const l of a){if(i.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);i.set(l,o)}}return i});e._zod.parse=(s,i)=>{const o=s.value;if(!Ya(o))return s.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),s;const a=r.value.get(o==null?void 0:o[t.discriminator]);return a?a._zod.run(s,i):t.unionFallback?n(s,i):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),s)}}),Q$=I("$ZodIntersection",(e,t)=>{Ie.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,i=t.left._zod.run({value:s,issues:[]},r),o=t.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,u])=>mm(n,l,u)):mm(n,i,o)}});function Hc(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Xa(e)&&Xa(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),s={...e,...t};for(const i of r){const o=Hc(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r],o=Hc(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function mm(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),zi(e))return e;const r=Hc(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const J$=I("$ZodRecord",(e,t)=>{Ie.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Xa(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const i=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=t.valueType._zod.run({value:s[l],issues:[]},r);u instanceof Promise?i.push(u.then(c=>{c.issues.length&&n.issues.push(...Fr(l,c.issues)),n.value[l]=c.value})):(u.issues.length&&n.issues.push(...Fr(l,u.issues)),n.value[l]=u.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=t.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(u=>br(u,r,Er())),input:o,path:[o],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(u=>{u.issues.length&&n.issues.push(...Fr(o,u.issues)),n.value[a.value]=u.value})):(l.issues.length&&n.issues.push(...Fr(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Y$=I("$ZodEnum",(e,t)=>{Ie.init(e,t);const n=Lv(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>yS.has(typeof r)).map(r=>typeof r=="string"?go(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:n,input:i,inst:e}),r}}),X$=I("$ZodLiteral",(e,t)=>{Ie.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?go(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const s=n.value;return e._zod.values.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),eE=I("$ZodTransform",(e,t)=>{Ie.init(e,t),e._zod.parse=(n,r)=>{const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new oo;return n.value=s,n}}),tE=I("$ZodOptional",(e,t)=>{Ie.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Pe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Pe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${hf(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),nE=I("$ZodNullable",(e,t)=>{Ie.init(e,t),Pe(e._zod,"optin",()=>t.innerType._zod.optin),Pe(e._zod,"optout",()=>t.innerType._zod.optout),Pe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${hf(n.source)}|null)$`):void 0}),Pe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),rE=I("$ZodDefault",(e,t)=>{Ie.init(e,t),e._zod.optin="optional",Pe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>gm(i,t)):gm(s,t)}});function gm(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const sE=I("$ZodPrefault",(e,t)=>{Ie.init(e,t),e._zod.optin="optional",Pe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),iE=I("$ZodNonOptional",(e,t)=>{Ie.init(e,t),Pe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>ym(i,e)):ym(s,e)}});function ym(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const oE=I("$ZodCatch",(e,t)=>{Ie.init(e,t),e._zod.optin="optional",Pe(e._zod,"optout",()=>t.innerType._zod.optout),Pe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>br(o,r,Er()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>br(i,r,Er()))},input:n.value}),n.issues=[]),n)}}),aE=I("$ZodPipe",(e,t)=>{Ie.init(e,t),Pe(e._zod,"values",()=>t.in._zod.values),Pe(e._zod,"optin",()=>t.in._zod.optin),Pe(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,r)=>{const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(i=>vm(i,t,r)):vm(s,t,r)}});function vm(e,t,n){return zi(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const lE=I("$ZodReadonly",(e,t)=>{Ie.init(e,t),Pe(e._zod,"propValues",()=>t.innerType._zod.propValues),Pe(e._zod,"values",()=>t.innerType._zod.values),Pe(e._zod,"optin",()=>t.innerType._zod.optin),Pe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(_m):_m(s)}});function _m(e){return e.value=Object.freeze(e.value),e}const uE=I("$ZodCustom",(e,t)=>{Mt.init(e,t),Ie.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(i=>wm(i,n,r,e));wm(s,n,r,e)}});function wm(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(ao(s))}}class r_{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function cE(){return new r_}const ki=cE();function dE(e,t){return new e({type:"string",...W(t)})}function fE(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...W(t)})}function km(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...W(t)})}function hE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...W(t)})}function pE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...W(t)})}function mE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...W(t)})}function gE(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...W(t)})}function yE(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...W(t)})}function vE(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...W(t)})}function _E(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...W(t)})}function wE(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...W(t)})}function kE(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...W(t)})}function SE(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...W(t)})}function $E(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...W(t)})}function EE(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...W(t)})}function bE(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...W(t)})}function TE(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...W(t)})}function PE(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...W(t)})}function IE(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...W(t)})}function RE(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...W(t)})}function xE(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...W(t)})}function NE(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...W(t)})}function OE(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...W(t)})}function CE(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...W(t)})}function zE(e,t){return new e({type:"string",format:"date",check:"string_format",...W(t)})}function jE(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...W(t)})}function AE(e,t){return new e({type:"string",format:"duration",check:"string_format",...W(t)})}function ME(e,t){return new e({type:"number",checks:[],...W(t)})}function DE(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...W(t)})}function LE(e,t){return new e({type:"boolean",...W(t)})}function ZE(e,t){return new e({type:"null",...W(t)})}function UE(e){return new e({type:"unknown"})}function FE(e,t){return new e({type:"never",...W(t)})}function Sm(e,t){return new Jv({check:"less_than",...W(t),value:e,inclusive:!1})}function Ru(e,t){return new Jv({check:"less_than",...W(t),value:e,inclusive:!0})}function $m(e,t){return new Yv({check:"greater_than",...W(t),value:e,inclusive:!1})}function xu(e,t){return new Yv({check:"greater_than",...W(t),value:e,inclusive:!0})}function Em(e,t){return new s$({check:"multiple_of",...W(t),value:e})}function s_(e,t){return new o$({check:"max_length",...W(t),maximum:e})}function el(e,t){return new a$({check:"min_length",...W(t),minimum:e})}function i_(e,t){return new l$({check:"length_equals",...W(t),length:e})}function VE(e,t){return new u$({check:"string_format",format:"regex",...W(t),pattern:e})}function HE(e){return new c$({check:"string_format",format:"lowercase",...W(e)})}function qE(e){return new d$({check:"string_format",format:"uppercase",...W(e)})}function BE(e,t){return new f$({check:"string_format",format:"includes",...W(t),includes:e})}function WE(e,t){return new h$({check:"string_format",format:"starts_with",...W(t),prefix:e})}function KE(e,t){return new p$({check:"string_format",format:"ends_with",...W(t),suffix:e})}function yo(e){return new m$({check:"overwrite",tx:e})}function GE(e){return yo(t=>t.normalize(e))}function QE(){return yo(e=>e.trim())}function JE(){return yo(e=>e.toLowerCase())}function YE(){return yo(e=>e.toUpperCase())}function XE(e,t,n){return new e({type:"array",element:t,...W(n)})}function eb(e,t,n){const r=W(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function tb(e,t,n){return new e({type:"custom",check:"custom",fn:t,...W(n)})}class bm{constructor(t){this.counter=0,this.metadataRegistry=(t==null?void 0:t.metadata)??ki,this.target=(t==null?void 0:t.target)??"draft-2020-12",this.unrepresentable=(t==null?void 0:t.unrepresentable)??"throw",this.override=(t==null?void 0:t.override)??(()=>{}),this.io=(t==null?void 0:t.io)??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var f,m,v;var r;const s=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,a);const l=(m=(f=t._zod).toJSONSchema)==null?void 0:m.call(f);if(l)a.schema=l;else{const g={...n,schemaPath:[...n.schemaPath,t],path:n.path},_=t._zod.parent;if(_)a.ref=_,this.process(_,g),this.seen.get(_).isParent=!0;else{const w=a.schema;switch(s.type){case"string":{const d=w;d.type="string";const{minimum:h,maximum:p,format:k,patterns:$,contentEncoding:R}=t._zod.bag;if(typeof h=="number"&&(d.minLength=h),typeof p=="number"&&(d.maxLength=p),k&&(d.format=i[k]??k,d.format===""&&delete d.format),R&&(d.contentEncoding=R),$&&$.size>0){const x=[...$];x.length===1?d.pattern=x[0].source:x.length>1&&(a.schema.allOf=[...x.map(j=>({...this.target==="draft-7"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const d=w,{minimum:h,maximum:p,format:k,multipleOf:$,exclusiveMaximum:R,exclusiveMinimum:x}=t._zod.bag;typeof k=="string"&&k.includes("int")?d.type="integer":d.type="number",typeof x=="number"&&(d.exclusiveMinimum=x),typeof h=="number"&&(d.minimum=h,typeof x=="number"&&(x>=h?delete d.minimum:delete d.exclusiveMinimum)),typeof R=="number"&&(d.exclusiveMaximum=R),typeof p=="number"&&(d.maximum=p,typeof R=="number"&&(R<=p?delete d.maximum:delete d.exclusiveMaximum)),typeof $=="number"&&(d.multipleOf=$);break}case"boolean":{const d=w;d.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{w.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{w.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const d=w,{minimum:h,maximum:p}=t._zod.bag;typeof h=="number"&&(d.minItems=h),typeof p=="number"&&(d.maxItems=p),d.type="array",d.items=this.process(s.element,{...g,path:[...g.path,"items"]});break}case"object":{const d=w;d.type="object",d.properties={};const h=s.shape;for(const $ in h)d.properties[$]=this.process(h[$],{...g,path:[...g.path,"properties",$]});const p=new Set(Object.keys(h)),k=new Set([...p].filter($=>{const R=s.shape[$]._zod;return this.io==="input"?R.optin===void 0:R.optout===void 0}));k.size>0&&(d.required=Array.from(k)),((v=s.catchall)==null?void 0:v._zod.def.type)==="never"?d.additionalProperties=!1:s.catchall?s.catchall&&(d.additionalProperties=this.process(s.catchall,{...g,path:[...g.path,"additionalProperties"]})):this.io==="output"&&(d.additionalProperties=!1);break}case"union":{const d=w;d.anyOf=s.options.map((h,p)=>this.process(h,{...g,path:[...g.path,"anyOf",p]}));break}case"intersection":{const d=w,h=this.process(s.left,{...g,path:[...g.path,"allOf",0]}),p=this.process(s.right,{...g,path:[...g.path,"allOf",1]}),k=R=>"allOf"in R&&Object.keys(R).length===1,$=[...k(h)?h.allOf:[h],...k(p)?p.allOf:[p]];d.allOf=$;break}case"tuple":{const d=w;d.type="array";const h=s.items.map(($,R)=>this.process($,{...g,path:[...g.path,"prefixItems",R]}));if(this.target==="draft-2020-12"?d.prefixItems=h:d.items=h,s.rest){const $=this.process(s.rest,{...g,path:[...g.path,"items"]});this.target==="draft-2020-12"?d.items=$:d.additionalItems=$}s.rest&&(d.items=this.process(s.rest,{...g,path:[...g.path,"items"]}));const{minimum:p,maximum:k}=t._zod.bag;typeof p=="number"&&(d.minItems=p),typeof k=="number"&&(d.maxItems=k);break}case"record":{const d=w;d.type="object",d.propertyNames=this.process(s.keyType,{...g,path:[...g.path,"propertyNames"]}),d.additionalProperties=this.process(s.valueType,{...g,path:[...g.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const d=w,h=Lv(s.entries);h.every(p=>typeof p=="number")&&(d.type="number"),h.every(p=>typeof p=="string")&&(d.type="string"),d.enum=h;break}case"literal":{const d=w,h=[];for(const p of s.values)if(p===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof p=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(p))}else h.push(p);if(h.length!==0)if(h.length===1){const p=h[0];d.type=p===null?"null":typeof p,d.const=p}else h.every(p=>typeof p=="number")&&(d.type="number"),h.every(p=>typeof p=="string")&&(d.type="string"),h.every(p=>typeof p=="boolean")&&(d.type="string"),h.every(p=>p===null)&&(d.type="null"),d.enum=h;break}case"file":{const d=w,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:p,maximum:k,mime:$}=t._zod.bag;p!==void 0&&(h.minLength=p),k!==void 0&&(h.maxLength=k),$?$.length===1?(h.contentMediaType=$[0],Object.assign(d,h)):d.anyOf=$.map(R=>({...h,contentMediaType:R})):Object.assign(d,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const d=this.process(s.innerType,g);w.anyOf=[d,{type:"null"}];break}case"nonoptional":{this.process(s.innerType,g),a.ref=s.innerType;break}case"success":{const d=w;d.type="boolean";break}case"default":{this.process(s.innerType,g),a.ref=s.innerType,w.default=JSON.parse(JSON.stringify(s.defaultValue));break}case"prefault":{this.process(s.innerType,g),a.ref=s.innerType,this.io==="input"&&(w._prefault=JSON.parse(JSON.stringify(s.defaultValue)));break}case"catch":{this.process(s.innerType,g),a.ref=s.innerType;let d;try{d=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}w.default=d;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const d=w,h=t._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");d.type="string",d.pattern=h.source;break}case"pipe":{const d=this.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;this.process(d,g),a.ref=d;break}case"readonly":{this.process(s.innerType,g),a.ref=s.innerType,w.readOnly=!0;break}case"promise":{this.process(s.innerType,g),a.ref=s.innerType;break}case"optional":{this.process(s.innerType,g),a.ref=s.innerType;break}case"lazy":{const d=t._zod.innerType;this.process(d,g),a.ref=d;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const u=this.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),this.io==="input"&&Ke(t)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(t).schema}emit(t,n){var c,f,m,v,g,_;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},s=this.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=w=>{var $;const d=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const R=($=r.external.registry.get(w[0]))==null?void 0:$.id,x=r.external.uri??(re=>re);if(R)return{ref:x(R)};const j=w[1].defId??w[1].schema.id??`schema${this.counter++}`;return w[1].defId=j,{defId:j,ref:`${x("__shared")}#/${d}/${j}`}}if(w[1]===s)return{ref:"#"};const p=`#/${d}/`,k=w[1].schema.id??`__schema${this.counter++}`;return{defId:k,ref:p+k}},o=w=>{if(w[1].schema.$ref)return;const d=w[1],{ref:h,defId:p}=i(w);d.def={...d.schema},p&&(d.defId=p);const k=d.schema;for(const $ in k)delete k[$];k.$ref=h};if(r.cycles==="throw")for(const w of this.seen.entries()){const d=w[1];if(d.cycle)throw new Error(`Cycle detected: #/${(c=d.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const w of this.seen.entries()){const d=w[1];if(t===w[0]){o(w);continue}if(r.external){const p=(f=r.external.registry.get(w[0]))==null?void 0:f.id;if(t!==w[0]&&p){o(w);continue}}if((m=this.metadataRegistry.get(w[0]))==null?void 0:m.id){o(w);continue}if(d.cycle){o(w);continue}if(d.count>1&&r.reused==="ref"){o(w);continue}}const a=(w,d)=>{const h=this.seen.get(w),p=h.def??h.schema,k={...p};if(h.ref===null)return;const $=h.ref;if(h.ref=null,$){a($,d);const R=this.seen.get($).schema;R.$ref&&d.target==="draft-7"?(p.allOf=p.allOf??[],p.allOf.push(R)):(Object.assign(p,R),Object.assign(p,k))}h.isParent||this.override({zodSchema:w,jsonSchema:p,path:h.path??[]})};for(const w of[...this.seen.entries()].reverse())a(w[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),(v=r.external)!=null&&v.uri){const w=(g=r.external.registry.get(t))==null?void 0:g.id;if(!w)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(w)}Object.assign(l,s.def);const u=((_=r.external)==null?void 0:_.defs)??{};for(const w of this.seen.entries()){const d=w[1];d.def&&d.defId&&(u[d.defId]=d.def)}r.external||Object.keys(u).length>0&&(this.target==="draft-2020-12"?l.$defs=u:l.definitions=u);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function nb(e,t){if(e instanceof r_){const r=new bm(t),s={};for(const a of e._idmap.entries()){const[l,u]=a;r.process(u)}const i={},o={registry:e,uri:t==null?void 0:t.uri,defs:s};for(const a of e._idmap.entries()){const[l,u]=a;i[l]=r.emit(u,{...t,external:o})}if(Object.keys(s).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[a]:s}}return{schemas:i}}const n=new bm(t);return n.process(e),n.emit(e,t)}function Ke(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const s=e._zod.def;switch(s.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Ke(s.element,n);case"object":{for(const i in s.shape)if(Ke(s.shape[i],n))return!0;return!1}case"union":{for(const i of s.options)if(Ke(i,n))return!0;return!1}case"intersection":return Ke(s.left,n)||Ke(s.right,n);case"tuple":{for(const i of s.items)if(Ke(i,n))return!0;return!!(s.rest&&Ke(s.rest,n))}case"record":return Ke(s.keyType,n)||Ke(s.valueType,n);case"map":return Ke(s.keyType,n)||Ke(s.valueType,n);case"set":return Ke(s.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Ke(s.innerType,n);case"lazy":return Ke(s.getter(),n);case"default":return Ke(s.innerType,n);case"prefault":return Ke(s.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return Ke(s.in,n)||Ke(s.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${s.type}`)}const rb=I("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ie.init(e,t),e.def=t,e.parse=(n,r)=>IS(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>mf(e,n,r),e.parseAsync=async(n,r)=>RS(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>gf(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Rr(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e)}),sb=I("ZodMiniObject",(e,t)=>{t_.init(e,t),rb.init(e,t),Pe(e,"shape",()=>t.shape)});function Tm(e,t){const n={type:"object",get shape(){return mo(this,"shape",{...e}),this.shape},...W(t)};return new sb(n)}function Nn(e){return!!e._zod}function $s(e){const t=Object.values(e);if(t.length===0)return Tm({});const n=t.every(Nn),r=t.every(s=>!Nn(s));if(n)return Tm(e);if(r)return hS(e);throw new Error("Mixed Zod versions detected in object shape.")}function ji(e,t){return Nn(e)?mf(e,t):e.safeParse(t)}async function Nu(e,t){return Nn(e)?await gf(e,t):await e.safeParseAsync(t)}function vo(e){var n,r;if(!e)return;let t;if(Nn(e)?t=(r=(n=e._zod)==null?void 0:n.def)==null?void 0:r.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function di(e){var t;if(e){if(typeof e=="object"){const n=e,r=e;if(!n._def&&!r._zod){const s=Object.values(e);if(s.length>0&&s.every(i=>typeof i=="object"&&i!==null&&(i._def!==void 0||i._zod!==void 0||typeof i.parse=="function")))return $s(e)}}if(Nn(e)){const r=(t=e._zod)==null?void 0:t.def;if(r&&(r.type==="object"||r.shape!==void 0))return e}else if(e.shape!==void 0)return e}}function Ou(e){if(e&&typeof e=="object"){if("message"in e&&typeof e.message=="string")return e.message;if("issues"in e&&Array.isArray(e.issues)&&e.issues.length>0){const t=e.issues[0];if(t&&typeof t=="object"&&"message"in t)return String(t.message)}try{return JSON.stringify(e)}catch{return String(e)}}return String(e)}function ib(e){return e.description}function ob(e){var n,r,s;if(Nn(e))return((r=(n=e._zod)==null?void 0:n.def)==null?void 0:r.type)==="optional";const t=e;return typeof e.isOptional=="function"?e.isOptional():((s=t._def)==null?void 0:s.typeName)==="ZodOptional"}function o_(e){var s;if(Nn(e)){const o=(s=e._zod)==null?void 0:s.def;if(o){if(o.value!==void 0)return o.value;if(Array.isArray(o.values)&&o.values.length>0)return o.values[0]}}const n=e._def;if(n){if(n.value!==void 0)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}const r=e.value;if(r!==void 0)return r}const ab=I("ZodISODateTime",(e,t)=>{R$.init(e,t),Ue.init(e,t)});function a_(e){return CE(ab,e)}const lb=I("ZodISODate",(e,t)=>{x$.init(e,t),Ue.init(e,t)});function ub(e){return zE(lb,e)}const cb=I("ZodISOTime",(e,t)=>{N$.init(e,t),Ue.init(e,t)});function db(e){return jE(cb,e)}const fb=I("ZodISODuration",(e,t)=>{O$.init(e,t),Ue.init(e,t)});function hb(e){return AE(fb,e)}const pb=(e,t)=>{Fv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>PS(e,n)},flatten:{value:n=>TS(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Nl=I("ZodError",pb,{Parent:Error}),mb=Vv(Nl),gb=Hv(Nl),yb=qv(Nl),vb=Bv(Nl),Ze=I("ZodType",(e,t)=>(Ie.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Rr(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>mb(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>yb(e,n,r),e.parseAsync=async(n,r)=>gb(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>vb(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(lT(n,r)),e.superRefine=n=>e.check(uT(n)),e.overwrite=n=>e.check(yo(n)),e.optional=()=>He(e),e.nullable=()=>Rm(e),e.nullish=()=>He(Rm(e)),e.nonoptional=n=>eT(e,n),e.array=()=>he(e),e.or=n=>Oe([e,n]),e.and=n=>vf(e,n),e.transform=n=>Bc(e,p_(n)),e.default=n=>Jb(e,n),e.prefault=n=>Xb(e,n),e.catch=n=>nT(e,n),e.pipe=n=>Bc(e,n),e.readonly=()=>iT(e),e.describe=n=>{const r=e.clone();return ki.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=ki.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ki.get(e);const r=e.clone();return ki.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),l_=I("_ZodString",(e,t)=>{yf.init(e,t),Ze.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(VE(...r)),e.includes=(...r)=>e.check(BE(...r)),e.startsWith=(...r)=>e.check(WE(...r)),e.endsWith=(...r)=>e.check(KE(...r)),e.min=(...r)=>e.check(el(...r)),e.max=(...r)=>e.check(s_(...r)),e.length=(...r)=>e.check(i_(...r)),e.nonempty=(...r)=>e.check(el(1,...r)),e.lowercase=r=>e.check(HE(r)),e.uppercase=r=>e.check(qE(r)),e.trim=()=>e.check(QE()),e.normalize=(...r)=>e.check(GE(...r)),e.toLowerCase=()=>e.check(JE()),e.toUpperCase=()=>e.check(YE())}),_b=I("ZodString",(e,t)=>{yf.init(e,t),l_.init(e,t),e.email=n=>e.check(fE(wb,n)),e.url=n=>e.check(yE(kb,n)),e.jwt=n=>e.check(OE(Ab,n)),e.emoji=n=>e.check(vE(Sb,n)),e.guid=n=>e.check(km(Pm,n)),e.uuid=n=>e.check(hE(Ko,n)),e.uuidv4=n=>e.check(pE(Ko,n)),e.uuidv6=n=>e.check(mE(Ko,n)),e.uuidv7=n=>e.check(gE(Ko,n)),e.nanoid=n=>e.check(_E($b,n)),e.guid=n=>e.check(km(Pm,n)),e.cuid=n=>e.check(wE(Eb,n)),e.cuid2=n=>e.check(kE(bb,n)),e.ulid=n=>e.check(SE(Tb,n)),e.base64=n=>e.check(RE(Cb,n)),e.base64url=n=>e.check(xE(zb,n)),e.xid=n=>e.check($E(Pb,n)),e.ksuid=n=>e.check(EE(Ib,n)),e.ipv4=n=>e.check(bE(Rb,n)),e.ipv6=n=>e.check(TE(xb,n)),e.cidrv4=n=>e.check(PE(Nb,n)),e.cidrv6=n=>e.check(IE(Ob,n)),e.e164=n=>e.check(NE(jb,n)),e.datetime=n=>e.check(a_(n)),e.date=n=>e.check(ub(n)),e.time=n=>e.check(db(n)),e.duration=n=>e.check(hb(n))});function T(e){return dE(_b,e)}const Ue=I("ZodStringFormat",(e,t)=>{ze.init(e,t),l_.init(e,t)}),wb=I("ZodEmail",(e,t)=>{w$.init(e,t),Ue.init(e,t)}),Pm=I("ZodGUID",(e,t)=>{v$.init(e,t),Ue.init(e,t)}),Ko=I("ZodUUID",(e,t)=>{_$.init(e,t),Ue.init(e,t)}),kb=I("ZodURL",(e,t)=>{k$.init(e,t),Ue.init(e,t)}),Sb=I("ZodEmoji",(e,t)=>{S$.init(e,t),Ue.init(e,t)}),$b=I("ZodNanoID",(e,t)=>{$$.init(e,t),Ue.init(e,t)}),Eb=I("ZodCUID",(e,t)=>{E$.init(e,t),Ue.init(e,t)}),bb=I("ZodCUID2",(e,t)=>{b$.init(e,t),Ue.init(e,t)}),Tb=I("ZodULID",(e,t)=>{T$.init(e,t),Ue.init(e,t)}),Pb=I("ZodXID",(e,t)=>{P$.init(e,t),Ue.init(e,t)}),Ib=I("ZodKSUID",(e,t)=>{I$.init(e,t),Ue.init(e,t)}),Rb=I("ZodIPv4",(e,t)=>{C$.init(e,t),Ue.init(e,t)}),xb=I("ZodIPv6",(e,t)=>{z$.init(e,t),Ue.init(e,t)}),Nb=I("ZodCIDRv4",(e,t)=>{j$.init(e,t),Ue.init(e,t)}),Ob=I("ZodCIDRv6",(e,t)=>{A$.init(e,t),Ue.init(e,t)}),Cb=I("ZodBase64",(e,t)=>{M$.init(e,t),Ue.init(e,t)}),zb=I("ZodBase64URL",(e,t)=>{L$.init(e,t),Ue.init(e,t)}),jb=I("ZodE164",(e,t)=>{Z$.init(e,t),Ue.init(e,t)}),Ab=I("ZodJWT",(e,t)=>{F$.init(e,t),Ue.init(e,t)}),u_=I("ZodNumber",(e,t)=>{e_.init(e,t),Ze.init(e,t),e.gt=(r,s)=>e.check($m(r,s)),e.gte=(r,s)=>e.check(xu(r,s)),e.min=(r,s)=>e.check(xu(r,s)),e.lt=(r,s)=>e.check(Sm(r,s)),e.lte=(r,s)=>e.check(Ru(r,s)),e.max=(r,s)=>e.check(Ru(r,s)),e.int=r=>e.check(Im(r)),e.safe=r=>e.check(Im(r)),e.positive=r=>e.check($m(0,r)),e.nonnegative=r=>e.check(xu(0,r)),e.negative=r=>e.check(Sm(0,r)),e.nonpositive=r=>e.check(Ru(0,r)),e.multipleOf=(r,s)=>e.check(Em(r,s)),e.step=(r,s)=>e.check(Em(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ee(e){return ME(u_,e)}const Mb=I("ZodNumberFormat",(e,t)=>{V$.init(e,t),u_.init(e,t)});function Im(e){return DE(Mb,e)}const Db=I("ZodBoolean",(e,t)=>{H$.init(e,t),Ze.init(e,t)});function at(e){return LE(Db,e)}const Lb=I("ZodNull",(e,t)=>{q$.init(e,t),Ze.init(e,t)});function c_(e){return ZE(Lb,e)}const Zb=I("ZodUnknown",(e,t)=>{B$.init(e,t),Ze.init(e,t)});function Me(){return UE(Zb)}const Ub=I("ZodNever",(e,t)=>{W$.init(e,t),Ze.init(e,t)});function Fb(e){return FE(Ub,e)}const Vb=I("ZodArray",(e,t)=>{K$.init(e,t),Ze.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(el(n,r)),e.nonempty=n=>e.check(el(1,n)),e.max=(n,r)=>e.check(s_(n,r)),e.length=(n,r)=>e.check(i_(n,r)),e.unwrap=()=>e.element});function he(e,t){return XE(Vb,e,t)}const d_=I("ZodObject",(e,t)=>{t_.init(e,t),Ze.init(e,t),Pe(e,"shape",()=>t.shape),e.keyof=()=>Kt(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Me()}),e.loose=()=>e.clone({...e._zod.def,catchall:Me()}),e.strict=()=>e.clone({...e._zod.def,catchall:Fb()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>SS(e,n),e.merge=n=>$S(e,n),e.pick=n=>wS(e,n),e.omit=n=>kS(e,n),e.partial=(...n)=>ES(m_,e,n[0]),e.required=(...n)=>bS(g_,e,n[0])});function U(e,t){const n={type:"object",get shape(){return mo(this,"shape",{...e}),this.shape},...W(t)};return new d_(n)}function Ot(e,t){return new d_({type:"object",get shape(){return mo(this,"shape",{...e}),this.shape},catchall:Me(),...W(t)})}const f_=I("ZodUnion",(e,t)=>{n_.init(e,t),Ze.init(e,t),e.options=t.options});function Oe(e,t){return new f_({type:"union",options:e,...W(t)})}const Hb=I("ZodDiscriminatedUnion",(e,t)=>{f_.init(e,t),G$.init(e,t)});function h_(e,t,n){return new Hb({type:"union",options:t,discriminator:e,...W(n)})}const qb=I("ZodIntersection",(e,t)=>{Q$.init(e,t),Ze.init(e,t)});function vf(e,t){return new qb({type:"intersection",left:e,right:t})}const Bb=I("ZodRecord",(e,t)=>{J$.init(e,t),Ze.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function De(e,t,n){return new Bb({type:"record",keyType:e,valueType:t,...W(n)})}const qc=I("ZodEnum",(e,t)=>{Y$.init(e,t),Ze.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new qc({...t,checks:[],...W(s),entries:i})},e.exclude=(r,s)=>{const i={...t.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new qc({...t,checks:[],...W(s),entries:i})}});function Kt(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new qc({type:"enum",entries:n,...W(t)})}const Wb=I("ZodLiteral",(e,t)=>{X$.init(e,t),Ze.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function G(e,t){return new Wb({type:"literal",values:Array.isArray(e)?e:[e],...W(t)})}const Kb=I("ZodTransform",(e,t)=>{eE.init(e,t),Ze.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(ao(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(ao(o))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function p_(e){return new Kb({type:"transform",transform:e})}const m_=I("ZodOptional",(e,t)=>{tE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function He(e){return new m_({type:"optional",innerType:e})}const Gb=I("ZodNullable",(e,t)=>{nE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Rm(e){return new Gb({type:"nullable",innerType:e})}const Qb=I("ZodDefault",(e,t)=>{rE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Jb(e,t){return new Qb({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Yb=I("ZodPrefault",(e,t)=>{sE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xb(e,t){return new Yb({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const g_=I("ZodNonOptional",(e,t)=>{iE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType});function eT(e,t){return new g_({type:"nonoptional",innerType:e,...W(t)})}const tT=I("ZodCatch",(e,t)=>{oE.init(e,t),Ze.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function nT(e,t){return new tT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const rT=I("ZodPipe",(e,t)=>{aE.init(e,t),Ze.init(e,t),e.in=t.in,e.out=t.out});function Bc(e,t){return new rT({type:"pipe",in:e,out:t})}const sT=I("ZodReadonly",(e,t)=>{lE.init(e,t),Ze.init(e,t)});function iT(e){return new sT({type:"readonly",innerType:e})}const y_=I("ZodCustom",(e,t)=>{uE.init(e,t),Ze.init(e,t)});function oT(e){const t=new Mt({check:"custom"});return t._zod.check=e,t}function aT(e,t){return eb(y_,e??(()=>!0),t)}function lT(e,t={}){return tb(y_,e,t)}function uT(e){const t=oT(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ao(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(ao(s))}},e(n.value,n)));return t}function v_(e,t){return Bc(p_(e),t)}const __="2025-11-25",cT=[__,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],zr="io.modelcontextprotocol/related-task",Ol="2.0",lt=aT(e=>e!==null&&(typeof e=="object"||typeof e=="function")),w_=Oe([T(),Ee().int()]),k_=T();Ot({ttl:Oe([Ee(),c_()]).optional(),pollInterval:Ee().optional()});const dT=U({ttl:Ee().optional()}),fT=U({taskId:T()}),_f=Ot({progressToken:w_.optional(),[zr]:fT.optional()}),Gt=U({_meta:_f.optional()}),_o=Gt.extend({task:dT.optional()}),hT=e=>_o.safeParse(e).success,dt=U({method:T(),params:Gt.loose().optional()}),sn=U({_meta:_f.optional()}),on=U({method:T(),params:sn.loose().optional()}),ft=Ot({_meta:_f.optional()}),Cl=Oe([T(),Ee().int()]),S_=U({jsonrpc:G(Ol),id:Cl,...dt.shape}).strict(),xm=e=>S_.safeParse(e).success,$_=U({jsonrpc:G(Ol),...on.shape}).strict(),pT=e=>$_.safeParse(e).success,wf=U({jsonrpc:G(Ol),id:Cl,result:ft}).strict(),Go=e=>wf.safeParse(e).success;var ne;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(ne||(ne={}));const kf=U({jsonrpc:G(Ol),id:Cl.optional(),error:U({code:Ee().int(),message:T(),data:Me().optional()})}).strict(),mT=e=>kf.safeParse(e).success,gT=Oe([S_,$_,wf,kf]);Oe([wf,kf]);const Sf=ft.strict(),yT=sn.extend({requestId:Cl.optional(),reason:T().optional()}),$f=on.extend({method:G("notifications/cancelled"),params:yT}),vT=U({src:T(),mimeType:T().optional(),sizes:he(T()).optional(),theme:Kt(["light","dark"]).optional()}),wo=U({icons:he(vT).optional()}),Hs=U({name:T(),title:T().optional()}),E_=Hs.extend({...Hs.shape,...wo.shape,version:T(),websiteUrl:T().optional(),description:T().optional()}),_T=vf(U({applyDefaults:at().optional()}),De(T(),Me())),wT=v_(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,vf(U({form:_T.optional(),url:lt.optional()}),De(T(),Me()).optional())),kT=Ot({list:lt.optional(),cancel:lt.optional(),requests:Ot({sampling:Ot({createMessage:lt.optional()}).optional(),elicitation:Ot({create:lt.optional()}).optional()}).optional()}),ST=Ot({list:lt.optional(),cancel:lt.optional(),requests:Ot({tools:Ot({call:lt.optional()}).optional()}).optional()}),$T=U({experimental:De(T(),lt).optional(),sampling:U({context:lt.optional(),tools:lt.optional()}).optional(),elicitation:wT.optional(),roots:U({listChanged:at().optional()}).optional(),tasks:kT.optional()}),ET=Gt.extend({protocolVersion:T(),capabilities:$T,clientInfo:E_}),b_=dt.extend({method:G("initialize"),params:ET}),bT=U({experimental:De(T(),lt).optional(),logging:lt.optional(),completions:lt.optional(),prompts:U({listChanged:at().optional()}).optional(),resources:U({subscribe:at().optional(),listChanged:at().optional()}).optional(),tools:U({listChanged:at().optional()}).optional(),tasks:ST.optional()}),TT=ft.extend({protocolVersion:T(),capabilities:bT,serverInfo:E_,instructions:T().optional()}),T_=on.extend({method:G("notifications/initialized"),params:sn.optional()}),Ef=dt.extend({method:G("ping"),params:Gt.optional()}),PT=U({progress:Ee(),total:He(Ee()),message:He(T())}),IT=U({...sn.shape,...PT.shape,progressToken:w_}),bf=on.extend({method:G("notifications/progress"),params:IT}),RT=Gt.extend({cursor:k_.optional()}),ko=dt.extend({params:RT.optional()}),So=ft.extend({nextCursor:k_.optional()}),xT=Kt(["working","input_required","completed","failed","cancelled"]),$o=U({taskId:T(),status:xT,ttl:Oe([Ee(),c_()]),createdAt:T(),lastUpdatedAt:T(),pollInterval:He(Ee()),statusMessage:He(T())}),zl=ft.extend({task:$o}),NT=sn.merge($o),tl=on.extend({method:G("notifications/tasks/status"),params:NT}),Tf=dt.extend({method:G("tasks/get"),params:Gt.extend({taskId:T()})}),Pf=ft.merge($o),If=dt.extend({method:G("tasks/result"),params:Gt.extend({taskId:T()})});ft.loose();const Rf=ko.extend({method:G("tasks/list")}),xf=So.extend({tasks:he($o)}),Nf=dt.extend({method:G("tasks/cancel"),params:Gt.extend({taskId:T()})}),OT=ft.merge($o),P_=U({uri:T(),mimeType:He(T()),_meta:De(T(),Me()).optional()}),I_=P_.extend({text:T()}),Of=T().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),R_=P_.extend({blob:Of}),Eo=Kt(["user","assistant"]),Qs=U({audience:he(Eo).optional(),priority:Ee().min(0).max(1).optional(),lastModified:a_({offset:!0}).optional()}),x_=U({...Hs.shape,...wo.shape,uri:T(),description:He(T()),mimeType:He(T()),annotations:Qs.optional(),_meta:He(Ot({}))}),CT=U({...Hs.shape,...wo.shape,uriTemplate:T(),description:He(T()),mimeType:He(T()),annotations:Qs.optional(),_meta:He(Ot({}))}),Wc=ko.extend({method:G("resources/list")}),zT=So.extend({resources:he(x_)}),Kc=ko.extend({method:G("resources/templates/list")}),jT=So.extend({resourceTemplates:he(CT)}),Cf=Gt.extend({uri:T()}),AT=Cf,Gc=dt.extend({method:G("resources/read"),params:AT}),MT=ft.extend({contents:he(Oe([I_,R_]))}),DT=on.extend({method:G("notifications/resources/list_changed"),params:sn.optional()}),LT=Cf,ZT=dt.extend({method:G("resources/subscribe"),params:LT}),UT=Cf,FT=dt.extend({method:G("resources/unsubscribe"),params:UT}),VT=sn.extend({uri:T()}),HT=on.extend({method:G("notifications/resources/updated"),params:VT}),qT=U({name:T(),description:He(T()),required:He(at())}),BT=U({...Hs.shape,...wo.shape,description:He(T()),arguments:He(he(qT)),_meta:He(Ot({}))}),Qc=ko.extend({method:G("prompts/list")}),WT=So.extend({prompts:he(BT)}),KT=Gt.extend({name:T(),arguments:De(T(),T()).optional()}),Jc=dt.extend({method:G("prompts/get"),params:KT}),zf=U({type:G("text"),text:T(),annotations:Qs.optional(),_meta:De(T(),Me()).optional()}),jf=U({type:G("image"),data:Of,mimeType:T(),annotations:Qs.optional(),_meta:De(T(),Me()).optional()}),Af=U({type:G("audio"),data:Of,mimeType:T(),annotations:Qs.optional(),_meta:De(T(),Me()).optional()}),GT=U({type:G("tool_use"),name:T(),id:T(),input:De(T(),Me()),_meta:De(T(),Me()).optional()}),QT=U({type:G("resource"),resource:Oe([I_,R_]),annotations:Qs.optional(),_meta:De(T(),Me()).optional()}),JT=x_.extend({type:G("resource_link")}),Mf=Oe([zf,jf,Af,JT,QT]),YT=U({role:Eo,content:Mf}),XT=ft.extend({description:T().optional(),messages:he(YT)}),eP=on.extend({method:G("notifications/prompts/list_changed"),params:sn.optional()}),tP=U({title:T().optional(),readOnlyHint:at().optional(),destructiveHint:at().optional(),idempotentHint:at().optional(),openWorldHint:at().optional()}),nP=U({taskSupport:Kt(["required","optional","forbidden"]).optional()}),N_=U({...Hs.shape,...wo.shape,description:T().optional(),inputSchema:U({type:G("object"),properties:De(T(),lt).optional(),required:he(T()).optional()}).catchall(Me()),outputSchema:U({type:G("object"),properties:De(T(),lt).optional(),required:he(T()).optional()}).catchall(Me()).optional(),annotations:tP.optional(),execution:nP.optional(),_meta:De(T(),Me()).optional()}),Yc=ko.extend({method:G("tools/list")}),rP=So.extend({tools:he(N_)}),Df=ft.extend({content:he(Mf).default([]),structuredContent:De(T(),Me()).optional(),isError:at().optional()});Df.or(ft.extend({toolResult:Me()}));const sP=_o.extend({name:T(),arguments:De(T(),Me()).optional()}),nl=dt.extend({method:G("tools/call"),params:sP}),iP=on.extend({method:G("notifications/tools/list_changed"),params:sn.optional()});U({autoRefresh:at().default(!0),debounceMs:Ee().int().nonnegative().default(300)});const rl=Kt(["debug","info","notice","warning","error","critical","alert","emergency"]),oP=Gt.extend({level:rl}),O_=dt.extend({method:G("logging/setLevel"),params:oP}),aP=sn.extend({level:rl,logger:T().optional(),data:Me()}),lP=on.extend({method:G("notifications/message"),params:aP}),uP=U({name:T().optional()}),cP=U({hints:he(uP).optional(),costPriority:Ee().min(0).max(1).optional(),speedPriority:Ee().min(0).max(1).optional(),intelligencePriority:Ee().min(0).max(1).optional()}),dP=U({mode:Kt(["auto","required","none"]).optional()}),fP=U({type:G("tool_result"),toolUseId:T().describe("The unique identifier for the corresponding tool call."),content:he(Mf).default([]),structuredContent:U({}).loose().optional(),isError:at().optional(),_meta:De(T(),Me()).optional()}),hP=h_("type",[zf,jf,Af]),sl=h_("type",[zf,jf,Af,GT,fP]),pP=U({role:Eo,content:Oe([sl,he(sl)]),_meta:De(T(),Me()).optional()}),mP=_o.extend({messages:he(pP),modelPreferences:cP.optional(),systemPrompt:T().optional(),includeContext:Kt(["none","thisServer","allServers"]).optional(),temperature:Ee().optional(),maxTokens:Ee().int(),stopSequences:he(T()).optional(),metadata:lt.optional(),tools:he(N_).optional(),toolChoice:dP.optional()}),gP=dt.extend({method:G("sampling/createMessage"),params:mP}),C_=ft.extend({model:T(),stopReason:He(Kt(["endTurn","stopSequence","maxTokens"]).or(T())),role:Eo,content:hP}),z_=ft.extend({model:T(),stopReason:He(Kt(["endTurn","stopSequence","maxTokens","toolUse"]).or(T())),role:Eo,content:Oe([sl,he(sl)])}),yP=U({type:G("boolean"),title:T().optional(),description:T().optional(),default:at().optional()}),vP=U({type:G("string"),title:T().optional(),description:T().optional(),minLength:Ee().optional(),maxLength:Ee().optional(),format:Kt(["email","uri","date","date-time"]).optional(),default:T().optional()}),_P=U({type:Kt(["number","integer"]),title:T().optional(),description:T().optional(),minimum:Ee().optional(),maximum:Ee().optional(),default:Ee().optional()}),wP=U({type:G("string"),title:T().optional(),description:T().optional(),enum:he(T()),default:T().optional()}),kP=U({type:G("string"),title:T().optional(),description:T().optional(),oneOf:he(U({const:T(),title:T()})),default:T().optional()}),SP=U({type:G("string"),title:T().optional(),description:T().optional(),enum:he(T()),enumNames:he(T()).optional(),default:T().optional()}),$P=Oe([wP,kP]),EP=U({type:G("array"),title:T().optional(),description:T().optional(),minItems:Ee().optional(),maxItems:Ee().optional(),items:U({type:G("string"),enum:he(T())}),default:he(T()).optional()}),bP=U({type:G("array"),title:T().optional(),description:T().optional(),minItems:Ee().optional(),maxItems:Ee().optional(),items:U({anyOf:he(U({const:T(),title:T()}))}),default:he(T()).optional()}),TP=Oe([EP,bP]),PP=Oe([SP,$P,TP]),IP=Oe([PP,yP,vP,_P]),RP=_o.extend({mode:G("form").optional(),message:T(),requestedSchema:U({type:G("object"),properties:De(T(),IP),required:he(T()).optional()})}),xP=_o.extend({mode:G("url"),message:T(),elicitationId:T(),url:T().url()}),NP=Oe([RP,xP]),OP=dt.extend({method:G("elicitation/create"),params:NP}),CP=sn.extend({elicitationId:T()}),zP=on.extend({method:G("notifications/elicitation/complete"),params:CP}),Xc=ft.extend({action:Kt(["accept","decline","cancel"]),content:v_(e=>e===null?void 0:e,De(T(),Oe([T(),Ee(),at(),he(T())])).optional())}),jP=U({type:G("ref/resource"),uri:T()}),AP=U({type:G("ref/prompt"),name:T()}),MP=Gt.extend({ref:Oe([AP,jP]),argument:U({name:T(),value:T()}),context:U({arguments:De(T(),T()).optional()}).optional()}),ed=dt.extend({method:G("completion/complete"),params:MP});function DP(e){if(e.params.ref.type!=="ref/prompt")throw new TypeError(`Expected CompleteRequestPrompt, but got ${e.params.ref.type}`)}function LP(e){if(e.params.ref.type!=="ref/resource")throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${e.params.ref.type}`)}const ZP=ft.extend({completion:Ot({values:he(T()).max(100),total:He(Ee().int()),hasMore:He(at())})}),UP=U({uri:T().startsWith("file://"),name:T().optional(),_meta:De(T(),Me()).optional()}),FP=dt.extend({method:G("roots/list"),params:Gt.optional()}),j_=ft.extend({roots:he(UP)}),VP=on.extend({method:G("notifications/roots/list_changed"),params:sn.optional()});Oe([Ef,b_,ed,O_,Jc,Qc,Wc,Kc,Gc,ZT,FT,nl,Yc,Tf,If,Rf,Nf]);Oe([$f,bf,T_,VP,tl]);Oe([Sf,C_,z_,Xc,j_,Pf,xf,zl]);Oe([Ef,gP,OP,FP,Tf,If,Rf,Nf]);Oe([$f,bf,lP,HT,DT,iP,eP,tl,zP]);Oe([Sf,TT,ZP,XT,WT,zT,jT,MT,Df,rP,Pf,xf,zl]);class Q extends Error{constructor(t,n,r){super(`MCP error ${t}: ${n}`),this.code=t,this.data=r,this.name="McpError"}static fromError(t,n,r){if(t===ne.UrlElicitationRequired&&r){const s=r;if(s.elicitations)return new HP(s.elicitations,n)}return new Q(t,n,r)}}class HP extends Q{constructor(t,n=`URL elicitation${t.length>1?"s":""} required`){super(ne.UrlElicitationRequired,n,{elicitations:t})}get elicitations(){var t;return((t=this.data)==null?void 0:t.elicitations)??[]}}function xr(e){return e==="completed"||e==="failed"||e==="cancelled"}const qP=Symbol("Let zodToJsonSchema decide on which parser to use"),Nm={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},BP=e=>typeof e=="string"?{...Nm,name:e}:{...Nm,...e},WP=e=>{const t=BP(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function A_(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Se(e,t,n,r,s){e[t]=n,A_(e,t,r,s)}const M_=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function At(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?M_(t,e.currentPath):t.join("/")}}function KP(e,t){var r,s,i;const n={type:"array"};return(r=e.type)!=null&&r._def&&((i=(s=e.type)==null?void 0:s._def)==null?void 0:i.typeName)!==A.ZodAny&&(n.items=ve(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Se(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Se(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Se(n,"minItems",e.exactLength.value,e.exactLength.message,t),Se(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function GP(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Se(n,"minimum",r.value,r.message,t):Se(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Se(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Se(n,"maximum",r.value,r.message,t):Se(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Se(n,"maximum",r.value,r.message,t));break;case"multipleOf":Se(n,"multipleOf",r.value,r.message,t);break}return n}function QP(){return{type:"boolean"}}function D_(e,t){return ve(e.type._def,t)}const JP=(e,t)=>ve(e.innerType._def,t);function L_(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,i)=>L_(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return YP(e,t)}}const YP=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Se(n,"minimum",r.value,r.message,t);break;case"max":Se(n,"maximum",r.value,r.message,t);break}return n};function XP(e,t){return{...ve(e.innerType._def,t),default:e.defaultValue()}}function eI(e,t){return t.effectStrategy==="input"?ve(e.schema._def,t):At(t)}function tI(e){return{type:"string",enum:Array.from(e.values)}}const nI=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function rI(e,t){const n=[ve(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ve(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(i=>{if(nI(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:a,...l}=i;o=l}else r=void 0;s.push(o)}}),s.length?{allOf:s,...r}:void 0}function sI(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let Cu;const ln={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Cu===void 0&&(Cu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Cu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Z_(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Se(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Se(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":un(n,"email",r.message,t);break;case"format:idn-email":un(n,"idn-email",r.message,t);break;case"pattern:zod":_t(n,ln.email,r.message,t);break}break;case"url":un(n,"uri",r.message,t);break;case"uuid":un(n,"uuid",r.message,t);break;case"regex":_t(n,r.regex,r.message,t);break;case"cuid":_t(n,ln.cuid,r.message,t);break;case"cuid2":_t(n,ln.cuid2,r.message,t);break;case"startsWith":_t(n,RegExp(`^${zu(r.value,t)}`),r.message,t);break;case"endsWith":_t(n,RegExp(`${zu(r.value,t)}$`),r.message,t);break;case"datetime":un(n,"date-time",r.message,t);break;case"date":un(n,"date",r.message,t);break;case"time":un(n,"time",r.message,t);break;case"duration":un(n,"duration",r.message,t);break;case"length":Se(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Se(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{_t(n,RegExp(zu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&un(n,"ipv4",r.message,t),r.version!=="v4"&&un(n,"ipv6",r.message,t);break}case"base64url":_t(n,ln.base64url,r.message,t);break;case"jwt":_t(n,ln.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&_t(n,ln.ipv4Cidr,r.message,t),r.version!=="v4"&&_t(n,ln.ipv6Cidr,r.message,t);break}case"emoji":_t(n,ln.emoji(),r.message,t);break;case"ulid":{_t(n,ln.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{un(n,"binary",r.message,t);break}case"contentEncoding:base64":{Se(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{_t(n,ln.base64,r.message,t);break}}break}case"nanoid":_t(n,ln.nanoid,r.message,t)}return n}function zu(e,t){return t.patternStrategy==="escape"?oI(e):e}const iI=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function oI(e){let t="";for(let n=0;n<e.length;n++)iI.has(e[n])||(t+="\\"),t+=e[n];return t}function un(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Se(e,"format",t,n,r)}function _t(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:Om(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Se(e,"pattern",Om(t,r),n,r)}function Om(e,t){var l;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let s="",i=!1,o=!1,a=!1;for(let u=0;u<r.length;u++){if(i){s+=r[u],i=!1;continue}if(n.i){if(o){if(r[u].match(/[a-z]/)){a?(s+=r[u],s+=`${r[u-2]}-${r[u]}`.toUpperCase(),a=!1):r[u+1]==="-"&&((l=r[u+2])!=null&&l.match(/[a-z]/))?(s+=r[u],a=!0):s+=`${r[u]}${r[u].toUpperCase()}`;continue}}else if(r[u].match(/[a-z]/)){s+=`[${r[u]}${r[u].toUpperCase()}]`;continue}}if(n.m){if(r[u]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[u]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[u]==="."){s+=o?`${r[u]}\r
`:`[${r[u]}\r
]`;continue}s+=r[u],r[u]==="\\"?i=!0:o&&r[u]==="]"?o=!1:!o&&r[u]==="["&&(o=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function U_(e,t){var r,s,i,o,a,l;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===A.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((u,c)=>({...u,[c]:ve(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",c]})??At(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:ve(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===A.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:u,...c}=Z_(e.keyType._def,t);return{...n,propertyNames:c}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===A.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((a=e.keyType)==null?void 0:a._def.typeName)===A.ZodBranded&&e.keyType._def.type._def.typeName===A.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:u,...c}=D_(e.keyType._def,t);return{...n,propertyNames:c}}}return n}function aI(e,t){if(t.mapStrategy==="record")return U_(e,t);const n=ve(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||At(t),r=ve(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||At(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function lI(e){const t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(r.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function uI(e){return e.target==="openAi"?void 0:{not:At({...e,currentPath:[...e.currentPath,"not"]})}}function cI(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const il={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function dI(e,t){if(t.target==="openApi3")return Cm(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in il&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,i)=>{const o=il[i._def.typeName];return o&&!s.includes(o)?[...s,o]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...s,o];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((i,o,a)=>a.indexOf(i)===o);return{type:s.length>1?s:s[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(i=>!r.includes(i))],[])};return Cm(e,t)}const Cm=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>ve(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function fI(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:il[e.innerType._def.typeName],nullable:!0}:{type:[il[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=ve(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=ve(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function hI(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",A_(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Se(n,"minimum",r.value,r.message,t):Se(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Se(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Se(n,"maximum",r.value,r.message,t):Se(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Se(n,"maximum",r.value,r.message,t));break;case"multipleOf":Se(n,"multipleOf",r.value,r.message,t);break}return n}function pI(e,t){const n=t.target==="openAi",r={type:"object",properties:{}},s=[],i=e.shape();for(const a in i){let l=i[a];if(l===void 0||l._def===void 0)continue;let u=gI(l);u&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const c=ve(l._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});c!==void 0&&(r.properties[a]=c,u||s.push(a))}s.length&&(r.required=s);const o=mI(e,t);return o!==void 0&&(r.additionalProperties=o),r}function mI(e,t){if(e.catchall._def.typeName!=="ZodNever")return ve(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function gI(e){try{return e.isOptional()}catch{return!0}}const yI=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return ve(e.innerType._def,t);const n=ve(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:At(t)},n]}:At(t)},vI=(e,t)=>{if(t.pipeStrategy==="input")return ve(e.in._def,t);if(t.pipeStrategy==="output")return ve(e.out._def,t);const n=ve(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=ve(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function _I(e,t){return ve(e.type._def,t)}function wI(e,t){const r={type:"array",uniqueItems:!0,items:ve(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Se(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Se(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function kI(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>ve(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:ve(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>ve(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function SI(e){return{not:At(e)}}function $I(e){return At(e)}const EI=(e,t)=>ve(e.innerType._def,t),bI=(e,t,n)=>{switch(t){case A.ZodString:return Z_(e,n);case A.ZodNumber:return hI(e,n);case A.ZodObject:return pI(e,n);case A.ZodBigInt:return GP(e,n);case A.ZodBoolean:return QP();case A.ZodDate:return L_(e,n);case A.ZodUndefined:return SI(n);case A.ZodNull:return cI(n);case A.ZodArray:return KP(e,n);case A.ZodUnion:case A.ZodDiscriminatedUnion:return dI(e,n);case A.ZodIntersection:return rI(e,n);case A.ZodTuple:return kI(e,n);case A.ZodRecord:return U_(e,n);case A.ZodLiteral:return sI(e,n);case A.ZodEnum:return tI(e);case A.ZodNativeEnum:return lI(e);case A.ZodNullable:return fI(e,n);case A.ZodOptional:return yI(e,n);case A.ZodMap:return aI(e,n);case A.ZodSet:return wI(e,n);case A.ZodLazy:return()=>e.getter()._def;case A.ZodPromise:return _I(e,n);case A.ZodNaN:case A.ZodNever:return uI(n);case A.ZodEffects:return eI(e,n);case A.ZodAny:return At(n);case A.ZodUnknown:return $I(n);case A.ZodDefault:return XP(e,n);case A.ZodBranded:return D_(e,n);case A.ZodReadonly:return EI(e,n);case A.ZodCatch:return JP(e,n);case A.ZodPipeline:return vI(e,n);case A.ZodFunction:case A.ZodVoid:case A.ZodSymbol:return;default:return(r=>{})()}};function ve(e,t,n=!1){var a;const r=t.seen.get(e);if(t.override){const l=(a=t.override)==null?void 0:a.call(t,e,t,r,n);if(l!==qP)return l}if(r&&!n){const l=TI(r,t);if(l!==void 0)return l}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const i=bI(e,e.typeName,t),o=typeof i=="function"?ve(i(),t):i;if(o&&PI(e,t,o),t.postProcess){const l=t.postProcess(o,e,t);return s.jsonSchema=o,l}return s.jsonSchema=o,o}const TI=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:M_(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),At(t)):t.$refStrategy==="seen"?At(t):void 0}},PI=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),II=(e,t)=>{const n=WP(t);let r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[u,c])=>({...l,[u]:ve(c._def,{...n,currentPath:[...n.basePath,n.definitionPath,u]},!0)??At(n)}),{}):void 0;const s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,i=ve(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??At(n),o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(i.title=o),n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const a=s===void 0?r?{...i,[n.definitionPath]:r}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:i}};return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function RI(e){return!e||e==="jsonSchema7"||e==="draft-7"?"draft-7":e==="jsonSchema2019-09"||e==="draft-2020-12"?"draft-2020-12":"draft-7"}function zm(e,t){return Nn(e)?nb(e,{target:RI(t==null?void 0:t.target),io:(t==null?void 0:t.pipeStrategy)??"input"}):II(e,{strictUnions:(t==null?void 0:t.strictUnions)??!0,pipeStrategy:(t==null?void 0:t.pipeStrategy)??"input"})}function jm(e){const t=vo(e),n=t==null?void 0:t.method;if(!n)throw new Error("Schema is missing a method literal");const r=o_(n);if(typeof r!="string")throw new Error("Schema method literal must be a string");return r}function Am(e,t){const n=ji(e,t);if(!n.success)throw n.error;return n.data}const xI=6e4;class NI{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler($f,n=>{this._oncancel(n)}),this.setNotificationHandler(bf,n=>{this._onprogress(n)}),this.setRequestHandler(Ef,n=>({})),this._taskStore=t==null?void 0:t.taskStore,this._taskMessageQueue=t==null?void 0:t.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Tf,async(n,r)=>{const s=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!s)throw new Q(ne.InvalidParams,"Failed to retrieve task: Task not found");return{...s}}),this.setRequestHandler(If,async(n,r)=>{const s=async()=>{var a;const i=n.params.taskId;if(this._taskMessageQueue){let l;for(;l=await this._taskMessageQueue.dequeue(i,r.sessionId);){if(l.type==="response"||l.type==="error"){const u=l.message,c=u.id,f=this._requestResolvers.get(c);if(f)if(this._requestResolvers.delete(c),l.type==="response")f(u);else{const m=u,v=new Q(m.error.code,m.error.message,m.error.data);f(v)}else{const m=l.type==="response"?"Response":"Error";this._onerror(new Error(`${m} handler missing for request ${c}`))}continue}await((a=this._transport)==null?void 0:a.send(l.message,{relatedRequestId:r.requestId}))}}const o=await this._taskStore.getTask(i,r.sessionId);if(!o)throw new Q(ne.InvalidParams,`Task not found: ${i}`);if(!xr(o.status))return await this._waitForTaskUpdate(i,r.signal),await s();if(xr(o.status)){const l=await this._taskStore.getTaskResult(i,r.sessionId);return this._clearTaskQueue(i),{...l,_meta:{...l._meta,[zr]:{taskId:i}}}}return await s()};return await s()}),this.setRequestHandler(Rf,async(n,r)=>{var s;try{const{tasks:i,nextCursor:o}=await this._taskStore.listTasks((s=n.params)==null?void 0:s.cursor,r.sessionId);return{tasks:i,nextCursor:o,_meta:{}}}catch(i){throw new Q(ne.InvalidParams,`Failed to list tasks: ${i instanceof Error?i.message:String(i)}`)}}),this.setRequestHandler(Nf,async(n,r)=>{try{const s=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!s)throw new Q(ne.InvalidParams,`Task not found: ${n.params.taskId}`);if(xr(s.status))throw new Q(ne.InvalidParams,`Cannot cancel task in terminal status: ${s.status}`);await this._taskStore.updateTaskStatus(n.params.taskId,"cancelled","Client cancelled task execution.",r.sessionId),this._clearTaskQueue(n.params.taskId);const i=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!i)throw new Q(ne.InvalidParams,`Task not found after cancellation: ${n.params.taskId}`);return{_meta:{},...i}}catch(s){throw s instanceof Q?s:new Q(ne.InvalidRequest,`Failed to cancel task: ${s instanceof Error?s.message:String(s)}`)}}))}async _oncancel(t){if(!t.params.requestId)return;const n=this._requestHandlerAbortControllers.get(t.params.requestId);n==null||n.abort(t.params.reason)}_setupTimeout(t,n,r,s,i=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(s,n),startTime:Date.now(),timeout:n,maxTotalTimeout:r,resetTimeoutOnProgress:i,onTimeout:s})}_resetTimeout(t){const n=this._timeoutInfo.get(t);if(!n)return!1;const r=Date.now()-n.startTime;if(n.maxTotalTimeout&&r>=n.maxTotalTimeout)throw this._timeoutInfo.delete(t),Q.fromError(ne.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:n.maxTotalTimeout,totalElapsed:r});return clearTimeout(n.timeoutId),n.timeoutId=setTimeout(n.onTimeout,n.timeout),!0}_cleanupTimeout(t){const n=this._timeoutInfo.get(t);n&&(clearTimeout(n.timeoutId),this._timeoutInfo.delete(t))}async connect(t){var i,o,a;this._transport=t;const n=(i=this.transport)==null?void 0:i.onclose;this._transport.onclose=()=>{n==null||n(),this._onclose()};const r=(o=this.transport)==null?void 0:o.onerror;this._transport.onerror=l=>{r==null||r(l),this._onerror(l)};const s=(a=this._transport)==null?void 0:a.onmessage;this._transport.onmessage=(l,u)=>{s==null||s(l,u),Go(l)||mT(l)?this._onresponse(l):xm(l)?this._onrequest(l,u):pT(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var r;const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const n=Q.fromError(ne.ConnectionClosed,"Connection closed");this._transport=void 0,(r=this.onclose)==null||r.call(this);for(const s of t.values())s(n)}_onerror(t){var n;(n=this.onerror)==null||n.call(this,t)}_onnotification(t){const n=this._notificationHandlers.get(t.method)??this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(r=>this._onerror(new Error(`Uncaught error in notification handler: ${r}`)))}_onrequest(t,n){var c,f,m,v;const r=this._requestHandlers.get(t.method)??this.fallbackRequestHandler,s=this._transport,i=(m=(f=(c=t.params)==null?void 0:c._meta)==null?void 0:f[zr])==null?void 0:m.taskId;if(r===void 0){const g={jsonrpc:"2.0",id:t.id,error:{code:ne.MethodNotFound,message:"Method not found"}};i&&this._taskMessageQueue?this._enqueueTaskMessage(i,{type:"error",message:g,timestamp:Date.now()},s==null?void 0:s.sessionId).catch(_=>this._onerror(new Error(`Failed to enqueue error response: ${_}`))):s==null||s.send(g).catch(_=>this._onerror(new Error(`Failed to send an error response: ${_}`)));return}const o=new AbortController;this._requestHandlerAbortControllers.set(t.id,o);const a=hT(t.params)?t.params.task:void 0,l=this._taskStore?this.requestTaskStore(t,s==null?void 0:s.sessionId):void 0,u={signal:o.signal,sessionId:s==null?void 0:s.sessionId,_meta:(v=t.params)==null?void 0:v._meta,sendNotification:async g=>{const _={relatedRequestId:t.id};i&&(_.relatedTask={taskId:i}),await this.notification(g,_)},sendRequest:async(g,_,w)=>{var p;const d={...w,relatedRequestId:t.id};i&&!d.relatedTask&&(d.relatedTask={taskId:i});const h=((p=d.relatedTask)==null?void 0:p.taskId)??i;return h&&l&&await l.updateTaskStatus(h,"input_required"),await this.request(g,_,d)},authInfo:n==null?void 0:n.authInfo,requestId:t.id,requestInfo:n==null?void 0:n.requestInfo,taskId:i,taskStore:l,taskRequestedTtl:a==null?void 0:a.ttl,closeSSEStream:n==null?void 0:n.closeSSEStream,closeStandaloneSSEStream:n==null?void 0:n.closeStandaloneSSEStream};Promise.resolve().then(()=>{a&&this.assertTaskHandlerCapability(t.method)}).then(()=>r(t,u)).then(async g=>{if(o.signal.aborted)return;const _={result:g,jsonrpc:"2.0",id:t.id};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"response",message:_,timestamp:Date.now()},s==null?void 0:s.sessionId):await(s==null?void 0:s.send(_))},async g=>{if(o.signal.aborted)return;const _={jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(g.code)?g.code:ne.InternalError,message:g.message??"Internal error",...g.data!==void 0&&{data:g.data}}};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"error",message:_,timestamp:Date.now()},s==null?void 0:s.sessionId):await(s==null?void 0:s.send(_))}).catch(g=>this._onerror(new Error(`Failed to send response: ${g}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){const{progressToken:n,...r}=t.params,s=Number(n),i=this._progressHandlers.get(s);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}const o=this._responseHandlers.get(s),a=this._timeoutInfo.get(s);if(a&&o&&a.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(l){this._responseHandlers.delete(s),this._progressHandlers.delete(s),this._cleanupTimeout(s),o(l);return}i(r)}_onresponse(t){const n=Number(t.id),r=this._requestResolvers.get(n);if(r){if(this._requestResolvers.delete(n),Go(t))r(t);else{const o=new Q(t.error.code,t.error.message,t.error.data);r(o)}return}const s=this._responseHandlers.get(n);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}this._responseHandlers.delete(n),this._cleanupTimeout(n);let i=!1;if(Go(t)&&t.result&&typeof t.result=="object"){const o=t.result;if(o.task&&typeof o.task=="object"){const a=o.task;typeof a.taskId=="string"&&(i=!0,this._taskProgressTokens.set(a.taskId,n))}}if(i||this._progressHandlers.delete(n),Go(t))s(t);else{const o=Q.fromError(t.error.code,t.error.message,t.error.data);s(o)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)==null?void 0:t.close())}async*requestStream(t,n,r){var o,a;const{task:s}=r??{};if(!s){try{yield{type:"result",result:await this.request(t,n,r)}}catch(l){yield{type:"error",error:l instanceof Q?l:new Q(ne.InternalError,String(l))}}return}let i;try{const l=await this.request(t,zl,r);if(l.task)i=l.task.taskId,yield{type:"taskCreated",task:l.task};else throw new Q(ne.InternalError,"Task creation did not return a task");for(;;){const u=await this.getTask({taskId:i},r);if(yield{type:"taskStatus",task:u},xr(u.status)){u.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:i},n,r)}:u.status==="failed"?yield{type:"error",error:new Q(ne.InternalError,`Task ${i} failed`)}:u.status==="cancelled"&&(yield{type:"error",error:new Q(ne.InternalError,`Task ${i} was cancelled`)});return}if(u.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:i},n,r)};return}const c=u.pollInterval??((o=this._options)==null?void 0:o.defaultTaskPollInterval)??1e3;await new Promise(f=>setTimeout(f,c)),(a=r==null?void 0:r.signal)==null||a.throwIfAborted()}}catch(l){yield{type:"error",error:l instanceof Q?l:new Q(ne.InternalError,String(l))}}}request(t,n,r){const{relatedRequestId:s,resumptionToken:i,onresumptiontoken:o,task:a,relatedTask:l}=r??{};return new Promise((u,c)=>{var h,p,k,$,R;const f=x=>{c(x)};if(!this._transport){f(new Error("Not connected"));return}if(((h=this._options)==null?void 0:h.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(t.method),a&&this.assertTaskCapability(t.method)}catch(x){f(x);return}(p=r==null?void 0:r.signal)==null||p.throwIfAborted();const m=this._requestMessageId++,v={...t,jsonrpc:"2.0",id:m};r!=null&&r.onprogress&&(this._progressHandlers.set(m,r.onprogress),v.params={...t.params,_meta:{...((k=t.params)==null?void 0:k._meta)||{},progressToken:m}}),a&&(v.params={...v.params,task:a}),l&&(v.params={...v.params,_meta:{...(($=v.params)==null?void 0:$._meta)||{},[zr]:l}});const g=x=>{var re;this._responseHandlers.delete(m),this._progressHandlers.delete(m),this._cleanupTimeout(m),(re=this._transport)==null||re.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:m,reason:String(x)}},{relatedRequestId:s,resumptionToken:i,onresumptiontoken:o}).catch(te=>this._onerror(new Error(`Failed to send cancellation: ${te}`)));const j=x instanceof Q?x:new Q(ne.RequestTimeout,String(x));c(j)};this._responseHandlers.set(m,x=>{var j;if(!((j=r==null?void 0:r.signal)!=null&&j.aborted)){if(x instanceof Error)return c(x);try{const re=ji(n,x.result);re.success?u(re.data):c(re.error)}catch(re){c(re)}}}),(R=r==null?void 0:r.signal)==null||R.addEventListener("abort",()=>{var x;g((x=r==null?void 0:r.signal)==null?void 0:x.reason)});const _=(r==null?void 0:r.timeout)??xI,w=()=>g(Q.fromError(ne.RequestTimeout,"Request timed out",{timeout:_}));this._setupTimeout(m,_,r==null?void 0:r.maxTotalTimeout,w,(r==null?void 0:r.resetTimeoutOnProgress)??!1);const d=l==null?void 0:l.taskId;if(d){const x=j=>{const re=this._responseHandlers.get(m);re?re(j):this._onerror(new Error(`Response handler missing for side-channeled request ${m}`))};this._requestResolvers.set(m,x),this._enqueueTaskMessage(d,{type:"request",message:v,timestamp:Date.now()}).catch(j=>{this._cleanupTimeout(m),c(j)})}else this._transport.send(v,{relatedRequestId:s,resumptionToken:i,onresumptiontoken:o}).catch(x=>{this._cleanupTimeout(m),c(x)})})}async getTask(t,n){return this.request({method:"tasks/get",params:t},Pf,n)}async getTaskResult(t,n,r){return this.request({method:"tasks/result",params:t},n,r)}async listTasks(t,n){return this.request({method:"tasks/list",params:t},xf,n)}async cancelTask(t,n){return this.request({method:"tasks/cancel",params:t},OT,n)}async notification(t,n){var a,l,u,c;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);const r=(a=n==null?void 0:n.relatedTask)==null?void 0:a.taskId;if(r){const f={...t,jsonrpc:"2.0",params:{...t.params,_meta:{...((l=t.params)==null?void 0:l._meta)||{},[zr]:n.relatedTask}}};await this._enqueueTaskMessage(r,{type:"notification",message:f,timestamp:Date.now()});return}if((((u=this._options)==null?void 0:u.debouncedNotificationMethods)??[]).includes(t.method)&&!t.params&&!(n!=null&&n.relatedRequestId)&&!(n!=null&&n.relatedTask)){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{var m,v;if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let f={...t,jsonrpc:"2.0"};n!=null&&n.relatedTask&&(f={...f,params:{...f.params,_meta:{...((m=f.params)==null?void 0:m._meta)||{},[zr]:n.relatedTask}}}),(v=this._transport)==null||v.send(f,n).catch(g=>this._onerror(g))});return}let o={...t,jsonrpc:"2.0"};n!=null&&n.relatedTask&&(o={...o,params:{...o.params,_meta:{...((c=o.params)==null?void 0:c._meta)||{},[zr]:n.relatedTask}}}),await this._transport.send(o,n)}setRequestHandler(t,n){const r=jm(t);this.assertRequestHandlerCapability(r),this._requestHandlers.set(r,(s,i)=>{const o=Am(t,s);return Promise.resolve(n(o,i))})}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,n){const r=jm(t);this._notificationHandlers.set(r,s=>{const i=Am(t,s);return Promise.resolve(n(i))})}removeNotificationHandler(t){this._notificationHandlers.delete(t)}_cleanupTaskProgressHandler(t){const n=this._taskProgressTokens.get(t);n!==void 0&&(this._progressHandlers.delete(n),this._taskProgressTokens.delete(t))}async _enqueueTaskMessage(t,n,r){var i;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const s=(i=this._options)==null?void 0:i.maxTaskQueueSize;await this._taskMessageQueue.enqueue(t,n,r,s)}async _clearTaskQueue(t,n){if(this._taskMessageQueue){const r=await this._taskMessageQueue.dequeueAll(t,n);for(const s of r)if(s.type==="request"&&xm(s.message)){const i=s.message.id,o=this._requestResolvers.get(i);o?(o(new Q(ne.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(i)):this._onerror(new Error(`Resolver missing for request ${i} during task ${t} cleanup`))}}}async _waitForTaskUpdate(t,n){var s,i;let r=((s=this._options)==null?void 0:s.defaultTaskPollInterval)??1e3;try{const o=await((i=this._taskStore)==null?void 0:i.getTask(t));o!=null&&o.pollInterval&&(r=o.pollInterval)}catch{}return new Promise((o,a)=>{if(n.aborted){a(new Q(ne.InvalidRequest,"Request cancelled"));return}const l=setTimeout(o,r);n.addEventListener("abort",()=>{clearTimeout(l),a(new Q(ne.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(t,n){const r=this._taskStore;if(!r)throw new Error("No task store configured");return{createTask:async s=>{if(!t)throw new Error("No request provided");return await r.createTask(s,t.id,{method:t.method,params:t.params},n)},getTask:async s=>{const i=await r.getTask(s,n);if(!i)throw new Q(ne.InvalidParams,"Failed to retrieve task: Task not found");return i},storeTaskResult:async(s,i,o)=>{await r.storeTaskResult(s,i,o,n);const a=await r.getTask(s,n);if(a){const l=tl.parse({method:"notifications/tasks/status",params:a});await this.notification(l),xr(a.status)&&this._cleanupTaskProgressHandler(s)}},getTaskResult:s=>r.getTaskResult(s,n),updateTaskStatus:async(s,i,o)=>{const a=await r.getTask(s,n);if(!a)throw new Q(ne.InvalidParams,`Task "${s}" not found - it may have been cleaned up`);if(xr(a.status))throw new Q(ne.InvalidParams,`Cannot update task "${s}" from terminal status "${a.status}" to "${i}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await r.updateTaskStatus(s,i,o,n);const l=await r.getTask(s,n);if(l){const u=tl.parse({method:"notifications/tasks/status",params:l});await this.notification(u),xr(l.status)&&this._cleanupTaskProgressHandler(s)}},listTasks:s=>r.listTasks(s,n)}}}function Mm(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function OI(e,t){const n={...e};for(const r in t){const s=r,i=t[s];if(i===void 0)continue;const o=n[s];Mm(o)&&Mm(i)?n[s]={...o,...i}:n[s]=i}return n}var td={exports:{}},F_={},wn={},qs={},bo={},ae={},lo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((p,k)=>`${p}${k}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((p,k)=>(k instanceof n&&(p[k.str]=(p[k.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function s(d,...h){const p=[d[0]];let k=0;for(;k<h.length;)a(p,h[k]),p.push(d[++k]);return new r(p)}e._=s;const i=new r("+");function o(d,...h){const p=[v(d[0])];let k=0;for(;k<h.length;)p.push(i),a(p,h[k]),p.push(i,v(d[++k]));return l(p),new r(p)}e.str=o;function a(d,h){h instanceof r?d.push(...h._items):h instanceof n?d.push(h):d.push(f(h))}e.addCodeArg=a;function l(d){let h=1;for(;h<d.length-1;){if(d[h]===i){const p=u(d[h-1],d[h+1]);if(p!==void 0){d.splice(h-1,3,p);continue}d[h++]="+"}h++}}function u(d,h){if(h==='""')return d;if(d==='""')return h;if(typeof d=="string")return h instanceof n||d[d.length-1]!=='"'?void 0:typeof h!="string"?`${d.slice(0,-1)}${h}"`:h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(d instanceof n))return`"${d}${h.slice(1)}`}function c(d,h){return h.emptyStr()?d:d.emptyStr()?h:o`${d}${h}`}e.strConcat=c;function f(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:v(Array.isArray(d)?d.join(","):d)}function m(d){return new r(v(d))}e.stringify=m;function v(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=v;function g(d){return typeof d=="string"&&e.IDENTIFIER.test(d)?new r(`.${d}`):s`[${d}]`}e.getProperty=g;function _(d){if(typeof d=="string"&&e.IDENTIFIER.test(d))return new r(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}e.getEsmExportName=_;function w(d){return new r(d.toString())}e.regexpCode=w})(lo);var nd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=lo;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=s;class i extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class a extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new i(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(u),{prefix:v}=m,g=(f=c.key)!==null&&f!==void 0?f:c.ref;let _=this._values[v];if(_){const h=_.get(g);if(h)return h}else _=this._values[v]=new Map;_.set(g,m);const w=this._scope[v]||(this._scope[v]=[]),d=w.length;return w[d]=c.ref,m.setValue(c,{property:v,itemIndex:d}),m}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},c,f)}_reduceValues(u,c,f={},m){let v=t.nil;for(const g in u){const _=u[g];if(!_)continue;const w=f[g]=f[g]||new Map;_.forEach(d=>{if(w.has(d))return;w.set(d,r.Started);let h=c(d);if(h){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;v=(0,t._)`${v}${p} ${d} = ${h};${this.opts._n}`}else if(h=m==null?void 0:m(d))v=(0,t._)`${v}${h}${this.opts._n}`;else throw new n(d);w.set(d,r.Completed)})}return v}}e.ValueScope=a})(nd);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=lo,n=nd;var r=lo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var s=nd;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(y,S){return this}}class o extends i{constructor(y,S,P){super(),this.varKind=y,this.name=S,this.rhs=P}render({es5:y,_n:S}){const P=y?n.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${H};`+S}optimizeNames(y,S){if(y[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,y,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(y,S,P){super(),this.lhs=y,this.rhs=S,this.sideEffects=P}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,S){if(!(this.lhs instanceof t.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=D(this.rhs,y,S),this}get names(){const y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return fe(y,this.rhs)}}class l extends a{constructor(y,S,P,H){super(y,P,H),this.op=S}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class u extends i{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class c extends i{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class f extends i{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class m extends i{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,S){return this.code=D(this.code,y,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class v extends i{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((S,P)=>S+P.render(y),"")}optimizeNodes(){const{nodes:y}=this;let S=y.length;for(;S--;){const P=y[S].optimizeNodes();Array.isArray(P)?y.splice(S,1,...P):P?y[S]=P:y.splice(S,1)}return y.length>0?this:void 0}optimizeNames(y,S){const{nodes:P}=this;let H=P.length;for(;H--;){const J=P[H];J.optimizeNames(y,S)||(Fe(y,J.names),P.splice(H,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((y,S)=>X(y,S.names),{})}}class g extends v{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class _ extends v{}class w extends g{}w.kind="else";class d extends g{constructor(y,S){super(S),this.condition=y}render(y){let S=`if(${this.condition})`+super.render(y);return this.else&&(S+="else "+this.else.render(y)),S}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let S=this.else;if(S){const P=S.optimizeNodes();S=this.else=Array.isArray(P)?new w(P):P}if(S)return y===!1?S instanceof d?S:S.nodes:this.nodes.length?this:new d(ht(y),S instanceof d?[S]:S.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,S){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(y,S),!!(super.optimizeNames(y,S)||this.else))return this.condition=D(this.condition,y,S),this}get names(){const y=super.names;return fe(y,this.condition),this.else&&X(y,this.else.names),y}}d.kind="if";class h extends g{}h.kind="for";class p extends h{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,S){if(super.optimizeNames(y,S))return this.iteration=D(this.iteration,y,S),this}get names(){return X(super.names,this.iteration.names)}}class k extends h{constructor(y,S,P,H){super(),this.varKind=y,this.name=S,this.from=P,this.to=H}render(y){const S=y.es5?n.varKinds.var:this.varKind,{name:P,from:H,to:J}=this;return`for(${S} ${P}=${H}; ${P}<${J}; ${P}++)`+super.render(y)}get names(){const y=fe(super.names,this.from);return fe(y,this.to)}}class $ extends h{constructor(y,S,P,H){super(),this.loop=y,this.varKind=S,this.name=P,this.iterable=H}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,S){if(super.optimizeNames(y,S))return this.iterable=D(this.iterable,y,S),this}get names(){return X(super.names,this.iterable.names)}}class R extends g{constructor(y,S,P){super(),this.name=y,this.args=S,this.async=P}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}R.kind="func";class x extends v{render(y){return"return "+super.render(y)}}x.kind="return";class j extends g{render(y){let S="try"+super.render(y);return this.catch&&(S+=this.catch.render(y)),this.finally&&(S+=this.finally.render(y)),S}optimizeNodes(){var y,S;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(y,S){var P,H;return super.optimizeNames(y,S),(P=this.catch)===null||P===void 0||P.optimizeNames(y,S),(H=this.finally)===null||H===void 0||H.optimizeNames(y,S),this}get names(){const y=super.names;return this.catch&&X(y,this.catch.names),this.finally&&X(y,this.finally.names),y}}class re extends g{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}re.kind="catch";class te extends g{render(y){return"finally"+super.render(y)}}te.kind="finally";class V{constructor(y,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=y,this._scope=new n.Scope({parent:y}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,S){const P=this._extScope.value(y,S);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(y,S){return this._extScope.getValue(y,S)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,S,P,H){const J=this._scope.toName(S);return P!==void 0&&H&&(this._constants[J.str]=P),this._leafNode(new o(y,J,P)),J}const(y,S,P){return this._def(n.varKinds.const,y,S,P)}let(y,S,P){return this._def(n.varKinds.let,y,S,P)}var(y,S,P){return this._def(n.varKinds.var,y,S,P)}assign(y,S,P){return this._leafNode(new a(y,S,P))}add(y,S){return this._leafNode(new l(y,e.operators.ADD,S))}code(y){return typeof y=="function"?y():y!==t.nil&&this._leafNode(new m(y)),this}object(...y){const S=["{"];for(const[P,H]of y)S.length>1&&S.push(","),S.push(P),(P!==H||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,H));return S.push("}"),new t._Code(S)}if(y,S,P){if(this._blockNode(new d(y)),S&&P)this.code(S).else().code(P).endIf();else if(S)this.code(S).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new d(y))}else(){return this._elseNode(new w)}endIf(){return this._endBlockNode(d,w)}_for(y,S){return this._blockNode(y),S&&this.code(S).endFor(),this}for(y,S){return this._for(new p(y),S)}forRange(y,S,P,H,J=this.opts.es5?n.varKinds.var:n.varKinds.let){const we=this._scope.toName(y);return this._for(new k(J,we,S,P),()=>H(we))}forOf(y,S,P,H=n.varKinds.const){const J=this._scope.toName(y);if(this.opts.es5){const we=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${we}.length`,ye=>{this.var(J,(0,t._)`${we}[${ye}]`),P(J)})}return this._for(new $("of",H,J,S),()=>P(J))}forIn(y,S,P,H=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,t._)`Object.keys(${S})`,P);const J=this._scope.toName(y);return this._for(new $("in",H,J,S),()=>P(J))}endFor(){return this._endBlockNode(h)}label(y){return this._leafNode(new u(y))}break(y){return this._leafNode(new c(y))}return(y){const S=new x;if(this._blockNode(S),this.code(y),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(y,S,P){if(!S&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new j;if(this._blockNode(H),this.code(y),S){const J=this.name("e");this._currNode=H.catch=new re(J),S(J)}return P&&(this._currNode=H.finally=new te,this.code(P)),this._endBlockNode(re,te)}throw(y){return this._leafNode(new f(y))}block(y,S){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(S),this}endBlock(y){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-S;if(P<0||y!==void 0&&P!==y)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${y} expected`);return this._nodes.length=S,this}func(y,S=t.nil,P,H){return this._blockNode(new R(y,S,P)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(R)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,S){const P=this._currNode;if(P instanceof y||S&&P instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${y.kind}/${S.kind}`:y.kind}"`)}_elseNode(y){const S=this._currNode;if(!(S instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const S=this._nodes;S[S.length-1]=y}}e.CodeGen=V;function X(b,y){for(const S in y)b[S]=(b[S]||0)+(y[S]||0);return b}function fe(b,y){return y instanceof t._CodeOrName?X(b,y.names):b}function D(b,y,S){if(b instanceof t.Name)return P(b);if(!H(b))return b;return new t._Code(b._items.reduce((J,we)=>(we instanceof t.Name&&(we=P(we)),we instanceof t._Code?J.push(...we._items):J.push(we),J),[]));function P(J){const we=S[J.str];return we===void 0||y[J.str]!==1?J:(delete y[J.str],we)}function H(J){return J instanceof t._Code&&J._items.some(we=>we instanceof t.Name&&y[we.str]===1&&S[we.str]!==void 0)}}function Fe(b,y){for(const S in y)b[S]=(b[S]||0)-(y[S]||0)}function ht(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${N(b)}`}e.not=ht;const ee=E(e.operators.AND);function M(...b){return b.reduce(ee)}e.and=M;const Y=E(e.operators.OR);function O(...b){return b.reduce(Y)}e.or=O;function E(b){return(y,S)=>y===t.nil?S:S===t.nil?y:(0,t._)`${N(y)} ${b} ${N(S)}`}function N(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(ae);var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.checkStrictMode=Z.getErrorPath=Z.Type=Z.useFunc=Z.setEvaluated=Z.evaluatedPropsToName=Z.mergeEvaluated=Z.eachItem=Z.unescapeJsonPointer=Z.escapeJsonPointer=Z.escapeFragment=Z.unescapeFragment=Z.schemaRefOrVal=Z.schemaHasRulesButRef=Z.schemaHasRules=Z.checkUnknownRules=Z.alwaysValidSchema=Z.toHash=void 0;const be=ae,CI=lo;function zI(e){const t={};for(const n of e)t[n]=!0;return t}Z.toHash=zI;function jI(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(V_(e,t),!H_(t,e.self.RULES.all))}Z.alwaysValidSchema=jI;function V_(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const s=r.RULES.keywords;for(const i in t)s[i]||W_(e,`unknown keyword: "${i}"`)}Z.checkUnknownRules=V_;function H_(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}Z.schemaHasRules=H_;function AI(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}Z.schemaHasRulesButRef=AI;function MI({topSchemaRef:e,schemaPath:t},n,r,s){if(!s){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,be._)`${n}`}return(0,be._)`${e}${t}${(0,be.getProperty)(r)}`}Z.schemaRefOrVal=MI;function DI(e){return q_(decodeURIComponent(e))}Z.unescapeFragment=DI;function LI(e){return encodeURIComponent(Lf(e))}Z.escapeFragment=LI;function Lf(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Z.escapeJsonPointer=Lf;function q_(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Z.unescapeJsonPointer=q_;function ZI(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}Z.eachItem=ZI;function Dm({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(s,i,o,a)=>{const l=o===void 0?i:o instanceof be.Name?(i instanceof be.Name?e(s,i,o):t(s,i,o),o):i instanceof be.Name?(t(s,o,i),i):n(i,o);return a===be.Name&&!(l instanceof be.Name)?r(s,l):l}}Z.mergeEvaluated={props:Dm({mergeNames:(e,t,n)=>e.if((0,be._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,be._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,be._)`${n} || {}`).code((0,be._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,be._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,be._)`${n} || {}`),Zf(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:B_}),items:Dm({mergeNames:(e,t,n)=>e.if((0,be._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,be._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,be._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,be._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function B_(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,be._)`{}`);return t!==void 0&&Zf(e,n,t),n}Z.evaluatedPropsToName=B_;function Zf(e,t,n){Object.keys(n).forEach(r=>e.assign((0,be._)`${t}${(0,be.getProperty)(r)}`,!0))}Z.setEvaluated=Zf;const Lm={};function UI(e,t){return e.scopeValue("func",{ref:t,code:Lm[t.code]||(Lm[t.code]=new CI._Code(t.code))})}Z.useFunc=UI;var rd;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(rd||(Z.Type=rd={}));function FI(e,t,n){if(e instanceof be.Name){const r=t===rd.Num;return n?r?(0,be._)`"[" + ${e} + "]"`:(0,be._)`"['" + ${e} + "']"`:r?(0,be._)`"/" + ${e}`:(0,be._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,be.getProperty)(e).toString():"/"+Lf(e)}Z.getErrorPath=FI;function W_(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}Z.checkStrictMode=W_;var On={};Object.defineProperty(On,"__esModule",{value:!0});const gt=ae,VI={data:new gt.Name("data"),valCxt:new gt.Name("valCxt"),instancePath:new gt.Name("instancePath"),parentData:new gt.Name("parentData"),parentDataProperty:new gt.Name("parentDataProperty"),rootData:new gt.Name("rootData"),dynamicAnchors:new gt.Name("dynamicAnchors"),vErrors:new gt.Name("vErrors"),errors:new gt.Name("errors"),this:new gt.Name("this"),self:new gt.Name("self"),scope:new gt.Name("scope"),json:new gt.Name("json"),jsonPos:new gt.Name("jsonPos"),jsonLen:new gt.Name("jsonLen"),jsonPart:new gt.Name("jsonPart")};On.default=VI;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ae,n=Z,r=On;e.keywordError={message:({keyword:w})=>(0,t.str)`must pass "${w}" keyword validation`},e.keyword$DataError={message:({keyword:w,schemaType:d})=>d?(0,t.str)`"${w}" keyword must be ${d} ($data)`:(0,t.str)`"${w}" keyword is invalid ($data)`};function s(w,d=e.keywordError,h,p){const{it:k}=w,{gen:$,compositeRule:R,allErrors:x}=k,j=f(w,d,h);p??(R||x)?l($,j):u(k,(0,t._)`[${j}]`)}e.reportError=s;function i(w,d=e.keywordError,h){const{it:p}=w,{gen:k,compositeRule:$,allErrors:R}=p,x=f(w,d,h);l(k,x),$||R||u(p,r.default.vErrors)}e.reportExtraError=i;function o(w,d){w.assign(r.default.errors,d),w.if((0,t._)`${r.default.vErrors} !== null`,()=>w.if(d,()=>w.assign((0,t._)`${r.default.vErrors}.length`,d),()=>w.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:w,keyword:d,schemaValue:h,data:p,errsCount:k,it:$}){if(k===void 0)throw new Error("ajv implementation error");const R=w.name("err");w.forRange("i",k,r.default.errors,x=>{w.const(R,(0,t._)`${r.default.vErrors}[${x}]`),w.if((0,t._)`${R}.instancePath === undefined`,()=>w.assign((0,t._)`${R}.instancePath`,(0,t.strConcat)(r.default.instancePath,$.errorPath))),w.assign((0,t._)`${R}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${d}`),$.opts.verbose&&(w.assign((0,t._)`${R}.schema`,h),w.assign((0,t._)`${R}.data`,p))})}e.extendErrors=a;function l(w,d){const h=w.const("err",d);w.if((0,t._)`${r.default.vErrors} === null`,()=>w.assign(r.default.vErrors,(0,t._)`[${h}]`),(0,t._)`${r.default.vErrors}.push(${h})`),w.code((0,t._)`${r.default.errors}++`)}function u(w,d){const{gen:h,validateName:p,schemaEnv:k}=w;k.$async?h.throw((0,t._)`new ${w.ValidationError}(${d})`):(h.assign((0,t._)`${p}.errors`,d),h.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(w,d,h){const{createErrors:p}=w.it;return p===!1?(0,t._)`{}`:m(w,d,h)}function m(w,d,h={}){const{gen:p,it:k}=w,$=[v(k,h),g(w,h)];return _(w,d,$),p.object(...$)}function v({errorPath:w},{instancePath:d}){const h=d?(0,t.str)`${w}${(0,n.getErrorPath)(d,n.Type.Str)}`:w;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,h)]}function g({keyword:w,it:{errSchemaPath:d}},{schemaPath:h,parentSchema:p}){let k=p?d:(0,t.str)`${d}/${w}`;return h&&(k=(0,t.str)`${k}${(0,n.getErrorPath)(h,n.Type.Str)}`),[c.schemaPath,k]}function _(w,{params:d,message:h},p){const{keyword:k,data:$,schemaValue:R,it:x}=w,{opts:j,propertyName:re,topSchemaRef:te,schemaPath:V}=x;p.push([c.keyword,k],[c.params,typeof d=="function"?d(w):d||(0,t._)`{}`]),j.messages&&p.push([c.message,typeof h=="function"?h(w):h]),j.verbose&&p.push([c.schema,R],[c.parentSchema,(0,t._)`${te}${V}`],[r.default.data,$]),re&&p.push([c.propertyName,re])}})(bo);Object.defineProperty(qs,"__esModule",{value:!0});qs.boolOrEmptySchema=qs.topBoolOrEmptySchema=void 0;const HI=bo,qI=ae,BI=On,WI={message:"boolean schema is false"};function KI(e){const{gen:t,schema:n,validateName:r}=e;n===!1?K_(e,!1):typeof n=="object"&&n.$async===!0?t.return(BI.default.data):(t.assign((0,qI._)`${r}.errors`,null),t.return(!0))}qs.topBoolOrEmptySchema=KI;function GI(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),K_(e)):n.var(t,!0)}qs.boolOrEmptySchema=GI;function K_(e,t){const{gen:n,data:r}=e,s={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,HI.reportError)(s,WI,void 0,t)}var Qe={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.getRules=Xr.isJSONType=void 0;const QI=["string","number","integer","boolean","null","object","array"],JI=new Set(QI);function YI(e){return typeof e=="string"&&JI.has(e)}Xr.isJSONType=YI;function XI(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Xr.getRules=XI;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.shouldUseRule=Zn.shouldUseGroup=Zn.schemaHasRulesForType=void 0;function eR({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&G_(e,r)}Zn.schemaHasRulesForType=eR;function G_(e,t){return t.rules.some(n=>Q_(e,n))}Zn.shouldUseGroup=G_;function Q_(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Zn.shouldUseRule=Q_;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.reportTypeError=Qe.checkDataTypes=Qe.checkDataType=Qe.coerceAndCheckDataType=Qe.getJSONTypes=Qe.getSchemaTypes=Qe.DataType=void 0;const tR=Xr,nR=Zn,rR=bo,oe=ae,J_=Z;var Ns;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ns||(Qe.DataType=Ns={}));function sR(e){const t=Y_(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Qe.getSchemaTypes=sR;function Y_(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(tR.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Qe.getJSONTypes=Y_;function iR(e,t){const{gen:n,data:r,opts:s}=e,i=oR(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,nR.schemaHasRulesForType)(e,t[0]));if(o){const a=Uf(t,r,s.strictNumbers,Ns.Wrong);n.if(a,()=>{i.length?aR(e,t,i):Ff(e)})}return o}Qe.coerceAndCheckDataType=iR;const X_=new Set(["string","number","integer","boolean","null"]);function oR(e,t){return t?e.filter(n=>X_.has(n)||t==="array"&&n==="array"):[]}function aR(e,t,n){const{gen:r,data:s,opts:i}=e,o=r.let("dataType",(0,oe._)`typeof ${s}`),a=r.let("coerced",(0,oe._)`undefined`);i.coerceTypes==="array"&&r.if((0,oe._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>r.assign(s,(0,oe._)`${s}[0]`).assign(o,(0,oe._)`typeof ${s}`).if(Uf(t,s,i.strictNumbers),()=>r.assign(a,s))),r.if((0,oe._)`${a} !== undefined`);for(const u of n)(X_.has(u)||u==="array"&&i.coerceTypes==="array")&&l(u);r.else(),Ff(e),r.endIf(),r.if((0,oe._)`${a} !== undefined`,()=>{r.assign(s,a),lR(e,a)});function l(u){switch(u){case"string":r.elseIf((0,oe._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,oe._)`"" + ${s}`).elseIf((0,oe._)`${s} === null`).assign(a,(0,oe._)`""`);return;case"number":r.elseIf((0,oe._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(a,(0,oe._)`+${s}`);return;case"integer":r.elseIf((0,oe._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(a,(0,oe._)`+${s}`);return;case"boolean":r.elseIf((0,oe._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(a,!1).elseIf((0,oe._)`${s} === "true" || ${s} === 1`).assign(a,!0);return;case"null":r.elseIf((0,oe._)`${s} === "" || ${s} === 0 || ${s} === false`),r.assign(a,null);return;case"array":r.elseIf((0,oe._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(a,(0,oe._)`[${s}]`)}}}function lR({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,oe._)`${t} !== undefined`,()=>e.assign((0,oe._)`${t}[${n}]`,r))}function sd(e,t,n,r=Ns.Correct){const s=r===Ns.Correct?oe.operators.EQ:oe.operators.NEQ;let i;switch(e){case"null":return(0,oe._)`${t} ${s} null`;case"array":i=(0,oe._)`Array.isArray(${t})`;break;case"object":i=(0,oe._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,oe._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,oe._)`typeof ${t} ${s} ${e}`}return r===Ns.Correct?i:(0,oe.not)(i);function o(a=oe.nil){return(0,oe.and)((0,oe._)`typeof ${t} == "number"`,a,n?(0,oe._)`isFinite(${t})`:oe.nil)}}Qe.checkDataType=sd;function Uf(e,t,n,r){if(e.length===1)return sd(e[0],t,n,r);let s;const i=(0,J_.toHash)(e);if(i.array&&i.object){const o=(0,oe._)`typeof ${t} != "object"`;s=i.null?o:(0,oe._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=oe.nil;i.number&&delete i.integer;for(const o in i)s=(0,oe.and)(s,sd(o,t,n,r));return s}Qe.checkDataTypes=Uf;const uR={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,oe._)`{type: ${e}}`:(0,oe._)`{type: ${t}}`};function Ff(e){const t=cR(e);(0,rR.reportError)(t,uR)}Qe.reportTypeError=Ff;function cR(e){const{gen:t,data:n,schema:r}=e,s=(0,J_.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:s,schemaValue:s,parentSchema:r,params:{},it:e}}var jl={};Object.defineProperty(jl,"__esModule",{value:!0});jl.assignDefaults=void 0;const is=ae,dR=Z;function fR(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const s in n)Zm(e,s,n[s].default);else t==="array"&&Array.isArray(r)&&r.forEach((s,i)=>Zm(e,i,s.default))}jl.assignDefaults=fR;function Zm(e,t,n){const{gen:r,compositeRule:s,data:i,opts:o}=e;if(n===void 0)return;const a=(0,is._)`${i}${(0,is.getProperty)(t)}`;if(s){(0,dR.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,is._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,is._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,is._)`${a} = ${(0,is.stringify)(n)}`)}var Pn={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.validateUnion=ue.validateArray=ue.usePattern=ue.callValidateCode=ue.schemaProperties=ue.allSchemaProperties=ue.noPropertyInData=ue.propertyInData=ue.isOwnProperty=ue.hasPropFunc=ue.reportMissingProp=ue.checkMissingProp=ue.checkReportMissingProp=void 0;const xe=ae,Vf=Z,Jn=On,hR=Z;function pR(e,t){const{gen:n,data:r,it:s}=e;n.if(qf(n,r,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}ue.checkReportMissingProp=pR;function mR({gen:e,data:t,it:{opts:n}},r,s){return(0,xe.or)(...r.map(i=>(0,xe.and)(qf(e,t,i,n.ownProperties),(0,xe._)`${s} = ${i}`)))}ue.checkMissingProp=mR;function gR(e,t){e.setParams({missingProperty:t},!0),e.error()}ue.reportMissingProp=gR;function e0(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}ue.hasPropFunc=e0;function Hf(e,t,n){return(0,xe._)`${e0(e)}.call(${t}, ${n})`}ue.isOwnProperty=Hf;function yR(e,t,n,r){const s=(0,xe._)`${t}${(0,xe.getProperty)(n)} !== undefined`;return r?(0,xe._)`${s} && ${Hf(e,t,n)}`:s}ue.propertyInData=yR;function qf(e,t,n,r){const s=(0,xe._)`${t}${(0,xe.getProperty)(n)} === undefined`;return r?(0,xe.or)(s,(0,xe.not)(Hf(e,t,n))):s}ue.noPropertyInData=qf;function t0(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ue.allSchemaProperties=t0;function vR(e,t){return t0(t).filter(n=>!(0,Vf.alwaysValidSchema)(e,t[n]))}ue.schemaProperties=vR;function _R({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:i},it:o},a,l,u){const c=u?(0,xe._)`${e}, ${t}, ${r}${s}`:t,f=[[Jn.default.instancePath,(0,xe.strConcat)(Jn.default.instancePath,i)],[Jn.default.parentData,o.parentData],[Jn.default.parentDataProperty,o.parentDataProperty],[Jn.default.rootData,Jn.default.rootData]];o.opts.dynamicRef&&f.push([Jn.default.dynamicAnchors,Jn.default.dynamicAnchors]);const m=(0,xe._)`${c}, ${n.object(...f)}`;return l!==xe.nil?(0,xe._)`${a}.call(${l}, ${m})`:(0,xe._)`${a}(${m})`}ue.callValidateCode=_R;const wR=(0,xe._)`new RegExp`;function kR({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(n,r);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,xe._)`${s.code==="new RegExp"?wR:(0,hR.useFunc)(e,s)}(${n}, ${r})`})}ue.usePattern=kR;function SR(e){const{gen:t,data:n,keyword:r,it:s}=e,i=t.name("valid");if(s.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(i,!0),o(()=>t.break()),i;function o(a){const l=t.const("len",(0,xe._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:Vf.Type.Num},i),t.if((0,xe.not)(i),a)})}}ue.validateArray=SR;function $R(e){const{gen:t,schema:n,keyword:r,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,Vf.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,xe._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,xe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ue.validateUnion=$R;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.validateKeywordUsage=Pn.validSchemaType=Pn.funcKeywordCode=Pn.macroKeywordCode=void 0;const Et=ae,jr=On,ER=ue,bR=bo;function TR(e,t){const{gen:n,keyword:r,schema:s,parentSchema:i,it:o}=e,a=t.macro.call(o.self,s,i,o),l=n0(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Et.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Pn.macroKeywordCode=TR;function PR(e,t){var n;const{gen:r,keyword:s,schema:i,parentSchema:o,$data:a,it:l}=e;RR(l,t);const u=!a&&t.compile?t.compile.call(l.self,i,o,l):t.validate,c=n0(r,s,u),f=r.let("valid");e.block$data(f,m),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function m(){if(t.errors===!1)_(),t.modifying&&Um(e),w(()=>e.error());else{const d=t.async?v():g();t.modifying&&Um(e),w(()=>IR(e,d))}}function v(){const d=r.let("ruleErrs",null);return r.try(()=>_((0,Et._)`await `),h=>r.assign(f,!1).if((0,Et._)`${h} instanceof ${l.ValidationError}`,()=>r.assign(d,(0,Et._)`${h}.errors`),()=>r.throw(h))),d}function g(){const d=(0,Et._)`${c}.errors`;return r.assign(d,null),_(Et.nil),d}function _(d=t.async?(0,Et._)`await `:Et.nil){const h=l.opts.passContext?jr.default.this:jr.default.self,p=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,Et._)`${d}${(0,ER.callValidateCode)(e,c,h,p)}`,t.modifying)}function w(d){var h;r.if((0,Et.not)((h=t.valid)!==null&&h!==void 0?h:f),d)}}Pn.funcKeywordCode=PR;function Um(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Et._)`${r.parentData}[${r.parentDataProperty}]`))}function IR(e,t){const{gen:n}=e;n.if((0,Et._)`Array.isArray(${t})`,()=>{n.assign(jr.default.vErrors,(0,Et._)`${jr.default.vErrors} === null ? ${t} : ${jr.default.vErrors}.concat(${t})`).assign(jr.default.errors,(0,Et._)`${jr.default.vErrors}.length`),(0,bR.extendErrors)(e)},()=>e.error())}function RR({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function n0(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Et.stringify)(n)})}function xR(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Pn.validSchemaType=xR;function NR({schema:e,opts:t,self:n,errSchemaPath:r},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const l=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Pn.validateKeywordUsage=NR;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.extendSubschemaMode=_r.extendSubschemaData=_r.getSubschema=void 0;const Tn=ae,r0=Z;function OR(e,{keyword:t,schemaProp:n,schema:r,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Tn._)`${e.schemaPath}${(0,Tn.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Tn._)`${e.schemaPath}${(0,Tn.getProperty)(t)}${(0,Tn.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r0.escapeFragment)(n)}`}}if(r!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}_r.getSubschema=OR;function CR(e,t,{dataProp:n,dataPropType:r,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,m=a.let("data",(0,Tn._)`${t.data}${(0,Tn.getProperty)(n)}`,!0);l(m),e.errorPath=(0,Tn.str)`${u}${(0,r0.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Tn._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(s!==void 0){const u=s instanceof Tn.Name?s:a.let("data",s,!0);l(u),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}_r.extendSubschemaData=CR;function zR(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:s,allErrors:i}){r!==void 0&&(e.compositeRule=r),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}_r.extendSubschemaMode=zR;var ot={},s0=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},i0={exports:{}},cr=i0.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},s=n.post||function(){};ya(t,r,s,e,"",e)};cr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};cr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};cr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};cr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ya(e,t,n,r,s,i,o,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,s,i,o,a,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in cr.arrayKeywords)for(var m=0;m<f.length;m++)ya(e,t,n,f[m],s+"/"+c+"/"+m,i,s,c,r,m)}else if(c in cr.propsKeywords){if(f&&typeof f=="object")for(var v in f)ya(e,t,n,f[v],s+"/"+c+"/"+jR(v),i,s,c,r,v)}else(c in cr.keywords||e.allKeys&&!(c in cr.skipKeywords))&&ya(e,t,n,f,s+"/"+c,i,s,c,r)}n(r,s,i,o,a,l,u)}}function jR(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var AR=i0.exports;Object.defineProperty(ot,"__esModule",{value:!0});ot.getSchemaRefs=ot.resolveUrl=ot.normalizeId=ot._getFullPath=ot.getFullPath=ot.inlineRef=void 0;const MR=Z,DR=s0,LR=AR,ZR=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function UR(e,t=!0){return typeof e=="boolean"?!0:t===!0?!id(e):t?o0(e)<=t:!1}ot.inlineRef=UR;const FR=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function id(e){for(const t in e){if(FR.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(id)||typeof n=="object"&&id(n))return!0}return!1}function o0(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!ZR.has(n)&&(typeof e[n]=="object"&&(0,MR.eachItem)(e[n],r=>t+=o0(r)),t===1/0))return 1/0}return t}function a0(e,t="",n){n!==!1&&(t=Os(t));const r=e.parse(t);return l0(e,r)}ot.getFullPath=a0;function l0(e,t){return e.serialize(t).split("#")[0]+"#"}ot._getFullPath=l0;const VR=/#\/?$/;function Os(e){return e?e.replace(VR,""):""}ot.normalizeId=Os;function HR(e,t,n){return n=Os(n),e.resolve(t,n)}ot.resolveUrl=HR;const qR=/^[a-z_][-a-z0-9._]*$/i;function BR(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,s=Os(e[n]||t),i={"":s},o=a0(r,s,!1),a={},l=new Set;return LR(e,{allKeys:!0},(f,m,v,g)=>{if(g===void 0)return;const _=o+m;let w=i[g];typeof f[n]=="string"&&(w=d.call(this,f[n])),h.call(this,f.$anchor),h.call(this,f.$dynamicAnchor),i[m]=w;function d(p){const k=this.opts.uriResolver.resolve;if(p=Os(w?k(w,p):p),l.has(p))throw c(p);l.add(p);let $=this.refs[p];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(f,$.schema,p):p!==Os(_)&&(p[0]==="#"?(u(f,a[p],p),a[p]=f):this.refs[p]=_),p}function h(p){if(typeof p=="string"){if(!qR.test(p))throw new Error(`invalid anchor "${p}"`);d.call(this,`#${p}`)}}}),a;function u(f,m,v){if(m!==void 0&&!DR(f,m))throw c(v)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ot.getSchemaRefs=BR;Object.defineProperty(wn,"__esModule",{value:!0});wn.getData=wn.KeywordCxt=wn.validateFunctionCode=void 0;const u0=qs,Fm=Qe,Bf=Zn,ol=Qe,WR=jl,Ai=Pn,ju=_r,K=ae,se=On,KR=ot,Un=Z,fi=bo;function GR(e){if(f0(e)&&(h0(e),d0(e))){YR(e);return}c0(e,()=>(0,u0.topBoolOrEmptySchema)(e))}wn.validateFunctionCode=GR;function c0({gen:e,validateName:t,schema:n,schemaEnv:r,opts:s},i){s.code.es5?e.func(t,(0,K._)`${se.default.data}, ${se.default.valCxt}`,r.$async,()=>{e.code((0,K._)`"use strict"; ${Vm(n,s)}`),JR(e,s),e.code(i)}):e.func(t,(0,K._)`${se.default.data}, ${QR(s)}`,r.$async,()=>e.code(Vm(n,s)).code(i))}function QR(e){return(0,K._)`{${se.default.instancePath}="", ${se.default.parentData}, ${se.default.parentDataProperty}, ${se.default.rootData}=${se.default.data}${e.dynamicRef?(0,K._)`, ${se.default.dynamicAnchors}={}`:K.nil}}={}`}function JR(e,t){e.if(se.default.valCxt,()=>{e.var(se.default.instancePath,(0,K._)`${se.default.valCxt}.${se.default.instancePath}`),e.var(se.default.parentData,(0,K._)`${se.default.valCxt}.${se.default.parentData}`),e.var(se.default.parentDataProperty,(0,K._)`${se.default.valCxt}.${se.default.parentDataProperty}`),e.var(se.default.rootData,(0,K._)`${se.default.valCxt}.${se.default.rootData}`),t.dynamicRef&&e.var(se.default.dynamicAnchors,(0,K._)`${se.default.valCxt}.${se.default.dynamicAnchors}`)},()=>{e.var(se.default.instancePath,(0,K._)`""`),e.var(se.default.parentData,(0,K._)`undefined`),e.var(se.default.parentDataProperty,(0,K._)`undefined`),e.var(se.default.rootData,se.default.data),t.dynamicRef&&e.var(se.default.dynamicAnchors,(0,K._)`{}`)})}function YR(e){const{schema:t,opts:n,gen:r}=e;c0(e,()=>{n.$comment&&t.$comment&&m0(e),rx(e),r.let(se.default.vErrors,null),r.let(se.default.errors,0),n.unevaluated&&XR(e),p0(e),ox(e)})}function XR(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,K._)`${n}.evaluated`),t.if((0,K._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,K._)`${e.evaluated}.props`,(0,K._)`undefined`)),t.if((0,K._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,K._)`${e.evaluated}.items`,(0,K._)`undefined`))}function Vm(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,K._)`/*# sourceURL=${n} */`:K.nil}function ex(e,t){if(f0(e)&&(h0(e),d0(e))){tx(e,t);return}(0,u0.boolOrEmptySchema)(e,t)}function d0({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function f0(e){return typeof e.schema!="boolean"}function tx(e,t){const{schema:n,gen:r,opts:s}=e;s.$comment&&n.$comment&&m0(e),sx(e),ix(e);const i=r.const("_errs",se.default.errors);p0(e,i),r.var(t,(0,K._)`${i} === ${se.default.errors}`)}function h0(e){(0,Un.checkUnknownRules)(e),nx(e)}function p0(e,t){if(e.opts.jtd)return Hm(e,[],!1,t);const n=(0,Fm.getSchemaTypes)(e.schema),r=(0,Fm.coerceAndCheckDataType)(e,n);Hm(e,n,!r,t)}function nx(e){const{schema:t,errSchemaPath:n,opts:r,self:s}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Un.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function rx(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Un.checkStrictMode)(e,"default is ignored in the schema root")}function sx(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,KR.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function ix(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function m0({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:s}){const i=n.$comment;if(s.$comment===!0)e.code((0,K._)`${se.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const o=(0,K.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,K._)`${se.default.self}.opts.$comment(${i}, ${o}, ${a}.schema)`)}}function ox(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:s,opts:i}=e;n.$async?t.if((0,K._)`${se.default.errors} === 0`,()=>t.return(se.default.data),()=>t.throw((0,K._)`new ${s}(${se.default.vErrors})`)):(t.assign((0,K._)`${r}.errors`,se.default.vErrors),i.unevaluated&&ax(e),t.return((0,K._)`${se.default.errors} === 0`))}function ax({gen:e,evaluated:t,props:n,items:r}){n instanceof K.Name&&e.assign((0,K._)`${t}.props`,n),r instanceof K.Name&&e.assign((0,K._)`${t}.items`,r)}function Hm(e,t,n,r){const{gen:s,schema:i,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,Un.schemaHasRulesButRef)(i,c))){s.block(()=>v0(e,"$ref",c.all.$ref.definition));return}l.jtd||lx(e,t),s.block(()=>{for(const m of c.rules)f(m);f(c.post)});function f(m){(0,Bf.shouldUseGroup)(i,m)&&(m.type?(s.if((0,ol.checkDataType)(m.type,o,l.strictNumbers)),qm(e,m),t.length===1&&t[0]===m.type&&n&&(s.else(),(0,ol.reportTypeError)(e)),s.endIf()):qm(e,m),a||s.if((0,K._)`${se.default.errors} === ${r||0}`))}}function qm(e,t){const{gen:n,schema:r,opts:{useDefaults:s}}=e;s&&(0,WR.assignDefaults)(e,t.type),n.block(()=>{for(const i of t.rules)(0,Bf.shouldUseRule)(r,i)&&v0(e,i.keyword,i.definition,t.type)})}function lx(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ux(e,t),e.opts.allowUnionTypes||cx(e,t),dx(e,e.dataTypes))}function ux(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{g0(e.dataTypes,n)||Wf(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),hx(e,t)}}function cx(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Wf(e,"use allowUnionTypes to allow union type keyword")}function dx(e,t){const n=e.self.RULES.all;for(const r in n){const s=n[r];if(typeof s=="object"&&(0,Bf.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(o=>fx(t,o))&&Wf(e,`missing type "${i.join(",")}" for keyword "${r}"`)}}}function fx(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function g0(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function hx(e,t){const n=[];for(const r of e.dataTypes)g0(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function Wf(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Un.checkStrictMode)(e,t,e.opts.strictTypes)}class y0{constructor(t,n,r){if((0,Ai.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Un.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",_0(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ai.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",se.default.errors))}result(t,n,r){this.failResult((0,K.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,K.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,K._)`${n} !== undefined && (${(0,K.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?fi.reportExtraError:fi.reportError)(this,this.def.error,n)}$dataError(){(0,fi.reportError)(this,this.def.$dataError||fi.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,fi.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=K.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=K.nil,n=K.nil){if(!this.$data)return;const{gen:r,schemaCode:s,schemaType:i,def:o}=this;r.if((0,K.or)((0,K._)`${s} === undefined`,n)),t!==K.nil&&r.assign(t,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==K.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:s,it:i}=this;return(0,K.or)(o(),a());function o(){if(r.length){if(!(n instanceof K.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,K._)`${(0,ol.checkDataTypes)(l,n,i.opts.strictNumbers,ol.DataType.Wrong)}`}return K.nil}function a(){if(s.validateSchema){const l=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,K._)`!${l}(${n})`}return K.nil}}subschema(t,n){const r=(0,ju.getSubschema)(this.it,t);(0,ju.extendSubschemaData)(r,this.it,t),(0,ju.extendSubschemaMode)(r,t);const s={...this.it,...r,items:void 0,props:void 0};return ex(s,n),s}mergeEvaluated(t,n){const{it:r,gen:s}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Un.mergeEvaluated.props(s,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Un.mergeEvaluated.items(s,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:s}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return s.if(n,()=>this.mergeEvaluated(t,K.Name)),!0}}wn.KeywordCxt=y0;function v0(e,t,n,r){const s=new y0(e,n,t);"code"in n?n.code(s,r):s.$data&&n.validate?(0,Ai.funcKeywordCode)(s,n):"macro"in n?(0,Ai.macroKeywordCode)(s,n):(n.compile||n.validate)&&(0,Ai.funcKeywordCode)(s,n)}const px=/^\/(?:[^~]|~0|~1)*$/,mx=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _0(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let s,i;if(e==="")return se.default.rootData;if(e[0]==="/"){if(!px.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=se.default.rootData}else{const u=mx.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(s=u[2],s==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(i=n[t-c],!s)return i}let o=i;const a=s.split("/");for(const u of a)u&&(i=(0,K._)`${i}${(0,K.getProperty)((0,Un.unescapeJsonPointer)(u))}`,o=(0,K._)`${o} && ${i}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}wn.getData=_0;var To={};Object.defineProperty(To,"__esModule",{value:!0});class gx extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}To.default=gx;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});const Au=ot;class yx extends Error{constructor(t,n,r,s){super(s||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,Au.resolveUrl)(t,n,r),this.missingSchema=(0,Au.normalizeId)((0,Au.getFullPath)(t,this.missingRef))}}Js.default=yx;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.resolveSchema=xt.getCompilingSchema=xt.resolveRef=xt.compileSchema=xt.SchemaEnv=void 0;const cn=ae,vx=To,Nr=On,gn=ot,Bm=Z,_x=wn;class Al{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,gn.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}xt.SchemaEnv=Al;function Kf(e){const t=w0.call(this,e);if(t)return t;const n=(0,gn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new cn.CodeGen(this.scope,{es5:r,lines:s,ownProperties:i});let a;e.$async&&(a=o.scopeValue("Error",{ref:vx.default,code:(0,cn._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:Nr.default.data,parentData:Nr.default.parentData,parentDataProperty:Nr.default.parentDataProperty,dataNames:[Nr.default.data],dataPathArr:[cn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,cn.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:cn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,cn._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,_x.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Nr.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const v=new Function(`${Nr.default.self}`,`${Nr.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:v}),v.errors=null,v.schema=e.schema,v.schemaEnv=e,e.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:l,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:_}=u;v.evaluated={props:g instanceof cn.Name?void 0:g,items:_ instanceof cn.Name?void 0:_,dynamicProps:g instanceof cn.Name,dynamicItems:_ instanceof cn.Name},v.source&&(v.source.evaluated=(0,cn.stringify)(v.evaluated))}return e.validate=v,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}xt.compileSchema=Kf;function wx(e,t,n){var r;n=(0,gn.resolveUrl)(this.opts.uriResolver,t,n);const s=e.refs[n];if(s)return s;let i=$x.call(this,e,n);if(i===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(i=new Al({schema:o,schemaId:a,root:e,baseId:t}))}if(i!==void 0)return e.refs[n]=kx.call(this,i)}xt.resolveRef=wx;function kx(e){return(0,gn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Kf.call(this,e)}function w0(e){for(const t of this._compilations)if(Sx(t,e))return t}xt.getCompilingSchema=w0;function Sx(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function $x(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Ml.call(this,e,t)}function Ml(e,t){const n=this.opts.uriResolver.parse(t),r=(0,gn._getFullPath)(this.opts.uriResolver,n);let s=(0,gn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===s)return Mu.call(this,n,e);const i=(0,gn.normalizeId)(r),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const a=Ml.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:Mu.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Kf.call(this,o),i===(0,gn.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(s=(0,gn.resolveUrl)(this.opts.uriResolver,s,u)),new Al({schema:a,schemaId:l,root:e,baseId:s})}return Mu.call(this,n,o)}}xt.resolveSchema=Ml;const Ex=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Mu(e,{baseId:t,schema:n,root:r}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,Bm.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!Ex.has(a)&&u&&(t=(0,gn.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof n!="boolean"&&n.$ref&&!(0,Bm.schemaHasRulesButRef)(n,this.RULES)){const a=(0,gn.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=Ml.call(this,r,a)}const{schemaId:o}=this.opts;if(i=i||new Al({schema:n,schemaId:o,root:r,baseId:t}),i.schema!==i.root.schema)return i}const bx="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Tx="Meta-schema for $data reference (JSON AnySchema extension proposal)",Px="object",Ix=["$data"],Rx={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xx=!1,Nx={$id:bx,description:Tx,type:Px,required:Ix,properties:Rx,additionalProperties:xx};var Gf={},Dl={exports:{}};const Ox=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),k0=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Qf(e){let t="",n=0,r=0;for(r=0;r<e.length;r++)if(n=e[r].charCodeAt(0),n!==48){if(!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[r];break}for(r+=1;r<e.length;r++){if(n=e[r].charCodeAt(0),!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[r]}return t}const Cx=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Wm(e){return e.length=0,!0}function zx(e,t,n){if(e.length){const r=Qf(e);if(r!=="")t.push(r);else return n.error=!0,!1;e.length=0}return!0}function jx(e){let t=0;const n={error:!1,address:"",zone:""},r=[],s=[];let i=!1,o=!1,a=zx;for(let l=0;l<e.length;l++){const u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(o=!0),!a(s,r,n))break;if(++t>7){n.error=!0;break}l>0&&e[l-1]===":"&&(i=!0),r.push(":");continue}else if(u==="%"){if(!a(s,r,n))break;a=Wm}else{s.push(u);continue}}return s.length&&(a===Wm?n.zone=s.join(""):o?r.push(s.join("")):r.push(Qf(s))),n.address=r.join(""),n}function S0(e){if(Ax(e,":")<2)return{host:e,isIPV6:!1};const t=jx(e);if(t.error)return{host:e,isIPV6:!1};{let n=t.address,r=t.address;return t.zone&&(n+="%"+t.zone,r+="%25"+t.zone),{host:n,isIPV6:!0,escapedHost:r}}}function Ax(e,t){let n=0;for(let r=0;r<e.length;r++)e[r]===t&&n++;return n}function Mx(e){let t=e;const n=[];let r=-1,s=0;for(;s=t.length;){if(s===1){if(t===".")break;if(t==="/"){n.push("/");break}else{n.push(t);break}}else if(s===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){n.push("/");break}}else if(s===3&&t==="/.."){n.length!==0&&n.pop(),n.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),n.length!==0&&n.pop();continue}}if((r=t.indexOf("/",1))===-1){n.push(t);break}else n.push(t.slice(0,r)),t=t.slice(r)}return n.join("")}function Dx(e,t){const n=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=n(e.scheme)),e.userinfo!==void 0&&(e.userinfo=n(e.userinfo)),e.host!==void 0&&(e.host=n(e.host)),e.path!==void 0&&(e.path=n(e.path)),e.query!==void 0&&(e.query=n(e.query)),e.fragment!==void 0&&(e.fragment=n(e.fragment)),e}function Lx(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let n=unescape(e.host);if(!k0(n)){const r=S0(n);r.isIPV6===!0?n=`[${r.escapedHost}]`:n=e.host}t.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var $0={nonSimpleDomain:Cx,recomposeAuthority:Lx,normalizeComponentEncoding:Dx,removeDotSegments:Mx,isIPv4:k0,isUUID:Ox,normalizeIPv6:S0,stringArrayToHexStripped:Qf};const{isUUID:Zx}=$0,Ux=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,Fx=["http","https","ws","wss","urn","urn:uuid"];function Vx(e){return Fx.indexOf(e)!==-1}function Jf(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function E0(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function b0(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Hx(e){return e.secure=Jf(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function qx(e){if((e.port===(Jf(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}function Bx(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(Ux);if(n){const r=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const s=`${r}:${t.nid||e.nid}`,i=Yf(s);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Wx(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const n=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),s=`${n}:${t.nid||r}`,i=Yf(s);i&&(e=i.serialize(e,t));const o=e,a=e.nss;return o.path=`${r||t.nid}:${a}`,t.skipEscape=!0,o}function Kx(e,t){const n=e;return n.uuid=n.nss,n.nss=void 0,!t.tolerant&&(!n.uuid||!Zx(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function Gx(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const T0={scheme:"http",domainHost:!0,parse:E0,serialize:b0},Qx={scheme:"https",domainHost:T0.domainHost,parse:E0,serialize:b0},va={scheme:"ws",domainHost:!0,parse:Hx,serialize:qx},Jx={scheme:"wss",domainHost:va.domainHost,parse:va.parse,serialize:va.serialize},Yx={scheme:"urn",parse:Bx,serialize:Wx,skipNormalize:!0},Xx={scheme:"urn:uuid",parse:Kx,serialize:Gx,skipNormalize:!0},al={http:T0,https:Qx,ws:va,wss:Jx,urn:Yx,"urn:uuid":Xx};Object.setPrototypeOf(al,null);function Yf(e){return e&&(al[e]||al[e.toLowerCase()])||void 0}var eN={wsIsSecure:Jf,SCHEMES:al,isValidSchemeName:Vx,getSchemeHandler:Yf};const{normalizeIPv6:tN,removeDotSegments:Si,recomposeAuthority:nN,normalizeComponentEncoding:Qo,isIPv4:rN,nonSimpleDomain:sN}=$0,{SCHEMES:iN,getSchemeHandler:P0}=eN;function oN(e,t){return typeof e=="string"?e=In(Wn(e,t),t):typeof e=="object"&&(e=Wn(In(e,t),t)),e}function aN(e,t,n){const r=n?Object.assign({scheme:"null"},n):{scheme:"null"},s=I0(Wn(e,r),Wn(t,r),r,!0);return r.skipEscape=!0,In(s,r)}function I0(e,t,n,r){const s={};return r||(e=Wn(In(e,n),n),t=Wn(In(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Si(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Si(t.path||""),s.query=t.query):(t.path?(t.path[0]==="/"?s.path=Si(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Si(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function lN(e,t,n){return typeof e=="string"?(e=unescape(e),e=In(Qo(Wn(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=In(Qo(e,!0),{...n,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=In(Qo(Wn(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=In(Qo(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function In(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),s=[],i=P0(r.scheme||n.scheme);i&&i.serialize&&i.serialize(n,r),n.path!==void 0&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),r.reference!=="suffix"&&n.scheme&&s.push(n.scheme,":");const o=nN(n);if(o!==void 0&&(r.reference!=="suffix"&&s.push("//"),s.push(o),n.path&&n.path[0]!=="/"&&s.push("/")),n.path!==void 0){let a=n.path;!r.absolutePath&&(!i||!i.absolutePath)&&(a=Si(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),s.push(a)}return n.query!==void 0&&s.push("?",n.query),n.fragment!==void 0&&s.push("#",n.fragment),s.join("")}const uN=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Wn(e,t){const n=Object.assign({},t),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;n.reference==="suffix"&&(n.scheme?e=n.scheme+":"+e:e="//"+e);const i=e.match(uN);if(i){if(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5]),r.host)if(rN(r.host)===!1){const l=tN(r.host);r.host=l.host.toLowerCase(),s=l.isIPV6}else s=!0;r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==r.reference&&(r.error=r.error||"URI is not a "+n.reference+" reference.");const o=P0(n.scheme||r.scheme);if(!n.unicodeSupport&&(!o||!o.unicodeSupport)&&r.host&&(n.domainHost||o&&o.domainHost)&&s===!1&&sN(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(a){r.error=r.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(e.indexOf("%")!==-1&&(r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),r.host!==void 0&&(r.host=unescape(r.host))),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),o&&o.parse&&o.parse(r,n)}else r.error=r.error||"URI can not be parsed.";return r}const Xf={SCHEMES:iN,normalize:oN,resolve:aN,resolveComponent:I0,equal:lN,serialize:In,parse:Wn};Dl.exports=Xf;Dl.exports.default=Xf;Dl.exports.fastUri=Xf;var cN=Dl.exports;Object.defineProperty(Gf,"__esModule",{value:!0});const R0=cN;R0.code='require("ajv/dist/runtime/uri").default';Gf.default=R0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=wn;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=ae;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=To,s=Js,i=Xr,o=xt,a=ae,l=ot,u=Qe,c=Z,f=Nx,m=Gf,v=(O,E)=>new RegExp(O,E);v.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),w={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function p(O){var E,N,b,y,S,P,H,J,we,ye,Ye,rs,Ul,Fl,Vl,Hl,ql,Bl,Wl,Kl,Gl,Ql,Jl,Yl,Xl;const ei=O.strict,eu=(E=O.code)===null||E===void 0?void 0:E.optimize,Nh=eu===!0||eu===void 0?1:eu||0,Oh=(b=(N=O.code)===null||N===void 0?void 0:N.regExp)!==null&&b!==void 0?b:v,H0=(y=O.uriResolver)!==null&&y!==void 0?y:m.default;return{strictSchema:(P=(S=O.strictSchema)!==null&&S!==void 0?S:ei)!==null&&P!==void 0?P:!0,strictNumbers:(J=(H=O.strictNumbers)!==null&&H!==void 0?H:ei)!==null&&J!==void 0?J:!0,strictTypes:(ye=(we=O.strictTypes)!==null&&we!==void 0?we:ei)!==null&&ye!==void 0?ye:"log",strictTuples:(rs=(Ye=O.strictTuples)!==null&&Ye!==void 0?Ye:ei)!==null&&rs!==void 0?rs:"log",strictRequired:(Fl=(Ul=O.strictRequired)!==null&&Ul!==void 0?Ul:ei)!==null&&Fl!==void 0?Fl:!1,code:O.code?{...O.code,optimize:Nh,regExp:Oh}:{optimize:Nh,regExp:Oh},loopRequired:(Vl=O.loopRequired)!==null&&Vl!==void 0?Vl:h,loopEnum:(Hl=O.loopEnum)!==null&&Hl!==void 0?Hl:h,meta:(ql=O.meta)!==null&&ql!==void 0?ql:!0,messages:(Bl=O.messages)!==null&&Bl!==void 0?Bl:!0,inlineRefs:(Wl=O.inlineRefs)!==null&&Wl!==void 0?Wl:!0,schemaId:(Kl=O.schemaId)!==null&&Kl!==void 0?Kl:"$id",addUsedSchema:(Gl=O.addUsedSchema)!==null&&Gl!==void 0?Gl:!0,validateSchema:(Ql=O.validateSchema)!==null&&Ql!==void 0?Ql:!0,validateFormats:(Jl=O.validateFormats)!==null&&Jl!==void 0?Jl:!0,unicodeRegExp:(Yl=O.unicodeRegExp)!==null&&Yl!==void 0?Yl:!0,int32range:(Xl=O.int32range)!==null&&Xl!==void 0?Xl:!0,uriResolver:H0}}class k{constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts={...E,...p(E)};const{es5:N,lines:b}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:N,lines:b}),this.logger=X(E.logger);const y=E.validateFormats;E.validateFormats=!1,this.RULES=(0,i.getRules)(),$.call(this,w,E,"NOT SUPPORTED"),$.call(this,d,E,"DEPRECATED","warn"),this._metaOpts=te.call(this),E.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&re.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),x.call(this),E.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:N,schemaId:b}=this.opts;let y=f;b==="id"&&(y={...f},y.id=y.$id,delete y.$id),N&&E&&this.addMetaSchema(y,y[b],!1)}defaultMeta(){const{meta:E,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[N]||E:void 0}validate(E,N){let b;if(typeof E=="string"){if(b=this.getSchema(E),!b)throw new Error(`no schema with key or ref "${E}"`)}else b=this.compile(E);const y=b(N);return"$async"in b||(this.errors=b.errors),y}compile(E,N){const b=this._addSchema(E,N);return b.validate||this._compileSchemaEnv(b)}compileAsync(E,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return y.call(this,E,N);async function y(ye,Ye){await S.call(this,ye.$schema);const rs=this._addSchema(ye,Ye);return rs.validate||P.call(this,rs)}async function S(ye){ye&&!this.getSchema(ye)&&await y.call(this,{$ref:ye},!0)}async function P(ye){try{return this._compileSchemaEnv(ye)}catch(Ye){if(!(Ye instanceof s.default))throw Ye;return H.call(this,Ye),await J.call(this,Ye.missingSchema),P.call(this,ye)}}function H({missingSchema:ye,missingRef:Ye}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${Ye} cannot be resolved`)}async function J(ye){const Ye=await we.call(this,ye);this.refs[ye]||await S.call(this,Ye.$schema),this.refs[ye]||this.addSchema(Ye,ye,N)}async function we(ye){const Ye=this._loading[ye];if(Ye)return Ye;try{return await(this._loading[ye]=b(ye))}finally{delete this._loading[ye]}}}addSchema(E,N,b,y=this.opts.validateSchema){if(Array.isArray(E)){for(const P of E)this.addSchema(P,void 0,b,y);return this}let S;if(typeof E=="object"){const{schemaId:P}=this.opts;if(S=E[P],S!==void 0&&typeof S!="string")throw new Error(`schema ${P} must be string`)}return N=(0,l.normalizeId)(N||S),this._checkUnique(N),this.schemas[N]=this._addSchema(E,b,N,y,!0),this}addMetaSchema(E,N,b=this.opts.validateSchema){return this.addSchema(E,N,!0,b),this}validateSchema(E,N){if(typeof E=="boolean")return!0;let b;if(b=E.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(b,E);if(!y&&N){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return y}getSchema(E){let N;for(;typeof(N=R.call(this,E))=="string";)E=N;if(N===void 0){const{schemaId:b}=this.opts,y=new o.SchemaEnv({schema:{},schemaId:b});if(N=o.resolveSchema.call(this,y,E),!N)return;this.refs[E]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=R.call(this,E);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const N=E;this._cache.delete(N);let b=E[this.opts.schemaId];return b&&(b=(0,l.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const N of E)this.addKeyword(N);return this}addKeyword(E,N){let b;if(typeof E=="string")b=E,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=b);else if(typeof E=="object"&&N===void 0){if(N=E,b=N.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(D.call(this,b,N),!N)return(0,c.eachItem)(b,S=>Fe.call(this,S)),this;ee.call(this,N);const y={...N,type:(0,u.getJSONTypes)(N.type),schemaType:(0,u.getJSONTypes)(N.schemaType)};return(0,c.eachItem)(b,y.type.length===0?S=>Fe.call(this,S,y):S=>y.type.forEach(P=>Fe.call(this,S,y,P))),this}getKeyword(E){const N=this.RULES.all[E];return typeof N=="object"?N.definition:!!N}removeKeyword(E){const{RULES:N}=this;delete N.keywords[E],delete N.all[E];for(const b of N.rules){const y=b.rules.findIndex(S=>S.keyword===E);y>=0&&b.rules.splice(y,1)}return this}addFormat(E,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[E]=N,this}errorsText(E=this.errors,{separator:N=", ",dataVar:b="data"}={}){return!E||E.length===0?"No errors":E.map(y=>`${b}${y.instancePath} ${y.message}`).reduce((y,S)=>y+N+S)}$dataMetaSchema(E,N){const b=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const y of N){const S=y.split("/").slice(1);let P=E;for(const H of S)P=P[H];for(const H in b){const J=b[H];if(typeof J!="object")continue;const{$data:we}=J.definition,ye=P[H];we&&ye&&(P[H]=Y(ye))}}return E}_removeAllSchemas(E,N){for(const b in E){const y=E[b];(!N||N.test(b))&&(typeof y=="string"?delete E[b]:y&&!y.meta&&(this._cache.delete(y.schema),delete E[b]))}}_addSchema(E,N,b,y=this.opts.validateSchema,S=this.opts.addUsedSchema){let P;const{schemaId:H}=this.opts;if(typeof E=="object")P=E[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(E);if(J!==void 0)return J;b=(0,l.normalizeId)(P||b);const we=l.getSchemaRefs.call(this,E,b);return J=new o.SchemaEnv({schema:E,schemaId:H,meta:N,baseId:b,localRefs:we}),this._cache.set(J.schema,J),S&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=J),y&&this.validateSchema(E,!0),J}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):o.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const N=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,E)}finally{this.opts=N}}}k.ValidationError=r.default,k.MissingRefError=s.default,e.default=k;function $(O,E,N,b="error"){for(const y in O){const S=y;S in E&&this.logger[b](`${N}: option ${y}. ${O[S]}`)}}function R(O){return O=(0,l.normalizeId)(O),this.schemas[O]||this.refs[O]}function x(){const O=this.opts.schemas;if(O)if(Array.isArray(O))this.addSchema(O);else for(const E in O)this.addSchema(O[E],E)}function j(){for(const O in this.opts.formats){const E=this.opts.formats[O];E&&this.addFormat(O,E)}}function re(O){if(Array.isArray(O)){this.addVocabulary(O);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in O){const N=O[E];N.keyword||(N.keyword=E),this.addKeyword(N)}}function te(){const O={...this.opts};for(const E of g)delete O[E];return O}const V={log(){},warn(){},error(){}};function X(O){if(O===!1)return V;if(O===void 0)return console;if(O.log&&O.warn&&O.error)return O;throw new Error("logger must implement log, warn and error methods")}const fe=/^[a-z_$][a-z0-9_$:-]*$/i;function D(O,E){const{RULES:N}=this;if((0,c.eachItem)(O,b=>{if(N.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!fe.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function Fe(O,E,N){var b;const y=E==null?void 0:E.post;if(N&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let P=y?S.post:S.rules.find(({type:J})=>J===N);if(P||(P={type:N,rules:[]},S.rules.push(P)),S.keywords[O]=!0,!E)return;const H={keyword:O,definition:{...E,type:(0,u.getJSONTypes)(E.type),schemaType:(0,u.getJSONTypes)(E.schemaType)}};E.before?ht.call(this,P,H,E.before):P.rules.push(H),S.all[O]=H,(b=E.implements)===null||b===void 0||b.forEach(J=>this.addKeyword(J))}function ht(O,E,N){const b=O.rules.findIndex(y=>y.keyword===N);b>=0?O.rules.splice(b,0,E):(O.rules.push(E),this.logger.warn(`rule ${N} is not defined`))}function ee(O){let{metaSchema:E}=O;E!==void 0&&(O.$data&&this.opts.$data&&(E=Y(E)),O.validateSchema=this.compile(E,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(O){return{anyOf:[O,M]}}})(F_);var eh={},th={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});const dN={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};nh.default=dN;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.callRef=es.getValidate=void 0;const fN=Js,Km=ue,It=ae,os=On,Gm=xt,Jo=Z,hN={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:i,validateName:o,opts:a,self:l}=r,{root:u}=i;if((n==="#"||n==="#/")&&s===u.baseId)return f();const c=Gm.resolveRef.call(l,u,s,n);if(c===void 0)throw new fN.default(r.opts.uriResolver,s,n);if(c instanceof Gm.SchemaEnv)return m(c);return v(c);function f(){if(i===u)return _a(e,o,i,i.$async);const g=t.scopeValue("root",{ref:u});return _a(e,(0,It._)`${g}.validate`,u,u.$async)}function m(g){const _=x0(e,g);_a(e,_,g,g.$async)}function v(g){const _=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,It.stringify)(g)}:{ref:g}),w=t.name("valid"),d=e.subschema({schema:g,dataTypes:[],schemaPath:It.nil,topSchemaRef:_,errSchemaPath:n},w);e.mergeEvaluated(d),e.ok(w)}}};function x0(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,It._)`${n.scopeValue("wrapper",{ref:t})}.validate`}es.getValidate=x0;function _a(e,t,n,r){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:a,opts:l}=i,u=l.passContext?os.default.this:It.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=s.let("valid");s.try(()=>{s.code((0,It._)`await ${(0,Km.callValidateCode)(e,t,u)}`),v(t),o||s.assign(g,!0)},_=>{s.if((0,It._)`!(${_} instanceof ${i.ValidationError})`,()=>s.throw(_)),m(_),o||s.assign(g,!1)}),e.ok(g)}function f(){e.result((0,Km.callValidateCode)(e,t,u),()=>v(t),()=>m(t))}function m(g){const _=(0,It._)`${g}.errors`;s.assign(os.default.vErrors,(0,It._)`${os.default.vErrors} === null ? ${_} : ${os.default.vErrors}.concat(${_})`),s.assign(os.default.errors,(0,It._)`${os.default.vErrors}.length`)}function v(g){var _;if(!i.opts.unevaluated)return;const w=(_=n==null?void 0:n.validate)===null||_===void 0?void 0:_.evaluated;if(i.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(i.props=Jo.mergeEvaluated.props(s,w.props,i.props));else{const d=s.var("props",(0,It._)`${g}.evaluated.props`);i.props=Jo.mergeEvaluated.props(s,d,i.props,It.Name)}if(i.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(i.items=Jo.mergeEvaluated.items(s,w.items,i.items));else{const d=s.var("items",(0,It._)`${g}.evaluated.items`);i.items=Jo.mergeEvaluated.items(s,d,i.items,It.Name)}}}es.callRef=_a;es.default=hN;Object.defineProperty(th,"__esModule",{value:!0});const pN=nh,mN=es,gN=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",pN.default,mN.default];th.default=gN;var rh={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});const ll=ae,Yn=ll.operators,ul={maximum:{okStr:"<=",ok:Yn.LTE,fail:Yn.GT},minimum:{okStr:">=",ok:Yn.GTE,fail:Yn.LT},exclusiveMaximum:{okStr:"<",ok:Yn.LT,fail:Yn.GTE},exclusiveMinimum:{okStr:">",ok:Yn.GT,fail:Yn.LTE}},yN={message:({keyword:e,schemaCode:t})=>(0,ll.str)`must be ${ul[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ll._)`{comparison: ${ul[e].okStr}, limit: ${t}}`},vN={keyword:Object.keys(ul),type:"number",schemaType:"number",$data:!0,error:yN,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,ll._)`${n} ${ul[t].fail} ${r} || isNaN(${n})`)}};sh.default=vN;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});const Mi=ae,_N={message:({schemaCode:e})=>(0,Mi.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Mi._)`{multipleOf: ${e}}`},wN={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:_N,code(e){const{gen:t,data:n,schemaCode:r,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),a=i?(0,Mi._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,Mi._)`${o} !== parseInt(${o})`;e.fail$data((0,Mi._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};ih.default=wN;var oh={},ah={};Object.defineProperty(ah,"__esModule",{value:!0});function N0(e){const t=e.length;let n=0,r=0,s;for(;r<t;)n++,s=e.charCodeAt(r++),s>=55296&&s<=56319&&r<t&&(s=e.charCodeAt(r),(s&64512)===56320&&r++);return n}ah.default=N0;N0.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(oh,"__esModule",{value:!0});const Ar=ae,kN=Z,SN=ah,$N={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Ar.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Ar._)`{limit: ${e}}`},EN={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:$N,code(e){const{keyword:t,data:n,schemaCode:r,it:s}=e,i=t==="maxLength"?Ar.operators.GT:Ar.operators.LT,o=s.opts.unicode===!1?(0,Ar._)`${n}.length`:(0,Ar._)`${(0,kN.useFunc)(e.gen,SN.default)}(${n})`;e.fail$data((0,Ar._)`${o} ${i} ${r}`)}};oh.default=EN;var lh={};Object.defineProperty(lh,"__esModule",{value:!0});const bN=ue,cl=ae,TN={message:({schemaCode:e})=>(0,cl.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,cl._)`{pattern: ${e}}`},PN={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:TN,code(e){const{data:t,$data:n,schema:r,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",a=n?(0,cl._)`(new RegExp(${s}, ${o}))`:(0,bN.usePattern)(e,r);e.fail$data((0,cl._)`!${a}.test(${t})`)}};lh.default=PN;var uh={};Object.defineProperty(uh,"__esModule",{value:!0});const Di=ae,IN={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Di.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Di._)`{limit: ${e}}`},RN={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:IN,code(e){const{keyword:t,data:n,schemaCode:r}=e,s=t==="maxProperties"?Di.operators.GT:Di.operators.LT;e.fail$data((0,Di._)`Object.keys(${n}).length ${s} ${r}`)}};uh.default=RN;var ch={};Object.defineProperty(ch,"__esModule",{value:!0});const hi=ue,Li=ae,xN=Z,NN={message:({params:{missingProperty:e}})=>(0,Li.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Li._)`{missingProperty: ${e}}`},ON={keyword:"required",type:"object",schemaType:"array",$data:!0,error:NN,code(e){const{gen:t,schema:n,schemaCode:r,data:s,$data:i,it:o}=e,{opts:a}=o;if(!i&&n.length===0)return;const l=n.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const v=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of n)if((v==null?void 0:v[_])===void 0&&!g.has(_)){const w=o.schemaEnv.baseId+o.errSchemaPath,d=`required property "${_}" is not defined at "${w}" (strictRequired)`;(0,xN.checkStrictMode)(o,d,o.opts.strictRequired)}}function u(){if(l||i)e.block$data(Li.nil,f);else for(const v of n)(0,hi.checkReportMissingProp)(e,v)}function c(){const v=t.let("missing");if(l||i){const g=t.let("valid",!0);e.block$data(g,()=>m(v,g)),e.ok(g)}else t.if((0,hi.checkMissingProp)(e,n,v)),(0,hi.reportMissingProp)(e,v),t.else()}function f(){t.forOf("prop",r,v=>{e.setParams({missingProperty:v}),t.if((0,hi.noPropertyInData)(t,s,v,a.ownProperties),()=>e.error())})}function m(v,g){e.setParams({missingProperty:v}),t.forOf(v,r,()=>{t.assign(g,(0,hi.propertyInData)(t,s,v,a.ownProperties)),t.if((0,Li.not)(g),()=>{e.error(),t.break()})},Li.nil)}}};ch.default=ON;var dh={};Object.defineProperty(dh,"__esModule",{value:!0});const Zi=ae,CN={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Zi.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Zi._)`{limit: ${e}}`},zN={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:CN,code(e){const{keyword:t,data:n,schemaCode:r}=e,s=t==="maxItems"?Zi.operators.GT:Zi.operators.LT;e.fail$data((0,Zi._)`${n}.length ${s} ${r}`)}};dh.default=zN;var fh={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});const O0=s0;O0.code='require("ajv/dist/runtime/equal").default';Po.default=O0;Object.defineProperty(fh,"__esModule",{value:!0});const Du=Qe,st=ae,jN=Z,AN=Po,MN={message:({params:{i:e,j:t}})=>(0,st.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,st._)`{i: ${e}, j: ${t}}`},DN={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:MN,code(e){const{gen:t,data:n,$data:r,schema:s,parentSchema:i,schemaCode:o,it:a}=e;if(!r&&!s)return;const l=t.let("valid"),u=i.items?(0,Du.getSchemaTypes)(i.items):[];e.block$data(l,c,(0,st._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,st._)`${n}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,st._)`${g} > 1`,()=>(f()?m:v)(g,_))}function f(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function m(g,_){const w=t.name("item"),d=(0,Du.checkDataTypes)(u,w,a.opts.strictNumbers,Du.DataType.Wrong),h=t.const("indices",(0,st._)`{}`);t.for((0,st._)`;${g}--;`,()=>{t.let(w,(0,st._)`${n}[${g}]`),t.if(d,(0,st._)`continue`),u.length>1&&t.if((0,st._)`typeof ${w} == "string"`,(0,st._)`${w} += "_"`),t.if((0,st._)`typeof ${h}[${w}] == "number"`,()=>{t.assign(_,(0,st._)`${h}[${w}]`),e.error(),t.assign(l,!1).break()}).code((0,st._)`${h}[${w}] = ${g}`)})}function v(g,_){const w=(0,jN.useFunc)(t,AN.default),d=t.name("outer");t.label(d).for((0,st._)`;${g}--;`,()=>t.for((0,st._)`${_} = ${g}; ${_}--;`,()=>t.if((0,st._)`${w}(${n}[${g}], ${n}[${_}])`,()=>{e.error(),t.assign(l,!1).break(d)})))}}};fh.default=DN;var hh={};Object.defineProperty(hh,"__esModule",{value:!0});const od=ae,LN=Z,ZN=Po,UN={message:"must be equal to constant",params:({schemaCode:e})=>(0,od._)`{allowedValue: ${e}}`},FN={keyword:"const",$data:!0,error:UN,code(e){const{gen:t,data:n,$data:r,schemaCode:s,schema:i}=e;r||i&&typeof i=="object"?e.fail$data((0,od._)`!${(0,LN.useFunc)(t,ZN.default)}(${n}, ${s})`):e.fail((0,od._)`${i} !== ${n}`)}};hh.default=FN;var ph={};Object.defineProperty(ph,"__esModule",{value:!0});const $i=ae,VN=Z,HN=Po,qN={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,$i._)`{allowedValues: ${e}}`},BN={keyword:"enum",schemaType:"array",$data:!0,error:qN,code(e){const{gen:t,data:n,$data:r,schema:s,schemaCode:i,it:o}=e;if(!r&&s.length===0)throw new Error("enum must have non-empty array");const a=s.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,VN.useFunc)(t,HN.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const v=t.const("vSchema",i);c=(0,$i.or)(...s.map((g,_)=>m(v,_)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",i,v=>t.if((0,$i._)`${u()}(${n}, ${v})`,()=>t.assign(c,!0).break()))}function m(v,g){const _=s[g];return typeof _=="object"&&_!==null?(0,$i._)`${u()}(${n}, ${v}[${g}])`:(0,$i._)`${n} === ${_}`}}};ph.default=BN;Object.defineProperty(rh,"__esModule",{value:!0});const WN=sh,KN=ih,GN=oh,QN=lh,JN=uh,YN=ch,XN=dh,eO=fh,tO=hh,nO=ph,rO=[WN.default,KN.default,GN.default,QN.default,JN.default,YN.default,XN.default,eO.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},tO.default,nO.default];rh.default=rO;var mh={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.validateAdditionalItems=void 0;const Mr=ae,ad=Z,sO={message:({params:{len:e}})=>(0,Mr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Mr._)`{limit: ${e}}`},iO={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:sO,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,ad.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}C0(e,r)}};function C0(e,t){const{gen:n,schema:r,data:s,keyword:i,it:o}=e;o.items=!0;const a=n.const("len",(0,Mr._)`${s}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Mr._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,ad.alwaysValidSchema)(o,r)){const u=n.var("valid",(0,Mr._)`${a} <= ${t.length}`);n.if((0,Mr.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:i,dataProp:c,dataPropType:ad.Type.Num},u),o.allErrors||n.if((0,Mr.not)(u),()=>n.break())})}}Ys.validateAdditionalItems=C0;Ys.default=iO;var gh={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.validateTuple=void 0;const Qm=ae,wa=Z,oO=ue,aO={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return z0(e,"additionalItems",t);n.items=!0,!(0,wa.alwaysValidSchema)(n,t)&&e.ok((0,oO.validateArray)(e))}};function z0(e,t,n=e.schema){const{gen:r,parentSchema:s,data:i,keyword:o,it:a}=e;c(s),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=wa.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,Qm._)`${i}.length`);n.forEach((f,m)=>{(0,wa.alwaysValidSchema)(a,f)||(r.if((0,Qm._)`${u} > ${m}`,()=>e.subschema({keyword:o,schemaProp:m,dataProp:m},l)),e.ok(l))});function c(f){const{opts:m,errSchemaPath:v}=a,g=n.length,_=g===f.minItems&&(g===f.maxItems||f[t]===!1);if(m.strictTuples&&!_){const w=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${v}"`;(0,wa.checkStrictMode)(a,w,m.strictTuples)}}}Xs.validateTuple=z0;Xs.default=aO;Object.defineProperty(gh,"__esModule",{value:!0});const lO=Xs,uO={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,lO.validateTuple)(e,"items")};gh.default=uO;var yh={};Object.defineProperty(yh,"__esModule",{value:!0});const Jm=ae,cO=Z,dO=ue,fO=Ys,hO={message:({params:{len:e}})=>(0,Jm.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Jm._)`{limit: ${e}}`},pO={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:hO,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:s}=n;r.items=!0,!(0,cO.alwaysValidSchema)(r,t)&&(s?(0,fO.validateAdditionalItems)(e,s):e.ok((0,dO.validateArray)(e)))}};yh.default=pO;var vh={};Object.defineProperty(vh,"__esModule",{value:!0});const Qt=ae,Yo=Z,mO={message:({params:{min:e,max:t}})=>t===void 0?(0,Qt.str)`must contain at least ${e} valid item(s)`:(0,Qt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Qt._)`{minContains: ${e}}`:(0,Qt._)`{minContains: ${e}, maxContains: ${t}}`},gO={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:mO,code(e){const{gen:t,schema:n,parentSchema:r,data:s,it:i}=e;let o,a;const{minContains:l,maxContains:u}=r;i.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,Qt._)`${s}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Yo.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Yo.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Yo.alwaysValidSchema)(i,n)){let _=(0,Qt._)`${c} >= ${o}`;a!==void 0&&(_=(0,Qt._)`${_} && ${c} <= ${a}`),e.pass(_);return}i.items=!0;const f=t.name("valid");a===void 0&&o===1?v(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Qt._)`${s}.length > 0`,m)):(t.let(f,!1),m()),e.result(f,()=>e.reset());function m(){const _=t.name("_valid"),w=t.let("count",0);v(_,()=>t.if(_,()=>g(w)))}function v(_,w){t.forRange("i",0,c,d=>{e.subschema({keyword:"contains",dataProp:d,dataPropType:Yo.Type.Num,compositeRule:!0},_),w()})}function g(_){t.code((0,Qt._)`${_}++`),a===void 0?t.if((0,Qt._)`${_} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Qt._)`${_} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Qt._)`${_} >= ${o}`,()=>t.assign(f,!0)))}}};vh.default=gO;var j0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ae,n=Z,r=ue;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=i(l);o(l,u),a(l,c)}};function i({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const m=Array.isArray(l[f])?u:c;m[f]=l[f]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:f,it:m}=l;if(Object.keys(u).length===0)return;const v=c.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const w=(0,r.propertyInData)(c,f,g,m.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),m.allErrors?c.if(w,()=>{for(const d of _)(0,r.checkReportMissingProp)(l,d)}):(c.if((0,t._)`${w} && (${(0,r.checkMissingProp)(l,_,v)})`),(0,r.reportMissingProp)(l,v),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:f,keyword:m,it:v}=l,g=c.name("valid");for(const _ in u)(0,n.alwaysValidSchema)(v,u[_])||(c.if((0,r.propertyInData)(c,f,_,v.opts.ownProperties),()=>{const w=l.subschema({keyword:m,schemaProp:_},g);l.mergeValidEvaluated(w,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=s})(j0);var _h={};Object.defineProperty(_h,"__esModule",{value:!0});const A0=ae,yO=Z,vO={message:"property name must be valid",params:({params:e})=>(0,A0._)`{propertyName: ${e.propertyName}}`},_O={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:vO,code(e){const{gen:t,schema:n,data:r,it:s}=e;if((0,yO.alwaysValidSchema)(s,n))return;const i=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,A0.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};_h.default=_O;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});const Xo=ue,fn=ae,wO=On,ea=Z,kO={message:"must NOT have additional properties",params:({params:e})=>(0,fn._)`{additionalProperty: ${e.additionalProperty}}`},SO={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:kO,code(e){const{gen:t,schema:n,parentSchema:r,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,ea.alwaysValidSchema)(o,n))return;const u=(0,Xo.allSchemaProperties)(r.properties),c=(0,Xo.allSchemaProperties)(r.patternProperties);f(),e.ok((0,fn._)`${i} === ${wO.default.errors}`);function f(){t.forIn("key",s,w=>{!u.length&&!c.length?g(w):t.if(m(w),()=>g(w))})}function m(w){let d;if(u.length>8){const h=(0,ea.schemaRefOrVal)(o,r.properties,"properties");d=(0,Xo.isOwnProperty)(t,h,w)}else u.length?d=(0,fn.or)(...u.map(h=>(0,fn._)`${w} === ${h}`)):d=fn.nil;return c.length&&(d=(0,fn.or)(d,...c.map(h=>(0,fn._)`${(0,Xo.usePattern)(e,h)}.test(${w})`))),(0,fn.not)(d)}function v(w){t.code((0,fn._)`delete ${s}[${w}]`)}function g(w){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){v(w);return}if(n===!1){e.setParams({additionalProperty:w}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,ea.alwaysValidSchema)(o,n)){const d=t.name("valid");l.removeAdditional==="failing"?(_(w,d,!1),t.if((0,fn.not)(d),()=>{e.reset(),v(w)})):(_(w,d),a||t.if((0,fn.not)(d),()=>t.break()))}}function _(w,d,h){const p={keyword:"additionalProperties",dataProp:w,dataPropType:ea.Type.Str};h===!1&&Object.assign(p,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(p,d)}}};Ll.default=SO;var wh={};Object.defineProperty(wh,"__esModule",{value:!0});const $O=wn,Ym=ue,Lu=Z,Xm=Ll,EO={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:s,it:i}=e;i.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&Xm.default.code(new $O.KeywordCxt(i,Xm.default,"additionalProperties"));const o=(0,Ym.allSchemaProperties)(n);for(const f of o)i.definedProperties.add(f);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Lu.mergeEvaluated.props(t,(0,Lu.toHash)(o),i.props));const a=o.filter(f=>!(0,Lu.alwaysValidSchema)(i,n[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,Ym.propertyInData)(t,s,f,i.opts.ownProperties)),c(f),i.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return i.opts.useDefaults&&!i.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};wh.default=EO;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});const eg=ue,ta=ae,tg=Z,ng=Z,bO={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:s,it:i}=e,{opts:o}=i,a=(0,eg.allSchemaProperties)(n),l=a.filter(_=>(0,tg.alwaysValidSchema)(i,n[_]));if(a.length===0||l.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&s.properties,c=t.name("valid");i.props!==!0&&!(i.props instanceof ta.Name)&&(i.props=(0,ng.evaluatedPropsToName)(t,i.props));const{props:f}=i;m();function m(){for(const _ of a)u&&v(_),i.allErrors?g(_):(t.var(c,!0),g(_),t.if(c))}function v(_){for(const w in u)new RegExp(_).test(w)&&(0,tg.checkStrictMode)(i,`property ${w} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",r,w=>{t.if((0,ta._)`${(0,eg.usePattern)(e,_)}.test(${w})`,()=>{const d=l.includes(_);d||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:w,dataPropType:ng.Type.Str},c),i.opts.unevaluated&&f!==!0?t.assign((0,ta._)`${f}[${w}]`,!0):!d&&!i.allErrors&&t.if((0,ta.not)(c),()=>t.break())})})}}};kh.default=bO;var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});const TO=Z,PO={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,TO.alwaysValidSchema)(r,n)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Sh.default=PO;var $h={};Object.defineProperty($h,"__esModule",{value:!0});const IO=ue,RO={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:IO.validateUnion,error:{message:"must match a schema in anyOf"}};$h.default=RO;var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});const ka=ae,xO=Z,NO={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ka._)`{passingSchemas: ${e.passing}}`},OO={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:NO,code(e){const{gen:t,schema:n,parentSchema:r,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&r.discriminator)return;const i=n,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((c,f)=>{let m;(0,xO.alwaysValidSchema)(s,c)?t.var(l,!0):m=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,ka._)`${l} && ${o}`).assign(o,!1).assign(a,(0,ka._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,f),m&&e.mergeEvaluated(m,ka.Name)})})}}};Eh.default=OO;var bh={};Object.defineProperty(bh,"__esModule",{value:!0});const CO=Z,zO={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const s=t.name("valid");n.forEach((i,o)=>{if((0,CO.alwaysValidSchema)(r,i))return;const a=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(a)})}};bh.default=zO;var Th={};Object.defineProperty(Th,"__esModule",{value:!0});const dl=ae,M0=Z,jO={message:({params:e})=>(0,dl.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,dl._)`{failingKeyword: ${e.ifClause}}`},AO={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:jO,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,M0.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const s=rg(r,"then"),i=rg(r,"else");if(!s&&!i)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),s&&i){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else s?t.if(a,u("then")):t.if((0,dl.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const m=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(m,o),f?t.assign(f,(0,dl._)`${c}`):e.setParams({ifClause:c})}}}};function rg(e,t){const n=e.schema[t];return n!==void 0&&!(0,M0.alwaysValidSchema)(e,n)}Th.default=AO;var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});const MO=Z,DO={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,MO.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};Ph.default=DO;Object.defineProperty(mh,"__esModule",{value:!0});const LO=Ys,ZO=gh,UO=Xs,FO=yh,VO=vh,HO=j0,qO=_h,BO=Ll,WO=wh,KO=kh,GO=Sh,QO=$h,JO=Eh,YO=bh,XO=Th,eC=Ph;function tC(e=!1){const t=[GO.default,QO.default,JO.default,YO.default,XO.default,eC.default,qO.default,BO.default,HO.default,WO.default,KO.default];return e?t.push(ZO.default,FO.default):t.push(LO.default,UO.default),t.push(VO.default),t}mh.default=tC;var Ih={},Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});const qe=ae,nC={message:({schemaCode:e})=>(0,qe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,qe._)`{format: ${e}}`},rC={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:nC,code(e,t){const{gen:n,data:r,$data:s,schema:i,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;s?m():v();function m(){const g=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),_=n.const("fDef",(0,qe._)`${g}[${o}]`),w=n.let("fType"),d=n.let("format");n.if((0,qe._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>n.assign(w,(0,qe._)`${_}.type || "string"`).assign(d,(0,qe._)`${_}.validate`),()=>n.assign(w,(0,qe._)`"string"`).assign(d,_)),e.fail$data((0,qe.or)(h(),p()));function h(){return l.strictSchema===!1?qe.nil:(0,qe._)`${o} && !${d}`}function p(){const k=c.$async?(0,qe._)`(${_}.async ? await ${d}(${r}) : ${d}(${r}))`:(0,qe._)`${d}(${r})`,$=(0,qe._)`(typeof ${d} == "function" ? ${k} : ${d}.test(${r}))`;return(0,qe._)`${d} && ${d} !== true && ${w} === ${t} && !${$}`}}function v(){const g=f.formats[i];if(!g){h();return}if(g===!0)return;const[_,w,d]=p(g);_===t&&e.pass(k());function h(){if(l.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function p($){const R=$ instanceof RegExp?(0,qe.regexpCode)($):l.code.formats?(0,qe._)`${l.code.formats}${(0,qe.getProperty)(i)}`:void 0,x=n.scopeValue("formats",{key:i,ref:$,code:R});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,qe._)`${x}.validate`]:["string",$,x]}function k(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,qe._)`await ${d}(${r})`}return typeof w=="function"?(0,qe._)`${d}(${r})`:(0,qe._)`${d}.test(${r})`}}}};Rh.default=rC;Object.defineProperty(Ih,"__esModule",{value:!0});const sC=Rh,iC=[sC.default];Ih.default=iC;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.contentVocabulary=Bs.metadataVocabulary=void 0;Bs.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Bs.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(eh,"__esModule",{value:!0});const oC=th,aC=rh,lC=mh,uC=Ih,sg=Bs,cC=[oC.default,aC.default,(0,lC.default)(),uC.default,sg.metadataVocabulary,sg.contentVocabulary];eh.default=cC;var xh={},Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.DiscrError=void 0;var ig;(function(e){e.Tag="tag",e.Mapping="mapping"})(ig||(Zl.DiscrError=ig={}));Object.defineProperty(xh,"__esModule",{value:!0});const ls=ae,ld=Zl,og=xt,dC=Js,fC=Z,hC={message:({params:{discrError:e,tagName:t}})=>e===ld.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,ls._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},pC={keyword:"discriminator",type:"object",schemaType:"object",error:hC,code(e){const{gen:t,data:n,schema:r,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,ls._)`${n}${(0,ls.getProperty)(a)}`);t.if((0,ls._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:ld.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const v=m();t.if(!1);for(const g in v)t.elseIf((0,ls._)`${u} === ${g}`),t.assign(l,f(v[g]));t.else(),e.error(!1,{discrError:ld.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(v){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:v},g);return e.mergeEvaluated(_,ls.Name),g}function m(){var v;const g={},_=d(s);let w=!0;for(let k=0;k<o.length;k++){let $=o[k];if($!=null&&$.$ref&&!(0,fC.schemaHasRulesButRef)($,i.self.RULES)){const x=$.$ref;if($=og.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,x),$ instanceof og.SchemaEnv&&($=$.schema),$===void 0)throw new dC.default(i.opts.uriResolver,i.baseId,x)}const R=(v=$==null?void 0:$.properties)===null||v===void 0?void 0:v[a];if(typeof R!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);w=w&&(_||d($)),h(R,k)}if(!w)throw new Error(`discriminator: "${a}" must be required`);return g;function d({required:k}){return Array.isArray(k)&&k.includes(a)}function h(k,$){if(k.const)p(k.const,$);else if(k.enum)for(const R of k.enum)p(R,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function p(k,$){if(typeof k!="string"||k in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[k]=$}}}};xh.default=pC;const mC="http://json-schema.org/draft-07/schema#",gC="http://json-schema.org/draft-07/schema#",yC="Core schema meta-schema",vC={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},_C=["object","boolean"],wC={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},kC={$schema:mC,$id:gC,title:yC,definitions:vC,type:_C,properties:wC,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=F_,r=eh,s=xh,i=kC,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=wn;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=ae;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=To;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var m=Js;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(td,td.exports);var D0=td.exports;const SC=dd(D0);var ud={exports:{}},L0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(V,X){return{validate:V,compare:X}}e.fullFormats={date:t(i,o),time:t(l(!0),u),"date-time":t(m(!0),v),"iso-time":t(l(),c),"iso-date-time":t(m(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:d,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:te,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:R},int64:{type:"number",validate:x},float:{type:"number",validate:j},double:{type:"number",validate:j},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(V){return V%4===0&&(V%100!==0||V%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(V){const X=r.exec(V);if(!X)return!1;const fe=+X[1],D=+X[2],Fe=+X[3];return D>=1&&D<=12&&Fe>=1&&Fe<=(D===2&&n(fe)?29:s[D])}function o(V,X){if(V&&X)return V>X?1:V<X?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(V){return function(fe){const D=a.exec(fe);if(!D)return!1;const Fe=+D[1],ht=+D[2],ee=+D[3],M=D[4],Y=D[5]==="-"?-1:1,O=+(D[6]||0),E=+(D[7]||0);if(O>23||E>59||V&&!M)return!1;if(Fe<=23&&ht<=59&&ee<60)return!0;const N=ht-E*Y,b=Fe-O*Y-(N<0?1:0);return(b===23||b===-1)&&(N===59||N===-1)&&ee<61}}function u(V,X){if(!(V&&X))return;const fe=new Date("2020-01-01T"+V).valueOf(),D=new Date("2020-01-01T"+X).valueOf();if(fe&&D)return fe-D}function c(V,X){if(!(V&&X))return;const fe=a.exec(V),D=a.exec(X);if(fe&&D)return V=fe[1]+fe[2]+fe[3],X=D[1]+D[2]+D[3],V>X?1:V<X?-1:0}const f=/t|\s/i;function m(V){const X=l(V);return function(D){const Fe=D.split(f);return Fe.length===2&&i(Fe[0])&&X(Fe[1])}}function v(V,X){if(!(V&&X))return;const fe=new Date(V).valueOf(),D=new Date(X).valueOf();if(fe&&D)return fe-D}function g(V,X){if(!(V&&X))return;const[fe,D]=V.split(f),[Fe,ht]=X.split(f),ee=o(fe,Fe);if(ee!==void 0)return ee||u(D,ht)}const _=/\/|:/,w=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function d(V){return _.test(V)&&w.test(V)}const h=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(V){return h.lastIndex=0,h.test(V)}const k=-(2**31),$=2**31-1;function R(V){return Number.isInteger(V)&&V<=$&&V>=k}function x(V){return Number.isInteger(V)}function j(){return!0}const re=/[^\\]\\Z/;function te(V){if(re.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(L0);var Z0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=D0,n=ae,r=n.operators,s={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:l})=>(0,n.str)`should be ${s[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,n._)`{comparison: ${s[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(a){const{gen:l,data:u,schemaCode:c,keyword:f,it:m}=a,{opts:v,self:g}=m;if(!v.validateFormats)return;const _=new t.KeywordCxt(m,g.RULES.all.format.definition,"format");_.$data?w():d();function w(){const p=l.scopeValue("formats",{ref:g.formats,code:v.code.formats}),k=l.const("fmt",(0,n._)`${p}[${_.schemaCode}]`);a.fail$data((0,n.or)((0,n._)`typeof ${k} != "object"`,(0,n._)`${k} instanceof RegExp`,(0,n._)`typeof ${k}.compare != "function"`,h(k)))}function d(){const p=_.schema,k=g.formats[p];if(!k||k===!0)return;if(typeof k!="object"||k instanceof RegExp||typeof k.compare!="function")throw new Error(`"${f}": format "${p}" does not define "compare" function`);const $=l.scopeValue("formats",{key:p,ref:k,code:v.code.formats?(0,n._)`${v.code.formats}${(0,n.getProperty)(p)}`:void 0});a.fail$data(h($))}function h(p){return(0,n._)`${p}.compare(${u}, ${c}) ${s[f].fail} 0`}},dependencies:["format"]};const o=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=o})(Z0);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=L0,r=Z0,s=ae,i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),a=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,n.fullFormats,i),u;const[f,m]=c.mode==="fast"?[n.fastFormats,o]:[n.fullFormats,i],v=c.formats||n.formatNames;return l(u,v,f,m),c.keywords&&(0,r.default)(u),u};a.get=(u,c="full")=>{const m=(c==="fast"?n.fastFormats:n.fullFormats)[u];if(!m)throw new Error(`Unknown format "${u}"`);return m};function l(u,c,f,m){var v,g;(v=(g=u.opts.code).formats)!==null&&v!==void 0||(g.formats=(0,s._)`require("ajv-formats/dist/formats").${m}`);for(const _ of c)u.addFormat(_,f[_])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(ud,ud.exports);var $C=ud.exports;const EC=dd($C);function bC(){const e=new SC({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return EC(e),e}class TC{constructor(t){this._ajv=t??bC()}getValidator(t){const n="$id"in t&&typeof t.$id=="string"?this._ajv.getSchema(t.$id)??this._ajv.compile(t):this._ajv.compile(t);return r=>n(r)?{valid:!0,data:r,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(n.errors)}}}class PC{constructor(t){this._server=t}requestStream(t,n,r){return this._server.requestStream(t,n,r)}async getTask(t,n){return this._server.getTask({taskId:t},n)}async getTaskResult(t,n,r){return this._server.getTaskResult({taskId:t},n,r)}async listTasks(t,n){return this._server.listTasks(t?{cursor:t}:void 0,n)}async cancelTask(t,n){return this._server.cancelTask({taskId:t},n)}}function IC(e,t,n){var r;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);switch(t){case"tools/call":if(!((r=e.tools)!=null&&r.call))throw new Error(`${n} does not support task creation for tools/call (required for ${t})`);break}}function RC(e,t,n){var r,s;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!((r=e.sampling)!=null&&r.createMessage))throw new Error(`${n} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!((s=e.elicitation)!=null&&s.create))throw new Error(`${n} does not support task creation for elicitation/create (required for ${t})`);break}}class xC extends NI{constructor(t,n){super(n),this._serverInfo=t,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(rl.options.map((r,s)=>[r,s])),this.isMessageIgnored=(r,s)=>{const i=this._loggingLevels.get(s);return i?this.LOG_LEVEL_SEVERITY.get(r)<this.LOG_LEVEL_SEVERITY.get(i):!1},this._capabilities=(n==null?void 0:n.capabilities)??{},this._instructions=n==null?void 0:n.instructions,this._jsonSchemaValidator=(n==null?void 0:n.jsonSchemaValidator)??new TC,this.setRequestHandler(b_,r=>this._oninitialize(r)),this.setNotificationHandler(T_,()=>{var r;return(r=this.oninitialized)==null?void 0:r.call(this)}),this._capabilities.logging&&this.setRequestHandler(O_,async(r,s)=>{var l;const i=s.sessionId||((l=s.requestInfo)==null?void 0:l.headers["mcp-session-id"])||void 0,{level:o}=r.params,a=rl.safeParse(o);return a.success&&this._loggingLevels.set(i,a.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new PC(this)}),this._experimental}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=OI(this._capabilities,t)}setRequestHandler(t,n){var a;const r=vo(t),s=r==null?void 0:r.method;if(!s)throw new Error("Schema is missing a method literal");let i;if(Nn(s)){const l=s,u=(a=l._zod)==null?void 0:a.def;i=(u==null?void 0:u.value)??l.value}else{const l=s,u=l._def;i=(u==null?void 0:u.value)??l.value}if(typeof i!="string")throw new Error("Schema method literal must be a string");if(i==="tools/call"){const l=async(u,c)=>{const f=ji(nl,u);if(!f.success){const _=f.error instanceof Error?f.error.message:String(f.error);throw new Q(ne.InvalidParams,`Invalid tools/call request: ${_}`)}const{params:m}=f.data,v=await Promise.resolve(n(u,c));if(m.task){const _=ji(zl,v);if(!_.success){const w=_.error instanceof Error?_.error.message:String(_.error);throw new Q(ne.InvalidParams,`Invalid task creation result: ${w}`)}return _.data}const g=ji(Df,v);if(!g.success){const _=g.error instanceof Error?g.error.message:String(g.error);throw new Q(ne.InvalidParams,`Invalid tools/call result: ${_}`)}return g.data};return super.setRequestHandler(t,l)}return super.setRequestHandler(t,n)}assertCapabilityForMethod(t){var n,r,s;switch(t){case"sampling/createMessage":if(!((n=this._clientCapabilities)!=null&&n.sampling))throw new Error(`Client does not support sampling (required for ${t})`);break;case"elicitation/create":if(!((r=this._clientCapabilities)!=null&&r.elicitation))throw new Error(`Client does not support elicitation (required for ${t})`);break;case"roots/list":if(!((s=this._clientCapabilities)!=null&&s.roots))throw new Error(`Client does not support listing roots (required for ${t})`);break}}assertNotificationCapability(t){var n,r;switch(t){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${t})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${t})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${t})`);break;case"notifications/elicitation/complete":if(!((r=(n=this._clientCapabilities)==null?void 0:n.elicitation)!=null&&r.url))throw new Error(`Client does not support URL elicitation (required for ${t})`);break}}assertRequestHandlerCapability(t){if(this._capabilities)switch(t){case"completion/complete":if(!this._capabilities.completions)throw new Error(`Server does not support completions (required for ${t})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Server does not support tasks capability (required for ${t})`);break}}assertTaskCapability(t){var n,r;RC((r=(n=this._clientCapabilities)==null?void 0:n.tasks)==null?void 0:r.requests,t,"Client")}assertTaskHandlerCapability(t){var n;this._capabilities&&IC((n=this._capabilities.tasks)==null?void 0:n.requests,t,"Server")}async _oninitialize(t){const n=t.params.protocolVersion;return this._clientCapabilities=t.params.capabilities,this._clientVersion=t.params.clientInfo,{protocolVersion:cT.includes(n)?n:__,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Sf)}async createMessage(t,n){var r,s;if((t.tools||t.toolChoice)&&!((s=(r=this._clientCapabilities)==null?void 0:r.sampling)!=null&&s.tools))throw new Error("Client does not support sampling tools capability.");if(t.messages.length>0){const i=t.messages[t.messages.length-1],o=Array.isArray(i.content)?i.content:[i.content],a=o.some(f=>f.type==="tool_result"),l=t.messages.length>1?t.messages[t.messages.length-2]:void 0,u=l?Array.isArray(l.content)?l.content:[l.content]:[],c=u.some(f=>f.type==="tool_use");if(a){if(o.some(f=>f.type!=="tool_result"))throw new Error("The last message must contain only tool_result content if any is present");if(!c)throw new Error("tool_result blocks are not matching any tool_use from the previous message")}if(c){const f=new Set(u.filter(v=>v.type==="tool_use").map(v=>v.id)),m=new Set(o.filter(v=>v.type==="tool_result").map(v=>v.toolUseId));if(f.size!==m.size||![...f].every(v=>m.has(v)))throw new Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return t.tools?this.request({method:"sampling/createMessage",params:t},z_,n):this.request({method:"sampling/createMessage",params:t},C_,n)}async elicitInput(t,n){var s,i,o,a;switch(t.mode??"form"){case"url":{if(!((i=(s=this._clientCapabilities)==null?void 0:s.elicitation)!=null&&i.url))throw new Error("Client does not support url elicitation.");const l=t;return this.request({method:"elicitation/create",params:l},Xc,n)}case"form":{if(!((a=(o=this._clientCapabilities)==null?void 0:o.elicitation)!=null&&a.form))throw new Error("Client does not support form elicitation.");const l=t.mode==="form"?t:{...t,mode:"form"},u=await this.request({method:"elicitation/create",params:l},Xc,n);if(u.action==="accept"&&u.content&&l.requestedSchema)try{const f=this._jsonSchemaValidator.getValidator(l.requestedSchema)(u.content);if(!f.valid)throw new Q(ne.InvalidParams,`Elicitation response content does not match requested schema: ${f.errorMessage}`)}catch(c){throw c instanceof Q?c:new Q(ne.InternalError,`Error validating elicitation response: ${c instanceof Error?c.message:String(c)}`)}return u}}}createElicitationCompletionNotifier(t,n){var r,s;if(!((s=(r=this._clientCapabilities)==null?void 0:r.elicitation)!=null&&s.url))throw new Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:t}},n)}async listRoots(t,n){return this.request({method:"roots/list",params:t},j_,n)}async sendLoggingMessage(t,n){if(this._capabilities.logging&&!this.isMessageIgnored(t.level,n))return this.notification({method:"notifications/message",params:t})}async sendResourceUpdated(t){return this.notification({method:"notifications/resources/updated",params:t})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}const U0=Symbol.for("mcp.completable");function ag(e){return!!e&&typeof e=="object"&&U0 in e}function NC(e){const t=e[U0];return t==null?void 0:t.complete}var lg;(function(e){e.Completable="McpCompletable"})(lg||(lg={}));const OC=/^[A-Za-z0-9._-]{1,128}$/;function CC(e){const t=[];if(e.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(e.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${e.length})`]};if(e.includes(" ")&&t.push("Tool name contains spaces, which may cause parsing issues"),e.includes(",")&&t.push("Tool name contains commas, which may cause parsing issues"),(e.startsWith("-")||e.endsWith("-"))&&t.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(e.startsWith(".")||e.endsWith("."))&&t.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!OC.test(e)){const n=e.split("").filter(r=>!/[A-Za-z0-9._-]/.test(r)).filter((r,s,i)=>i.indexOf(r)===s);return t.push(`Tool name contains invalid characters: ${n.map(r=>`"${r}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:t}}return{isValid:!0,warnings:t}}function zC(e,t){if(t.length>0){console.warn(`Tool name validation warning for "${e}":`);for(const n of t)console.warn(`  - ${n}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function ug(e){const t=CC(e);return zC(e,t.warnings),t.isValid}class jC{constructor(t){this._mcpServer=t}registerToolTask(t,n,r){const s={taskSupport:"required",...n.execution};if(s.taskSupport==="forbidden")throw new Error(`Cannot register task-based tool '${t}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(t,n.title,n.description,n.inputSchema,n.outputSchema,n.annotations,s,n._meta,r)}}class AC{constructor(t,n){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new xC(t,n)}get experimental(){return this._experimental||(this._experimental={tasks:new jC(this)}),this._experimental}async connect(t){return await this.server.connect(t)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(Xn(Yc)),this.server.assertCanSetRequestHandler(Xn(nl)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(Yc,()=>({tools:Object.entries(this._registeredTools).filter(([,t])=>t.enabled).map(([t,n])=>{const r={name:t,title:n.title,description:n.description,inputSchema:(()=>{const s=di(n.inputSchema);return s?zm(s,{strictUnions:!0,pipeStrategy:"input"}):MC})(),annotations:n.annotations,execution:n.execution,_meta:n._meta};if(n.outputSchema){const s=di(n.outputSchema);s&&(r.outputSchema=zm(s,{strictUnions:!0,pipeStrategy:"output"}))}return r})})),this.server.setRequestHandler(nl,async(t,n)=>{var r;try{const s=this._registeredTools[t.params.name];if(!s)throw new Q(ne.InvalidParams,`Tool ${t.params.name} not found`);if(!s.enabled)throw new Q(ne.InvalidParams,`Tool ${t.params.name} disabled`);const i=!!t.params.task,o=(r=s.execution)==null?void 0:r.taskSupport,a="createTask"in s.handler;if((o==="required"||o==="optional")&&!a)throw new Q(ne.InternalError,`Tool ${t.params.name} has taskSupport '${o}' but was not registered with registerToolTask`);if(o==="required"&&!i)throw new Q(ne.MethodNotFound,`Tool ${t.params.name} requires task augmentation (taskSupport: 'required')`);if(o==="optional"&&!i&&a)return await this.handleAutomaticTaskPolling(s,t,n);const l=await this.validateToolInput(s,t.params.arguments,t.params.name),u=await this.executeToolHandler(s,l,n);return i||await this.validateToolOutput(s,u,t.params.name),u}catch(s){if(s instanceof Q&&s.code===ne.UrlElicitationRequired)throw s;return this.createToolError(s instanceof Error?s.message:String(s))}}),this._toolHandlersInitialized=!0)}createToolError(t){return{content:[{type:"text",text:t}],isError:!0}}async validateToolInput(t,n,r){if(!t.inputSchema)return;const i=di(t.inputSchema)??t.inputSchema,o=await Nu(i,n);if(!o.success){const a="error"in o?o.error:"Unknown error",l=Ou(a);throw new Q(ne.InvalidParams,`Input validation error: Invalid arguments for tool ${r}: ${l}`)}return o.data}async validateToolOutput(t,n,r){if(!t.outputSchema||!("content"in n)||n.isError)return;if(!n.structuredContent)throw new Q(ne.InvalidParams,`Output validation error: Tool ${r} has an output schema but no structured content was provided`);const s=di(t.outputSchema),i=await Nu(s,n.structuredContent);if(!i.success){const o="error"in i?i.error:"Unknown error",a=Ou(o);throw new Q(ne.InvalidParams,`Output validation error: Invalid structured content for tool ${r}: ${a}`)}}async executeToolHandler(t,n,r){const s=t.handler;if("createTask"in s){if(!r.taskStore)throw new Error("No task store provided.");const o={...r,taskStore:r.taskStore};if(t.inputSchema){const a=s;return await Promise.resolve(a.createTask(n,o))}else{const a=s;return await Promise.resolve(a.createTask(o))}}if(t.inputSchema){const o=s;return await Promise.resolve(o(n,r))}else{const o=s;return await Promise.resolve(o(r))}}async handleAutomaticTaskPolling(t,n,r){if(!r.taskStore)throw new Error("No task store provided for task-capable tool.");const s=await this.validateToolInput(t,n.params.arguments,n.params.name),i=t.handler,o={...r,taskStore:r.taskStore},a=s?await Promise.resolve(i.createTask(s,o)):await Promise.resolve(i.createTask(o)),l=a.task.taskId;let u=a.task;const c=u.pollInterval??5e3;for(;u.status!=="completed"&&u.status!=="failed"&&u.status!=="cancelled";){await new Promise(m=>setTimeout(m,c));const f=await r.taskStore.getTask(l);if(!f)throw new Q(ne.InternalError,`Task ${l} not found during polling`);u=f}return await r.taskStore.getTaskResult(l)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Xn(ed)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(ed,async t=>{switch(t.params.ref.type){case"ref/prompt":return DP(t),this.handlePromptCompletion(t,t.params.ref);case"ref/resource":return LP(t),this.handleResourceCompletion(t,t.params.ref);default:throw new Q(ne.InvalidParams,`Invalid completion reference: ${t.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(t,n){const r=this._registeredPrompts[n.name];if(!r)throw new Q(ne.InvalidParams,`Prompt ${n.name} not found`);if(!r.enabled)throw new Q(ne.InvalidParams,`Prompt ${n.name} disabled`);if(!r.argsSchema)return pi;const s=vo(r.argsSchema),i=s==null?void 0:s[t.params.argument.name];if(!ag(i))return pi;const o=NC(i);if(!o)return pi;const a=await o(t.params.argument.value,t.params.context);return dg(a)}async handleResourceCompletion(t,n){const r=Object.values(this._registeredResourceTemplates).find(o=>o.resourceTemplate.uriTemplate.toString()===n.uri);if(!r){if(this._registeredResources[n.uri])return pi;throw new Q(ne.InvalidParams,`Resource template ${t.params.ref.uri} not found`)}const s=r.resourceTemplate.completeCallback(t.params.argument.name);if(!s)return pi;const i=await s(t.params.argument.value,t.params.context);return dg(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(Xn(Wc)),this.server.assertCanSetRequestHandler(Xn(Kc)),this.server.assertCanSetRequestHandler(Xn(Gc)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(Wc,async(t,n)=>{const r=Object.entries(this._registeredResources).filter(([i,o])=>o.enabled).map(([i,o])=>({uri:i,name:o.name,...o.metadata})),s=[];for(const i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;const o=await i.resourceTemplate.listCallback(n);for(const a of o.resources)s.push({...i.metadata,...a})}return{resources:[...r,...s]}}),this.server.setRequestHandler(Kc,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([n,r])=>({name:n,uriTemplate:r.resourceTemplate.uriTemplate.toString(),...r.metadata}))})),this.server.setRequestHandler(Gc,async(t,n)=>{const r=new URL(t.params.uri),s=this._registeredResources[r.toString()];if(s){if(!s.enabled)throw new Q(ne.InvalidParams,`Resource ${r} disabled`);return s.readCallback(r,n)}for(const i of Object.values(this._registeredResourceTemplates)){const o=i.resourceTemplate.uriTemplate.match(r.toString());if(o)return i.readCallback(r,o,n)}throw new Q(ne.InvalidParams,`Resource ${r} not found`)}),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(Xn(Qc)),this.server.assertCanSetRequestHandler(Xn(Jc)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(Qc,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,t])=>t.enabled).map(([t,n])=>({name:t,title:n.title,description:n.description,arguments:n.argsSchema?LC(n.argsSchema):void 0}))})),this.server.setRequestHandler(Jc,async(t,n)=>{const r=this._registeredPrompts[t.params.name];if(!r)throw new Q(ne.InvalidParams,`Prompt ${t.params.name} not found`);if(!r.enabled)throw new Q(ne.InvalidParams,`Prompt ${t.params.name} disabled`);if(r.argsSchema){const s=di(r.argsSchema),i=await Nu(s,t.params.arguments);if(!i.success){const l="error"in i?i.error:"Unknown error",u=Ou(l);throw new Q(ne.InvalidParams,`Invalid arguments for prompt ${t.params.name}: ${u}`)}const o=i.data,a=r.callback;return await Promise.resolve(a(o,n))}else{const s=r.callback;return await Promise.resolve(s(n))}}),this._promptHandlersInitialized=!0)}resource(t,n,...r){let s;typeof r[0]=="object"&&(s=r.shift());const i=r[0];if(typeof n=="string"){if(this._registeredResources[n])throw new Error(`Resource ${n} is already registered`);const o=this._createRegisteredResource(t,void 0,n,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);const o=this._createRegisteredResourceTemplate(t,void 0,n,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),o}}registerResource(t,n,r,s){if(typeof n=="string"){if(this._registeredResources[n])throw new Error(`Resource ${n} is already registered`);const i=this._createRegisteredResource(t,r.title,n,r,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[t])throw new Error(`Resource template ${t} is already registered`);const i=this._createRegisteredResourceTemplate(t,r.title,n,r,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(t,n,r,s,i){const o={name:t,title:n,metadata:s,readCallback:i,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({uri:null}),update:a=>{typeof a.uri<"u"&&a.uri!==r&&(delete this._registeredResources[r],a.uri&&(this._registeredResources[a.uri]=o)),typeof a.name<"u"&&(o.name=a.name),typeof a.title<"u"&&(o.title=a.title),typeof a.metadata<"u"&&(o.metadata=a.metadata),typeof a.callback<"u"&&(o.readCallback=a.callback),typeof a.enabled<"u"&&(o.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResources[r]=o,o}_createRegisteredResourceTemplate(t,n,r,s,i){const o={resourceTemplate:r,title:n,metadata:s,readCallback:i,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({name:null}),update:u=>{typeof u.name<"u"&&u.name!==t&&(delete this._registeredResourceTemplates[t],u.name&&(this._registeredResourceTemplates[u.name]=o)),typeof u.title<"u"&&(o.title=u.title),typeof u.template<"u"&&(o.resourceTemplate=u.template),typeof u.metadata<"u"&&(o.metadata=u.metadata),typeof u.callback<"u"&&(o.readCallback=u.callback),typeof u.enabled<"u"&&(o.enabled=u.enabled),this.sendResourceListChanged()}};this._registeredResourceTemplates[t]=o;const a=r.uriTemplate.variableNames;return Array.isArray(a)&&a.some(u=>!!r.completeCallback(u))&&this.setCompletionRequestHandler(),o}_createRegisteredPrompt(t,n,r,s,i){const o={title:n,description:r,argsSchema:s===void 0?void 0:$s(s),callback:i,enabled:!0,disable:()=>o.update({enabled:!1}),enable:()=>o.update({enabled:!0}),remove:()=>o.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==t&&(delete this._registeredPrompts[t],a.name&&(this._registeredPrompts[a.name]=o)),typeof a.title<"u"&&(o.title=a.title),typeof a.description<"u"&&(o.description=a.description),typeof a.argsSchema<"u"&&(o.argsSchema=$s(a.argsSchema)),typeof a.callback<"u"&&(o.callback=a.callback),typeof a.enabled<"u"&&(o.enabled=a.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[t]=o,s&&Object.values(s).some(l=>{var c;const u=l instanceof Ln?(c=l._def)==null?void 0:c.innerType:l;return ag(u)})&&this.setCompletionRequestHandler(),o}_createRegisteredTool(t,n,r,s,i,o,a,l,u){ug(t);const c={title:n,description:r,inputSchema:cg(s),outputSchema:cg(i),annotations:o,execution:a,_meta:l,handler:u,enabled:!0,disable:()=>c.update({enabled:!1}),enable:()=>c.update({enabled:!0}),remove:()=>c.update({name:null}),update:f=>{typeof f.name<"u"&&f.name!==t&&(typeof f.name=="string"&&ug(f.name),delete this._registeredTools[t],f.name&&(this._registeredTools[f.name]=c)),typeof f.title<"u"&&(c.title=f.title),typeof f.description<"u"&&(c.description=f.description),typeof f.paramsSchema<"u"&&(c.inputSchema=$s(f.paramsSchema)),typeof f.outputSchema<"u"&&(c.outputSchema=$s(f.outputSchema)),typeof f.callback<"u"&&(c.handler=f.callback),typeof f.annotations<"u"&&(c.annotations=f.annotations),typeof f._meta<"u"&&(c._meta=f._meta),typeof f.enabled<"u"&&(c.enabled=f.enabled),this.sendToolListChanged()}};return this._registeredTools[t]=c,this.setToolRequestHandlers(),this.sendToolListChanged(),c}tool(t,...n){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);let r,s,i,o;if(typeof n[0]=="string"&&(r=n.shift()),n.length>1){const l=n[0];cd(l)?(s=n.shift(),n.length>1&&typeof n[0]=="object"&&n[0]!==null&&!cd(n[0])&&(o=n.shift())):typeof l=="object"&&l!==null&&(o=n.shift())}const a=n[0];return this._createRegisteredTool(t,void 0,r,s,i,o,{taskSupport:"forbidden"},void 0,a)}registerTool(t,n,r){if(this._registeredTools[t])throw new Error(`Tool ${t} is already registered`);const{title:s,description:i,inputSchema:o,outputSchema:a,annotations:l,_meta:u}=n;return this._createRegisteredTool(t,s,i,o,a,l,{taskSupport:"forbidden"},u,r)}prompt(t,...n){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);let r;typeof n[0]=="string"&&(r=n.shift());let s;n.length>1&&(s=n.shift());const i=n[0],o=this._createRegisteredPrompt(t,void 0,r,s,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}registerPrompt(t,n,r){if(this._registeredPrompts[t])throw new Error(`Prompt ${t} is already registered`);const{title:s,description:i,argsSchema:o}=n,a=this._createRegisteredPrompt(t,s,i,o,r);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(t,n){return this.server.sendLoggingMessage(t,n)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}}const MC={type:"object",properties:{}};function F0(e){return e!==null&&typeof e=="object"&&"parse"in e&&typeof e.parse=="function"&&"safeParse"in e&&typeof e.safeParse=="function"}function DC(e){return"_def"in e||"_zod"in e||F0(e)}function cd(e){return typeof e!="object"||e===null||DC(e)?!1:Object.keys(e).length===0?!0:Object.values(e).some(F0)}function cg(e){if(e)return cd(e)?$s(e):e}function LC(e){const t=vo(e);return t?Object.entries(t).map(([n,r])=>{const s=ib(r),i=ob(r);return{name:n,description:s,required:!i}}):[]}function Xn(e){const t=vo(e),n=t==null?void 0:t.method;if(!n)throw new Error("Schema is missing a method literal");const r=o_(n);if(typeof r=="string")return r;throw new Error("Schema method literal must be a string")}function dg(e){return{completion:{values:e.slice(0,100),total:e.length,hasMore:e.length>100}}}const pi={completion:{values:[],hasMore:!1}};class ZC{constructor(t){t.environment=="staging"||t.environment=="production"?(this.generator=new Nk,this.messenger=new Ck,this.storage=new Zk(t.id,t.token)):(this.generator=new Ok,this.messenger=new zk,this.storage=new Lk(t.id,t.token)),this.mcp=new AC({name:"stage-mcp-server",version:"1.0.0"},{capabilities:{logging:{}}})}}var fg;(function(e){e.development="development",e.staging="staging",e.production="production",e.testing="testing"})(fg||(fg={}));const UC={id:0,userId:"1",environment:"development",initState:null,token:"test",characters:{},config:null,messageState:null,users:{},chatState:null},hg={error:null,success:!0,chatState:null,initState:null,messageState:null},pg={chatState:null,systemMessage:null,error:null,extensionMessage:null,modifiedMessage:null,messageState:null,stageDirections:null},FC=()=>ar.createElement("div",{className:"outer"},ar.createElement("div",{className:"middle"},ar.createElement("div",{className:"spinner"},ar.createElement("img",{className:"loading-spinner",src:"https://avatars.charhub.io/flower.png",alt:"Loading..."}))));var Zu=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class mg extends Error{constructor(t){super(`Iframe Transport error: ${t}`)}}class VC{constructor(t){var n,r;this._messageQueue=[],this._started=!1,this._targetOrigin=(n=t==null?void 0:t.targetOrigin)!==null&&n!==void 0?n:"*",this._allowedOrigins=(r=t==null?void 0:t.allowedOrigins)!==null&&r!==void 0?r:new Set(this._targetOrigin)}_isOriginAllowed(t){return this._allowedOrigins.has(t)||t.endsWith("chub.ai")||t.endsWith("chub-ui.pages.dev")?!0:this._targetOrigin!=="*"&&t===this._targetOrigin}_setupMessageListener(){this._messageListener=t=>{var n;if(this._isOriginAllowed(t.origin)&&t.source===window.parent)try{const r=t.data;switch(r==null?void 0:r.type){case"iframe-init":window.parent.postMessage({type:"iframe-ready"},this._targetOrigin),this._processQueue();break;case"mcp-message":r.payload&&(Array.isArray(r.payload)?r.payload:[r.payload]).forEach(i=>{const o=gT.parse(i);this.onmessage?this.onmessage(o):this._messageQueue.push({message:o})});break;case"iframe-close":this.close();break;default:break}}catch(r){(n=this.onerror)===null||n===void 0||n.call(this,r),this._sendError(r)}},window.addEventListener("message",this._messageListener)}_processQueue(){for(;this._messageQueue.length>0&&this.onmessage;){const t=this._messageQueue.shift();this.onmessage(t.message)}}_sendError(t){if(window.parent)try{window.parent.postMessage({type:"iframe-error",error:t.message},this._targetOrigin)}catch{}}start(){return Zu(this,void 0,void 0,function*(){if(!this._started){if(!window.parent)throw new mg("Not in iframe context");this._setupMessageListener(),this._started=!0,this._processQueue()}})}close(){return Zu(this,void 0,void 0,function*(){var t;this._started=!1,this._messageListener&&(window.removeEventListener("message",this._messageListener),this._messageListener=void 0),this._messageQueue=[],(t=this.onclose)===null||t===void 0||t.call(this)})}send(t,n){return Zu(this,void 0,void 0,function*(){var r;if(!window.parent)throw new mg("Not in iframe context");try{window.parent.postMessage({type:"mcp-message",payload:t},this._targetOrigin)}catch(s){throw(r=this.onerror)===null||r===void 0||r.call(this,s),s}})}}var HC=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const qC="INIT",BC="BEFORE",WC="AFTER",KC="SET",Uu="CALL",GC=new Set([qC,BC,WC,KC]),gg=new VC({targetOrigin:"*",allowedOrigins:af}),QC=({factory:e,debug:t=!1})=>{const[n,r]=Ut.useState(null),[s,i]=Ut.useState(new Date),[o,a]=Ut.useState({key:"",value:{}});function l(u,c){window.parent.postMessage({messageType:u,data:c},"*")}return Ut.useEffect(()=>{const u=c=>HC(void 0,void 0,void 0,function*(){try{if(!af.has(c.origin)){console.warn("Received message from unauthorized origin: ",c.origin);return}if(c.source!==window.parent){console.warn("Received message from unauthorized source: ",c.source);return}const{messageType:f,data:m}=c.data;t&&GC.has(f)&&(console.debug("Stages iFrame received event from origin: ",c.origin),console.debug("Stages iFrame received data: ",c.data));const v=f+": "+JSON.stringify(m);if(o.key==v)t&&console.debug("Already seen, returning previous"),l(f,o.value);else if(f=="INIT")if(n!=null)console.warn("INIT message for non-null stage."),l("INIT",Object.assign({},hg)),a(Object.assign(Object.assign({},o),{key:v}));else{let g=e(Object.assign(Object.assign({},UC),m));const _=yield g.load(),w=Object.assign(Object.assign({},hg),_);g.mcp.connect(gg),gg.start(),a({key:v,value:w}),l("INIT",w),r(g)}else if(n==null)console.warn("Null stage instance for non-INIT message.");else if(f=="BEFORE"){const g=yield n==null?void 0:n.beforePrompt(Object.assign({},m)),_=Object.assign(Object.assign({},pg),g);a({key:v,value:_}),l("BEFORE",_)}else if(f=="AFTER"){const g=yield n==null?void 0:n.afterResponse(Object.assign({},m)),_=Object.assign(Object.assign({},pg),g);a({key:v,value:_}),l("AFTER",_)}else if(f=="SET")yield n==null?void 0:n.setState(m),a({key:v,value:{}}),l("SET",{});else if(f==Uu){const{functionName:g,parameters:_}=m;if(n.hasOwnProperty(g)){const w=n[g](_);l(Uu,{functionName:g,result:w})}else console.error(`Function '${g}' does not exist on the stage.`),l(Uu,{functionName:g,result:null})}}catch(f){console.error("Stages iFrame had an unexpected error: ",f),window.parent.postMessage({messageType:"ERROR",data:{name:f.name,message:f.message,stack:f.stack}})}finally{i(new Date)}});return window.removeEventListener("message",u),window.addEventListener("message",u),()=>{window.removeEventListener("message",u)}},[n]),ar.createElement(ar.Fragment,null,ar.createElement("div",{style:{display:"none"}},String(s),window.location.href),n==null?ar.createElement(FC,null):n.render())},V0={speaker_id:"1",parent_id:null,is_main:!0};Object.assign(Object.assign({},V0),{message:""});Object.assign(Object.assign({},V0),{stage_directions:null,participants:null});var yg;(function(e){e.biped="biped",e.quadruped="quadruped",e.unknown="unknown"})(yg||(yg={}));var vg;(function(e){e.glb="glb",e.vrm="vrm",e.stl="stl",e.obj="obj",e.ply="ply"})(vg||(vg={}));var _g;(function(e){e.turbo="turbo",e.fast="fast",e.standard="standard"})(_g||(_g={}));const Xe={enabled:!0,strictness:2,memory_depth:15,ui_enabled:!0,ui_max_notes:10,ui_show_status:!0,ui_show_timestamps:!0,max_ui_notes_per_20:null,note_scene_summary:!0,note_emotion_delta:!0,note_phase:!0,note_proximity:!0,note_consent:!0,note_subtext:!0,note_silence:!0,note_drift:!0,note_scar_recall:!0};function na(e,t,n){return Number.isNaN(e)?t:Math.max(t,Math.min(n,e))}function ra(e){const t=e||{},n=typeof t.enabled=="boolean"?t.enabled:Xe.enabled,r=typeof t.strictness=="number"?na(Math.floor(t.strictness),1,3):Xe.strictness,s=typeof t.memory_depth=="number"?na(Math.floor(t.memory_depth),5,30):Xe.memory_depth,i=typeof t.ui_enabled=="boolean"?t.ui_enabled:Xe.ui_enabled,o=typeof t.ui_max_notes=="number"?na(Math.floor(t.ui_max_notes),1,50):Xe.ui_max_notes,a=typeof t.ui_show_status=="boolean"?t.ui_show_status:Xe.ui_show_status,l=typeof t.ui_show_timestamps=="boolean"?t.ui_show_timestamps:Xe.ui_show_timestamps,u=typeof t.max_ui_notes_per_20=="number"&&Number.isFinite(t.max_ui_notes_per_20)?Math.floor(t.max_ui_notes_per_20):null,c=u==null?Xe.max_ui_notes_per_20:u<0?null:na(u,0,20),f=typeof t.note_scene_summary=="boolean"?t.note_scene_summary:Xe.note_scene_summary,m=typeof t.note_emotion_delta=="boolean"?t.note_emotion_delta:Xe.note_emotion_delta,v=typeof t.note_phase=="boolean"?t.note_phase:Xe.note_phase,g=typeof t.note_proximity=="boolean"?t.note_proximity:Xe.note_proximity,_=typeof t.note_consent=="boolean"?t.note_consent:Xe.note_consent,w=typeof t.note_subtext=="boolean"?t.note_subtext:Xe.note_subtext,d=typeof t.note_silence=="boolean"?t.note_silence:Xe.note_silence,h=typeof t.note_drift=="boolean"?t.note_drift:Xe.note_drift,p=typeof t.note_scar_recall=="boolean"?t.note_scar_recall:Xe.note_scar_recall;return{enabled:n,strictness:r,memory_depth:s,ui_enabled:i,ui_max_notes:o,ui_show_status:a,ui_show_timestamps:l,max_ui_notes_per_20:c,note_scene_summary:f,note_emotion_delta:m,note_phase:v,note_proximity:g,note_consent:_,note_subtext:w,note_silence:d,note_drift:h,note_scar_recall:p,...Object.keys(t).reduce((k,$)=>(["enabled","strictness","memory_depth","ui_enabled","ui_max_notes","ui_show_status","ui_show_timestamps","max_ui_notes_per_20","note_scene_summary","note_emotion_delta","note_phase","note_proximity","note_consent","note_subtext","note_silence","note_drift","note_scar_recall"].includes($)||(k[$]=t[$]),k),{})}}function Ei(e,t){const n=e.match(t);return n?n.length:0}function er(e,t,n=1){let r=0;for(const s of t)s.test(e)&&(r+=n);return r}function JC(e){const t=e||"";let n=0;const r=Ei(t,/!/g),s=Ei(t,/\?/g),i=Ei(t,/\b[A-Z]{3,}\b/g),o=Ei(t,/([a-z])\1{2,}/gi);return r>=1&&(n+=1),r>=3&&(n+=1),s>=3&&(n+=1),i>=2&&(n+=1),o>=1&&(n+=1),/\b(very|really|so|extremely|absolutely|completely|totally|utterly|incredibly)\b/i.test(t)&&(n+=1),/\b(furious|devastated|heartbroken|terrified|desperate|sobbing|screaming|shaking|trembling|panicking)\b/i.test(t)&&(n+=2),n>=3?"high":n>=1?"medium":"low"}function YC(e){if(!e||e.trim().length===0)return{tone:"neutral",intensity:"low"};const t=e,n=JC(t),r=er(t,[/\b(sad|sorrow|tear(?:s|ful)?|cry(?:ing)?|sob(?:bing)?|regret(?:s|ted)?|heartbroken|grief)\b/i,/\b(apolog(?:y|ize|ise)|sorry)\b/i,/\b(hurt|aching|broken)\b/i]),s=er(t,[/\b(angry|furious|enraged|livid|mad|rage)\b/i,/\b(snaps?|snarls?|glares?|seeth(?:es|ing))\b/i,/\b(shouts?|yells?|screams?)\b/i,/\bhow dare you\b/i]),i=er(t,[/\b(anxious|nervous|worried|uneasy|afraid|scared|fear(?:ful)?|panic(?:s|king)?)\b/i,/\b(trembl(?:e|es|ing)|shak(?:e|es|ing))\b/i]),o=er(t,[/\b(love|adore|cherish|admire)\b/i,/\b(miss you|care about you)\b/i,/\b(affectionately|tenderly|softly)\b/i]),a=er(t,[/\b(blush(?:es|ed|ing)?|flustered|embarrass(?:ed|ing)|self-conscious)\b/i]),l=er(t,[/\b(jealous|possessive|envious|envy)\b/i]),u=er(t,[/\b(excited|thrilled|giddy|eager|can'?t wait)\b/i])+(Ei(t,/!/g)>=2?1:0),c=er(t,[/\b(tense|awkward|stiff|rigid|strained)\b/i]),m=[{tone:"affection",score:o},{tone:"angry",score:s},{tone:"anxious",score:i},{tone:"sad",score:r},{tone:"embarrassed",score:a},{tone:"jealous",score:l},{tone:"excited",score:u},{tone:"tense",score:c}].sort((w,d)=>d.score-w.score)[0],v=m&&m.score>0?m.tone:"neutral";return{tone:v,intensity:(v==="sad"||v==="affection")&&n==="low"?"medium":n}}function XC(e,t){const n=t.slice(-5);if(!n||n.length===0)return{detected:!1,summary:""};const r=h=>({low:0,medium:1,high:2})[h.intensity]??0,s=Math.round(n.reduce((h,p)=>h+r(p),0)/n.length),i=n.map(h=>h.tone),o=i[i.length-1]??"",a=Array.from(new Set(i)).slice(-3),l=r(e),u=o.length===0?!1:o!==e.tone,c=l-s,f=i.length>=3&&i.every(h=>h===o),m=h=>["affection","excited"].includes(h)?"pos":["sad","angry","anxious","jealous","tense"].includes(h)?"neg":"neutral",v=m(o),g=m(e.tone),_=v!==g&&v!=="neutral"&&g!=="neutral",w=c>=2||_&&f&&l>=1||u&&f&&Math.abs(c)>=1,d=`from [${a.join(", ")}] (${s}) to ${e.tone} (${l})`;return{detected:w,summary:d}}function e2(e,t){const n=[];if(!e||e.trim().length===0)return n;const r=e,s=i=>{n.some(o=>o.type===i.type)||n.push(i)};return/\b(I\s+(?:feel|felt|confess|admit|can'?t help)\b|\bconfess(?:ed)?\b|\bcome(?:s|ing)? clean\b|\bthe truth is\b)/i.test(r)&&s({type:"emotional_disclosure",suggestedPhase:"Familiar",text:r.slice(0,200)}),/\b(I need you|don'?t leave|please stay|I can'?t live|depend on you|rely on you|I can'?t (?:do|be) (?:this|without you))\b/i.test(r)&&s({type:"dependency",suggestedPhase:"Charged",text:r.slice(0,200)}),/\b(hugs?|embrace(?:s|d)?|cuddl(?:e|es|ed|ing)|wraps? (?:an?|their) arm|takes? (?:your|his|her|their) hand|interlaces fingers|holds hands|leans? in|moves? closer|closes the distance|press(?:es|ed)? against|rests? (?:a|his|her|their) hand (?:on|against) (?:your|his|her|their) (?:arm|shoulder|waist|back))\b/i.test(r)&&s({type:"physical_closeness",suggestedPhase:"Charged",text:r.slice(0,200)}),/\b(kiss(?:es|ed|ing)? on the lips|making love|have sex|sex\b|intercourse|nude|strip(?:s|ped|ping)?|undress(?:es|ed)?|moan(?:s|ed|ing)?|orgasm)\b/i.test(r)&&s({type:"physical_intimacy",suggestedPhase:"Intimate",text:r.slice(0,200)}),/\b(you'?re (?:beautiful|pretty|gorgeous|handsome)|can'?t stop looking at you|you look (?:good|amazing)|so cute|so hot|you smell (?:good|nice))\b/i.test(r)&&s({type:"attraction_language",suggestedPhase:"Familiar",text:r.slice(0,200)}),/\b(I love you|in love|falling for you|can'?t stop thinking about you)\b/i.test(r)&&s({type:"love_confession",suggestedPhase:"Charged",text:r.slice(0,200)}),/\b(date\b|girlfriend\b|boyfriend\b|partner\b|exclusive\b|relationship\b)\b/i.test(r)&&s({type:"commitment_language",suggestedPhase:"Charged",text:r.slice(0,200)}),t.tone==="affection"&&t.intensity==="high"&&s({type:"affection_high",suggestedPhase:"Charged",text:"high-affection"}),n}function t2(e){if(!e)return[];const t=e,n=new Set;return(/\b(confess(?:ed)?|admit(?:s|ted)?|come(?:s|ing)? clean|the truth is)\b/i.test(t)||/\b(I (?:need|have) to be honest|I have to tell you something|I should tell you|I owe you the truth)\b/i.test(t))&&n.add("confession"),(/\b(betray(?:s|ed)?|cheat(?:s|ed|ing)?|deceiv(?:e|es|ed)|gaslight(?:s|ed|ing)?|lie(?:s|d)? to)\b/i.test(t)||/\b(hid(?:es|ing)? it|kept it from you|kept this from you|went behind your back)\b/i.test(t))&&n.add("betrayal"),(/\b(reject(?:s|ed)?|turns you down|pushes you away|not interested|breaks up|says no)\b/i.test(t)||/\b(let'?s just be friends|I don'?t feel that way|not like that|I can'?t be with you|we shouldn'?t)\b/i.test(t))&&n.add("rejection"),(/\b(argue(?:s|d)?|fight(?:s|ing)?|conflict|shout(?:s|ed|ing)?|yell(?:s|ed|ing)?|storm(?:s|ed)? off|slams? the door|snaps? at)\b/i.test(t)||/\b(gives the silent treatment|won'?t talk to|refuses to speak)\b/i.test(t))&&n.add("conflict"),Array.from(n)}function n2(e){if(!e)return[];const t=new Set,n=e;return(/\b(um|uh|er)\b/i.test(n)||/\.\.\./.test(n)||/\b(hesitates|pauses)\b/i.test(n)||/\b(not sure|maybe|i guess)\b/i.test(n))&&t.add("hesitation/uncertainty"),/\b(changes the subject|deflects|dodges the question|avoids eye contact|looks away|shrugs it off)\b/i.test(n)&&t.add("avoidance"),/\b(careful not to|holding back|guarded|keeps distance emotionally|measured tone|doesn'?t say it outright)\b/i.test(n)&&t.add("guarded interest"),/\b(afraid to ask|fear of rejection|worried you'?ll say no|doesn'?t want to scare you off)\b/i.test(n)&&t.add("fear of rejection"),/\b(swallow(?:s|ed)?|fidgets?|chews? (?:their|his|her) lip|voice (?:drops|quiet|small))\b/i.test(n)&&t.add("nervous tell"),Array.from(t)}function r2(e,t){if(!Array.isArray(e)||e.length===0)return{note:null,nextIdx:t??-1};const n=t??-1,r=e.length-1;return r===n?{note:null,nextIdx:n}:{note:`Recall: unresolved ${e[r].event} persists. Keep continuity in tone and stakes.`,nextIdx:r}}function s2(e){const t=e.strictness===3?8:e.strictness===1?15:12;if((e.driftNotes||[]).filter(l=>e.turnIndex-l<t).length>0)return null;const r=(e.phaseHistory||[]).slice(-3),s=r.length>=2&&new Set(r.map(l=>l.phase)).size===1,i=(e.recentEmotions||[]).slice(-5),o=new Set(i.map(l=>l.tone)),a=i.length>=3&&o.size<=1;return s&&a?"Drift detected: relationship and emotion have stagnated. Suggest gentle narrative pressure or new beat.":null}function i2(e){if(e==null)return null;const t=e.trim();if(t.length===0)return"Silence detected: consider clarifying hesitation or disengagement.";const n=t.length<25,r=/(maybe|i guess|not sure|could be|i dunno|perhaps)/i.test(t),s=/^(ok|okay|sure|fine|whatever|yeah)\.?$/i.test(t);return n&&(r||s)?"Brief/non-committal reply: may signal hesitation or disengagement.":/\.\.\.|\bpauses\b|\bhesitates\b/i.test(t)?"Pause noted: consider leaning into hesitation or giving space.":null}function o2(e,t){const n=["Distant","Nearby","Touching","Intimate"],r=t||"Distant";let s=r;const i=e;/\b(across the room|keeps (?:his|her|their) distance|stands back|far away|distant)\b/i.test(i)&&(s="Distant"),/\b(steps closer|approaches?|closes the distance|sits beside|next to|nearby|close by|leans closer)\b/i.test(i)&&(s="Nearby"),/\b(touch(?:es|ing)?|hand in hand|holds?|takes? (?:your|his|her|their) hand|interlaces fingers|brush(?:es|ed)?|rests? (?:a|his|her|their) hand|hand on|fingers?\b|caress(?:es|ed)?)\b/i.test(i)&&(s="Touching"),/\b(embrace(?:s|d)? tightly|press(?:es|ed)? against|kiss(?:es|ed|ing)?|straddles|in (?:his|her|their) lap)\b/i.test(i)&&(s="Intimate");const o=n.indexOf(r),l=n.indexOf(s)>o+1;return{next:s,skipped:l,changed:s!==r}}function a2(e){if(!e)return[];const t=new Set,n=e;return/\byou (?:feel|felt|are overcome|can'?t help but feel|can'?t resist)\b/i.test(n)&&t.add("assigns emotions to the user"),/\b(you must|you have no choice|without your consent|against your will|ignoring your protest|forces you|doesn'?t let you|won'?t let you)\b/i.test(n)&&t.add("forces decisions/consent onto the user"),/\b(grabs you|pins you|holds you down|forces a kiss|pushes you onto|gropes you)\b/i.test(n)&&t.add("coercive physical action"),/\b(inside your mind|your thoughts say|your inner voice|you think to yourself|you think|you wonder|you remember)\b/i.test(n)&&t.add("describes internal monologue for the user"),/\b(your body (?:betrays|responds)|a shiver runs through you)\b/i.test(n)&&t.add("describes involuntary bodily response for the user"),Array.from(t)}function l2(e){if(!e)return null;const t=[];return e.location&&t.push(`${e.location}`),e.timeOfDay&&t.push(`${e.timeOfDay}`),e.lingeringEmotion&&t.push(`mood: ${e.lingeringEmotion}`),Array.isArray(e.unresolvedBeats)&&e.unresolvedBeats.length>0&&t.push(`${e.unresolvedBeats.length} unresolved beats`),t.length>0?t.join("  "):null}function u2(e,t,n){const r=Object.assign({},e||{}),s=t,i=s.match(/\b(?:at|in|inside|into|on|by)\s+(?:the|a|an)\s+([A-Za-z0-9'\- ]{3,60})\b/i);if(i){const l=i[1].trim(),u=l.toLowerCase().replace(/\s+/g," ").trim();!new Set(["end","beginning","middle","moment","meantime","morning","afternoon","evening","night","dark","light"]).has(u)&&!/^(end|the end|the beginning|the moment|the meantime)$/.test(u)&&(r.location=l)}const o=/\b(early morning|morning|afternoon|evening|late night|night|noon|midnight|dawn|dusk|tonight)\b/i.exec(s);return o&&(r.timeOfDay=o[1].toLowerCase().replace(/\s+/g," ")),n&&n.tone&&n.tone!=="neutral"&&(r.lingeringEmotion=n.tone),/\b(?:still|remain|unresolved|unfinished|left hanging|pending|unspoken|between them)\b/i.test(s)&&(r.unresolvedBeats=(r.unresolvedBeats||[]).concat([s.trim()]).slice(-10)),r}class c2 extends ZC{constructor(n){super(n);nt(this,"myInternalState");nt(this,"defaultConfig",{...Xe});const{characters:r,users:s,config:i,messageState:o,chatState:a}=n,l=ra(i);this.myInternalState=o??{lastEmotions:[],memoryScars:[],proximity:"Distant",phase:"Neutral",overlayNotes:[]},this.myInternalState.numUsers=s?Object.keys(s).length:0,this.myInternalState.numChars=r?Object.keys(r).length:0,this._effectiveConfig=l,this._chatState=a||{scene:null}}async load(){return{success:!0,error:null,initState:null,chatState:null,messageState:{...this.myInternalState},state:{...this.myInternalState}}}async setState(n){var r;if(n!=null){this.myInternalState={...this.myInternalState,...n},Array.isArray(this.myInternalState.overlayNotes)||(this.myInternalState.overlayNotes=[]);const s=ra(this.config);this._effectiveConfig=s;const i=typeof s.ui_max_notes=="number"?s.ui_max_notes:this.defaultConfig.ui_max_notes;Array.isArray(this.myInternalState.overlayNotes)&&(this.myInternalState.overlayNotes=this.myInternalState.overlayNotes.slice(-i));const o=((r=this._effectiveConfig)==null?void 0:r.memory_depth)||this.defaultConfig.memory_depth;Array.isArray(this.myInternalState.memoryScars)&&(this.myInternalState.memoryScars=this.myInternalState.memoryScars.slice(-o)),Array.isArray(this.myInternalState.lastEmotions)&&(this.myInternalState.lastEmotions=this.myInternalState.lastEmotions.slice(-5))}}async beforePrompt(n){try{const r=ra(this.config);this._effectiveConfig=r;const s=typeof r.strictness=="number"?Math.floor(r.strictness):2;if(!r.enabled){const a=this._chatState||null;return{stageDirections:null,messageState:{...this.myInternalState},modifiedMessage:null,systemMessage:null,error:null,chatState:a||null}}const i=this._chatState||null;if(this.myInternalState.lastBeforePromptAt=Date.now(),r.ui_enabled&&r.note_scene_summary&&s>=2&&i&&i.scene){const a=l2(i.scene);if(a){const l=`Scene summary: ${a}`;if(this.myInternalState.lastSceneSummary!==l){const u=typeof r.ui_max_notes=="number"?r.ui_max_notes:this.defaultConfig.ui_max_notes;this.myInternalState.overlayNotes=(this.myInternalState.overlayNotes||[]).concat([{text:l,at:Date.now()}]).slice(-u),this.myInternalState.lastSceneSummary=l}}}const o={...this.myInternalState};return{stageDirections:null,messageState:o,state:o,modifiedMessage:null,systemMessage:null,error:null,chatState:i||null}}catch(r){return console.error("Stage beforePrompt error:",r),{stageDirections:null,messageState:{...this.myInternalState},state:{...this.myInternalState},modifiedMessage:null,systemMessage:null,error:null,chatState:this._chatState||null}}}async afterResponse(n){var r;try{const s=typeof(n==null?void 0:n.content)=="string"?n.content:"",i=ra(this.config);this._effectiveConfig=i;const o=typeof i.strictness=="number"?Math.floor(i.strictness):2;if(!i.enabled)return{stageDirections:null,messageState:this.myInternalState,modifiedMessage:null,error:null,systemMessage:null,chatState:this._chatState||null};const a=(this.myInternalState.turnIndex||0)+1;this.myInternalState.turnIndex=a,this.myInternalState.lastAfterResponseAt=Date.now();const u=(Array.isArray(this.myInternalState.systemNoteHistory)?this.myInternalState.systemNoteHistory:[]).filter(ee=>ee>a-20),c=typeof i.max_ui_notes_per_20=="number"?i.max_ui_notes_per_20:{1:0,2:2,3:6}[o]??0,f=!!i.ui_enabled&&u.length<c;let m=!1;const v=YC(s),g=this.myInternalState.lastEmotions||[],_=t2(s);if(_.length>0){const ee=Date.now(),M=((r=this._effectiveConfig)==null?void 0:r.memory_depth)||this.defaultConfig.memory_depth;this.myInternalState.memoryScars=(this.myInternalState.memoryScars||[]).concat(_.map(Y=>({event:Y,text:s.slice(0,500),at:ee}))).slice(-M)}const w=this._chatState||{scene:null},d=u2((w==null?void 0:w.scene)||null,s,v),h={...w||{},scene:d};this._chatState=h;const p=o2(s,this.myInternalState.proximity);let k=null;if(p.skipped&&(k=`System note: proximity jumped to ${p.next}. Consider describing intermediate steps.`),p.changed){const ee=Date.now();this.myInternalState.proximity=p.next,this.myInternalState.proximityHistory=(this.myInternalState.proximityHistory||[]).concat([{state:p.next,at:ee}]).slice(-50)}const $=e2(s,v);this.myInternalState.signalHistory=(this.myInternalState.signalHistory||[]).concat($).slice(-20);const R=(this.myInternalState.signalHistory||[]).slice(-5),x=["Neutral","Familiar","Charged","Intimate"],j=this.myInternalState.phase||"Neutral",re=Math.max(0,x.indexOf(j)),te={};for(const ee of R)te[ee.suggestedPhase]=(te[ee.suggestedPhase]||0)+1;const V=2;let X=null;for(let ee=x.length-1;ee>=0;ee--){const M=x[ee];if((te[M]||0)>=V){X=M;break}}let fe=null;if(X){const ee=x.indexOf(X);ee>re+1?fe=`System note: relationship signals suggest ${X} but current phase is ${j}. Consider intermediate steps.`:ee===re+1&&(this.myInternalState.phase=X,this.myInternalState.phaseHistory=(this.myInternalState.phaseHistory||[]).concat([{phase:X,at:Date.now()}]).slice(-50))}let D=null;const Fe=XC(v,g);if(i.note_emotion_delta&&Fe.detected&&i.enabled&&o>=2&&f){const ee={1:1,2:2,3:3}[o]||2;this.myInternalState.lastAnnotations=this.myInternalState.lastAnnotations||[],this.myInternalState.lastAnnotations.filter(Y=>Y>a-20).length<ee&&(D=`System note: abrupt emotional shift detected (${Fe.summary}). Consider adding a transitional cue.`,this.myInternalState.lastAnnotations.push(a),this.myInternalState.lastAnnotations=this.myInternalState.lastAnnotations.slice(-20))}this.myInternalState.lastEmotions=g.concat(v).slice(-5),i.note_phase&&fe&&(f||m||D!=null)&&(D=D?`${D}  ${fe}`:fe),i.note_proximity&&k&&(f||m||D!=null)&&(D=D?`${D}  ${k}`:k);const ht=a2(s);if(i.note_consent&&ht.length>0){m=!0,this.myInternalState.consentAlerts=(this.myInternalState.consentAlerts||[]).concat([Date.now()]).slice(-50);const ee=`Consent/agency alert: ${ht.join("; ")}`;D=D?`${D}  ${ee}`:ee}if(i.note_subtext&&o>=2&&(f||m||D!=null)){const ee=n2(s);if(ee.length>0){const M=`Subtext: ${ee.join("; ")}`;D=D?`${D}  ${M}`:M}}if(i.note_silence&&o>=3&&(f||m||D!=null)){const ee=i2(s);ee&&(this.myInternalState.silenceHistory=(this.myInternalState.silenceHistory||[]).concat([Date.now()]).slice(-50),D=D?`${D}  ${ee}`:ee)}if(i.note_drift&&o>=3&&(f||m||D!=null)){const ee=s2({recentEmotions:g,phaseHistory:this.myInternalState.phaseHistory||[],strictness:o,turnIndex:a,driftNotes:this.myInternalState.driftNotes||[]});ee&&(this.myInternalState.driftNotes=(this.myInternalState.driftNotes||[]).concat([a]).slice(-50),D=D?`${D}  ${ee}`:ee)}if(i.note_scar_recall&&o>=3&&(f||m||D!=null)){const ee=r2(this.myInternalState.memoryScars||[],this.myInternalState.lastScarRecallIdx);ee.note&&(this.myInternalState.lastScarRecallIdx=ee.nextIdx,D=D?`${D}  ${ee.note}`:ee.note)}if(i.ui_enabled&&D!=null){const ee=typeof i.ui_max_notes=="number"?i.ui_max_notes:this.defaultConfig.ui_max_notes;this.myInternalState.overlayNotes=(this.myInternalState.overlayNotes||[]).concat([{text:D,at:Date.now()}]).slice(-ee),this.myInternalState.systemNoteHistory=u.concat([a]).slice(-100)}return{stageDirections:null,messageState:this.myInternalState,state:this.myInternalState,modifiedMessage:null,error:null,systemMessage:null,chatState:h}}catch(s){return console.error("Stage afterResponse error:",s),{stageDirections:null,messageState:this.myInternalState,state:this.myInternalState,modifiedMessage:null,systemMessage:null,error:null,chatState:this._chatState||null}}}render(){return wt.jsx(d2,{stageRef:this})}}function d2({stageRef:e}){var w,d,h;const[t,n]=Ut.useState(!1),[r,s]=Ut.useState(0),i=Ut.useRef(null);Ut.useEffect(()=>{const p=window.setInterval(()=>s(k=>k+1),1e3);return()=>window.clearInterval(p)},[]);const o=(e==null?void 0:e._effectiveConfig)||(e==null?void 0:e.defaultConfig)||{},a=!(o&&o.ui_enabled===!1),l=((w=e==null?void 0:e.myInternalState)==null?void 0:w.overlayNotes)||[],u=(d=e==null?void 0:e.myInternalState)==null?void 0:d.turnIndex,c=(h=e==null?void 0:e.myInternalState)==null?void 0:h.lastAfterResponseAt,f=typeof o.ui_max_notes=="number"?Math.max(1,Math.min(50,Math.floor(o.ui_max_notes))):10,m=Ut.useMemo(()=>[...l].slice(-f),[l,r,f]),v=m.length>0;Ut.useEffect(()=>{if(!t)return;const p=i.current;p&&(p.scrollTop=p.scrollHeight)},[t,l.length]);const g=typeof document<"u"?document.body:null;if(!g)return wt.jsx(wt.Fragment,{});if(!a)return wt.jsx(wt.Fragment,{});const _=wt.jsxs("div",{style:{position:"fixed",bottom:"12px",right:"12px",zIndex:2147483647,fontFamily:"Inter, system-ui, sans-serif",color:"#111",pointerEvents:"auto"},children:[wt.jsx("button",{type:"button",onClick:()=>n(p=>!p),style:{background:"#f4f4f4",border:"1px solid #d0d0d0",borderRadius:"16px",padding:"6px 10px",boxShadow:"0 2px 6px rgba(0,0,0,0.12)",cursor:"pointer",fontSize:"12px",pointerEvents:"auto"},"aria-expanded":t,"aria-label":"Show romance realism notes",children:`Realism notes${v?` (${l.length})`:""}${typeof u=="number"?`  t${u}`:""}`}),t&&wt.jsxs("div",{ref:i,style:{marginTop:"6px",width:"260px",maxHeight:"240px",overflowY:"auto",background:"#fff",border:"1px solid #d0d0d0",borderRadius:"12px",boxShadow:"0 8px 18px rgba(0,0,0,0.16)",padding:"10px",fontSize:"12px",lineHeight:1.4,pointerEvents:"auto"},children:[o.ui_show_status!==!1&&wt.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"#555",marginBottom:"8px"},children:`Status  ${typeof u=="number"?`turn ${u}`:"no turns yet"}${typeof c=="number"?`  last response ${new Date(c).toLocaleTimeString()}`:""}`}),!v&&wt.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"No notes yet. Notes will appear when the stage emits guidance."}),m.map((p,k)=>wt.jsxs("div",{style:{marginBottom:k===m.length-1?0:"10px"},children:[o.ui_show_timestamps!==!1&&wt.jsxs("div",{style:{fontWeight:600,fontSize:"11px",color:"#555"},children:["Note  ",new Date(p.at).toLocaleTimeString()]}),wt.jsx("div",{style:{marginTop:"2px",whiteSpace:"pre-wrap"},children:p.text})]},`${p.at}-${k}`))]})]});return Ov.createPortal(_,g)}function f2(){return console.info("Running in production"),wt.jsx(QC,{factory:e=>new c2(e)})}Fu.createRoot(document.getElementById("root")).render(wt.jsx(f2,{}));
